{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"names":["g","t","e","r","l","name","styleName","j","then","o","h","Promise","reject","y","c","d","data","U","portal","getDefault","url","baseUrl","origin","N","items","find","symbolName","w","P","thumbnail","href","S","imageData","D","styleUrl","styleOrigin","replace"],"mappings":"kHAAA,8OAIikB,SAASA,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,OAAOH,EAAEI,KAAKJ,EAAEK,WAAW,4BAA4BL,EAAEK,UAAUC,EAAEN,EAAEC,EAAEE,GAAG,eAAEH,EAAEC,EAAEE,GAAGI,KAAMC,GAAGC,EAAED,EAAER,EAAEI,KAAKH,EAAEC,EAAEC,IAAKO,QAAQC,OAAO,IAAI,OAAE,uDAAuD,2CAA2C,SAASF,EAAEG,EAAEC,EAAEd,EAAEU,EAAEH,GAAG,MAAMQ,EAAEF,EAAEG,KAAKC,EAAE,CAACC,OAAOlB,GAAGA,EAAEkB,QAAQ,OAAEC,aAAaC,IAAI,eAAEP,EAAEQ,SAASC,OAAO,eAAeC,EAAER,EAAES,MAAMC,KAAMxB,GAAGA,EAAEI,OAAOS,GAAI,IAAIS,EAAE,CAAC,MAAMtB,EAAE,oBAAoBa,wBAAwB,OAAOH,QAAQC,OAAO,IAAI,OAAE,yCAAyCX,EAAE,CAACyB,WAAWZ,KAAK,IAAIa,EAAE,eAAE,eAAEJ,EAAEb,GAAGO,GAAGW,EAAEL,EAAEM,WAAWN,EAAEM,UAAUC,KAAK,MAAMC,EAAER,EAAEM,WAAWN,EAAEM,UAAUG,UAAU,mBAAML,EAAE,eAAEA,GAAGC,EAAE,eAAEA,IAAI,MAAMK,EAAE,CAACf,OAAOlB,EAAEkB,OAAOE,IAAI,eAAE,eAAEO,IAAIL,OAAO,eAAe,OAAO,eAAEK,EAAEpB,GAAGC,KAAMN,IAAI,MAAMC,EAAE,WAAWO,EAAE,eAAER,EAAEc,MAAMd,EAAEc,KAAKP,EAAE,eAAEN,EAAE8B,GAAG,GAAGxB,GAAG,eAAEA,GAAG,CAAC,GAAGmB,EAAE,CAAC,MAAM3B,EAAE,eAAE2B,EAAEX,GAAGR,EAAEoB,UAAU,IAAI,OAAE,CAACT,IAAInB,SAAS8B,IAAItB,EAAEoB,UAAU,IAAI,OAAE,CAACT,IAAI,yBAAyBW,KAAOlB,EAAEqB,SAASzB,EAAE0B,YAAY,IAAI,OAAE,CAACjB,OAAOlB,EAAEkB,OAAOgB,SAASrB,EAAEqB,SAAS7B,KAAKS,IAAID,EAAEP,YAAYG,EAAE0B,YAAY,IAAI,OAAE,CAACjB,OAAOlB,EAAEkB,OAAOZ,UAAUO,EAAEP,UAAUD,KAAKS,KAAK,OAAOL,IAAK,SAASF,EAAEN,EAAEC,EAAEC,GAAG,MAAMM,EAAE,OAAE2B,QAAQ,mBAAmBnC,EAAEI,MAAM,OAAO,eAAEI,EAAEN,GAAGK,KAAMP,IAAI,MAAME,EAAE,eAAEF,EAAEe,MAAM,OAAO,eAAEb,EAAE,CAACe,OAAOhB,EAAEgB,OAAOE,IAAI,eAAE,eAAEX,IAAIa,OAAO","file":"js/chunk-2d0c516a.4f26147e.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{urlToObject as l,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as m}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as i}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{requestJSON as u,makeCIMSymbolRef as p,fetchStyle as y,symbolUrlFromStyleItem as f,Style2DUrlTemplate as c}from\"./styleUtils.js\";import b from\"./Thumbnail.js\";function g(t,e,r,l){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?j(t,e,l):y(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function h(y,c,g,h,j){const d=y.data,U={portal:g&&g.portal||s.getDefault(),url:l(y.baseUrl),origin:\"portal-item\"},N=d.items.find((t=>t.name===c));if(!N){const t=`The symbol name '${c}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:c}))}let w=m(f(N,h),U),P=N.thumbnail&&N.thumbnail.href;const S=N.thumbnail&&N.thumbnail.imageData;e()&&(w=r(w),P=r(P));const D={portal:g.portal,url:l(n(w)),origin:\"portal-item\"};return u(w,j).then((e=>{const r=\"cimRef\"===h?p(e.data):e.data,o=i(r,D);if(o&&t(o)){if(P){const t=m(P,U);o.thumbnail=new b({url:t})}else S&&(o.thumbnail=new b({url:`data:image/png;base64,${S}`}));y.styleUrl?o.styleOrigin=new a({portal:g.portal,styleUrl:y.styleUrl,name:c}):y.styleName&&(o.styleOrigin=new a({portal:g.portal,styleName:y.styleName,name:c}))}return o}))}function j(t,e,r){const o=c.replace(/\\{SymbolName\\}/gi,t.name);return u(o,r).then((t=>{const r=p(t.data);return i(r,{portal:e.portal,url:l(n(o)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,g as resolveWebStyleSymbol};\n"],"sourceRoot":""}