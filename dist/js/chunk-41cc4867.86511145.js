(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41cc4867"],{"0041":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"layout"}},[a("Layout",{staticClass:"layout-first"},[a("Header",[a("Menu",{staticClass:"layout-header",attrs:{mode:"horizontal"}},[a("MenuItem",{staticClass:"logout-item",attrs:{name:"logout"}},[a("img",{staticClass:"menu-item-icon",staticStyle:{height:"50px","border-radius":"50%"},attrs:{src:n("94ca2")},on:{click:t.GoHome}}),a("Dropdown",{staticClass:"menu-item-word"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("span",{staticClass:"menu-item-word"},[t._v(t._s(t.username))]),a("IconSvg",{staticClass:"xiala-icon",attrs:{iconClass:"xiala"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",[t._v("个人中心")]),a("DropdownItem",[t._v("修改密码")]),a("DropdownItem",[a("div",{on:{click:function(e){return t.ToLogin()}}},[t._v("退出登录")])])],1)],1)],1),a("MenuItem",{staticClass:"system-item",attrs:{name:"system"}},[a("IconSvg",{staticClass:"system-icon",attrs:{iconClass:"ziyuan"}}),a("span",{staticClass:"system-name",on:{click:function(e){return t.welcome()}}},[t._v("上海市新冠疫情动态分布可视化系统")])],1)],1)],1),a("Layout",{staticClass:"layout-sider"},[a("Sider",{staticClass:"sider",attrs:{"hide-trigger":""}},[a("Menu",{ref:"siderMenu",staticClass:"sider-menu",attrs:{theme:"light","active-name":t.siderActiveName}},[a("Submenu",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("IconSvg",{staticClass:"sider-item-icon",attrs:{iconClass:"diqiu"}}),a("span",{staticClass:"sider-item-word"},[t._v(" 地图展示")])],1),a("MenuItem",{attrs:{name:"tiandutu"},nativeOn:{click:function(e){return t.totianditu.apply(null,arguments)}}},[a("IconSvg",{staticClass:"sider-item-icon-son",attrs:{iconClass:"ditu4"}}),a("span",{staticClass:"sider-item-word-son"},[t._v("天地图")])],1)],2),a("Submenu",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("IconSvg",{staticClass:"sider-item-icon",attrs:{iconClass:"liebiao"}}),a("span",{staticClass:"sider-item-word"},[t._v("功能列表")])],1),a("MenuItem",{attrs:{name:"popup"},nativeOn:{click:function(e){return t.tohos.apply(null,arguments)}}},[a("IconSvg",{staticClass:"sider-item-icon-son",attrs:{iconClass:"yiyuan"}}),a("span",{staticClass:"sider-item-word-son"},[t._v("疫情可视化")])],1),a("MenuItem",{attrs:{name:"yq"},nativeOn:{click:function(e){return t.todata.apply(null,arguments)}}},[a("IconSvg",{staticClass:"sider-item-icon-son",attrs:{iconClass:"biaoge"}}),a("span",{staticClass:"sider-item-word-son"},[t._v("疫情数据表")])],1),a("MenuItem",{attrs:{name:"Echarts"},nativeOn:{click:function(e){return t.toEcharts.apply(null,arguments)}}},[a("IconSvg",{staticClass:"sider-item-icon-son",attrs:{iconClass:"shuzhuangtu"}}),a("span",{staticClass:"sider-item-word-son"},[t._v("Echarts")])],1),a("MenuItem",{attrs:{name:"text"},nativeOn:{click:function(e){return t.text.apply(null,arguments)}}},[a("IconSvg",{staticClass:"sider-item-icon-son",attrs:{iconClass:"shuzhuangtu"}}),a("span",{staticClass:"sider-item-word-son"},[t._v("测试页")])],1)],2)],1)],1),a("Content",{attrs:{id:"layout-content"}},[a("router-view",{scopedSlots:t._u([{key:"default",fn:function(t){var e=t.Component,n=t.path;return[a("keep-alive",[a(e,{key:n,tag:"component"})],1)]}}])})],1)],1)],1)],1)},s=[],r=n("1da1"),o=(n("96cf"),n("ac1f"),n("5319"),n("5b81"),n("1276"),n("99af"),n("14c8")),i=(n("7ded"),{name:"LayOut",data:function(){return{path:this.$route.path,siderActiveName:null,nowDate:"",username:""}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.$route.path),t.currentTime(),t.$nextTick((function(){t.username=window.localStorage.getItem("userName").replaceAll('"',"");var e=t.$route.path.split("/");t.changeActiveName(e)})),n={postStr:{searchWord:"上海市",searchType:"1",needSubInfo:"true",needAll:"true",needPolygon:"true",needPre:"true"},tk:"6156b0fb9f9e853e3f64234d82d9abf1"},e.next=6,Object(o["d"])(n);case 6:return e.sent,a={type:"busline",postStr:{startposition:"116.427562,39.939677",endposition:"116.349329,39.939132",linetype:"1"},tk:"6156b0fb9f9e853e3f64234d82d9abf1"},e.next=10,Object(o["c"])(a);case 10:return e.sent,s={ds:{keyWord:"玉兰香苑"},tk:"6156b0fb9f9e853e3f64234d82d9abf1"},e.next=14,Object(o["a"])(s);case 14:e.sent,{postStr:{lon:121.63121,lat:31.19935,ver:1},type:"geocode",tk:"6156b0fb9f9e853e3f64234d82d9abf1"};case 16:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t){var e=t.path.split("/");this.changeActiveName(e)}},methods:{currentTime:function(){setInterval(this.formatDate,500)},formatDate:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),s=t.getDay(),r=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],o=t.getHours();o=o<10?"0"+o:o;var i=t.getMinutes();i=i<10?"0"+i:i;var c=t.getSeconds();c=c<10?"0"+c:c,this.nowDate="".concat(e,"/").concat(n,"/").concat(a," ").concat(o,":").concat(i,":").concat(c," ").concat(r[s])},GoHome:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$router.push("/animation");case 1:case"end":return e.stop()}}),e)})))()},welcome:function(){this.$router.push("/Welcome")},ToLogin:function(){window.localStorage.token?(this.$store.commit("del_token"),this.$router.push("/")):this.$router.push("/")},changeActiveName:function(t){var e=t.length,n=t[e-1];this.siderActiveName="layout"==n?"Map":n},totianditu:function(){"/TianDiTu"!=this.$route.path?this.$router.push("/TianDiTu"):this.$Message.error("当前页面已经打开")},tohos:function(){"/Popup"!=this.$route.path?this.$router.push("/Popup"):this.$Message.error("当前页面已经打开")},todata:function(){"/yqData"!=this.$route.path?this.$router.push("/yqData"):this.$Message.error("当前页面已经打开")},toEcharts:function(){"/Echarts"!=this.$route.path?this.$router.push("/Echarts"):this.$Message.error("当前页面已经打开")},text:function(){"/text"!=this.$route.path?this.$router.push("/text"):this.$Message.error("当前页面已经打开")}}}),c=i,u=(n("33c0"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,"66f687b8",null);e["default"]=l.exports},"33c0":function(t,e,n){"use strict";n("edbd")},"7ded":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));var a=n("a27e");function s(t){return Object(a["b"])("/user/login","登录",t)}function r(t){return Object(a["b"])("/user/register","注册",t)}},"94ca2":function(t,e,n){t.exports=n.p+"img/头像1.7aea6a8b.jpeg"},a27e:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d}));n("d3b7"),n("d9e2");var a=n("bc3a"),s=n.n(a),r=n("4360"),o=n("65fb");console.log("/prod-api");var i=s.a.create({baseURL:"/prod-api",timeout:1e4});i.interceptors.request.use((function(t){return window.localStorage.getItem("token")&&(t.headers.common["Access-Token"]=window.localStorage.getItem("token"),Object(o["a"])()&&r["a"].dispatch("logout")),t}),(function(t){return Promise.reject(t)}));var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"未知服务",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return new Promise((function(r,o){t({url:e,method:"get",params:a,showErrorMessage:s}).then((function(t){r(t.data)})).catch((function(t){throw o(t),new Error("请求---".concat(n,"---接口失败"))}))}))},u=function(t,e,n,a){return c(i,t,e,n,a)},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"未知服务",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6?arguments[6]:void 0;return new Promise((function(i,c){t({url:e,method:"post",data:a,headers:s,withCredentials:r,onUploadProgress:o}).then((function(t){i(t.data)})).catch((function(t){throw c(t),new Error("请求---".concat(n,"---接口失败"))}))}))},d=function(t,e,n,a,s){return l(i,t,e,n,a,!0,s)}},edbd:function(t,e,n){}}]);