(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83673c5a"],{"00c0":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r("8c71"),n=r("0326"),s=r("7c4b");class c extends s["a"]{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach(t=>t.clips=e)}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new n["a"]),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const r=e.parent;return r&&r!==this&&r.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:Object(i["b"])()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}},"2d39":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r("3b1a"),n=r("c84e"),s=r("9a02");class c extends s["a"]{get requiresDedicatedFBO(){return this.children.some(e=>"additive"===e.blendFunction)}prepareRenderPasses(e){const t=e.registerRenderPass({name:"bitmap",brushes:[i["a"].bitmap],target:()=>this.children,drawPhase:n["c"].MAP});return[...super.prepareRenderPasses(e),t]}}},"566d":function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var i,n=r("a4ee"),s=r("2c4f"),c=r("7d7d"),a=r("3795"),o=r("59b2"),h=(r("b50f"),r("c120"),r("cea0"),r("d386")),u=r("00c0"),d=r("66e4"),l=r("2f51"),f=(r("e06a"),r("3760")),p=r("a9ab"),g=r("3af1"),b=r("1219");const y={base:f["a"],key:"type",typeMap:{extent:g["a"],polygon:b["a"]}};let _=i=class extends d["a"]{constructor(){super(...arguments),this.type="geometry",this.geometry=null}get version(){return(this._get("version")||0)+1}clone(){return new i({geometry:this.geometry.clone()})}};Object(n["a"])([Object(o["b"])({types:y,json:{read:p["a"],write:!0}})],_.prototype,"geometry",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],_.prototype,"version",null),_=i=Object(n["a"])([Object(h["a"])("esri.views.layers.support.Geometry")],_);const m=_;let O=class extends d["a"]{constructor(){super(...arguments),this.type="path",this.path=[]}get version(){return(this._get("version")||0)+1}};Object(n["a"])([Object(o["b"])({type:[[[Number]]],json:{write:!0}})],O.prototype,"path",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],O.prototype,"version",null),O=Object(n["a"])([Object(h["a"])("esri.views.layers.support.Path")],O);const w=O,v=s["a"].ofType({key:"type",base:d["a"],typeMap:{rect:l["a"],path:w,geometry:m}}),x=e=>{let t=class extends e{constructor(){super(...arguments),this.clips=new v,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var e;this.container||(this.container=new u["a"]),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([Object(a["a"])(this,"suspended",e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()},!0),Object(a["a"])(this,["layer.opacity","container"],()=>{var e,t;this.container&&(this.container.opacity=null!=(e=null==(t=this.layer)?void 0:t.opacity)?e:1)},!0),Object(a["a"])(this,["layer.blendMode"],e=>{this.container&&(this.container.blendMode=e)},!0),Object(a["a"])(this,["layer.effect"],e=>{this.container&&(this.container.effect=e)},!0),this.clips.on("change",()=>{this.container.clips=this.clips,this.notifyChange("clips")})]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then(e=>{e!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)},()=>{}):this.when().then(()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)},()=>{})}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove("initialize"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(!this.updatingHandles||!this.updatingHandles.updating)}isVisibleAtScale(e){let t=!0;const r=this.layer,i=r.minScale,n=r.maxScale;if(null!=i&&null!=n){let r=!i,s=!n;!r&&e<=i&&(r=!0),!s&&e>=n&&(s=!0),t=r&&s}return t}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}hitTest(e,t){return Promise.resolve(null)}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return Object(n["a"])([Object(o["b"])({type:v,set(e){const t=Object(c["b"])(e,this._get("clips"),v);this._set("clips",t)}})],t.prototype,"clips",void 0),Object(n["a"])([Object(o["b"])()],t.prototype,"moving",void 0),Object(n["a"])([Object(o["b"])()],t.prototype,"attached",void 0),Object(n["a"])([Object(o["b"])()],t.prototype,"container",void 0),Object(n["a"])([Object(o["b"])()],t.prototype,"suspended",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],t.prototype,"updateParameters",void 0),Object(n["a"])([Object(o["b"])()],t.prototype,"updateRequested",void 0),Object(n["a"])([Object(o["b"])()],t.prototype,"updating",null),Object(n["a"])([Object(o["b"])()],t.prototype,"view",void 0),t=Object(n["a"])([Object(h["a"])("esri.views.2d.layers.LayerView2D")],t),t}},"894c":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("b2b2");class n{constructor(e,t,r){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=r}get width(){return Object(i["l"])(this.pixelBlock)?this.pixelBlock.width:0}get height(){return Object(i["l"])(this.pixelBlock)?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(Object(i["k"])(t))return;const r=this.filter({pixelBlock:t});if(Object(i["k"])(r.pixelBlock))return;const n=r.pixelBlock.getAsRGBA(),s=e.createImageData(r.pixelBlock.width,r.pixelBlock.height);s.data.set(n),e.putImageData(s,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return Object(i["k"])(e.pixelBlock)?null:{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}},"9a02":function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));r("c120");var i=r("b2b2"),n=r("8c71"),s=r("3b1a"),c=r("00c0"),a=r("ce50"),o=r("e92d"),h=r("7c4b"),u=r("9812"),d=r("3349"),l=r("02f1"),f=r("6655"),p=r("8152"),g=r("d114"),b=r("7ce4");const y=o["a"].getLogger("esri.views.2d.engine.webgl.Mesh2D"),_=e=>{switch(e.BYTES_PER_ELEMENT){case 1:return 5121;case 2:return 5123;case 4:return 5125;default:throw new a["a"]("Cannot get DataType of array")}},m=(e,t,r,i)=>{let n=0;for(let s=1;s<r;s++){const r=e[2*(t+s-1)],i=e[2*(t+s-1)+1];n+=(e[2*(t+s)]-r)*(e[2*(t+s)+1]+i)}return i?n>0:n<0},O=({coords:e,lengths:t},r)=>{const i=[];for(let n=0,s=0;n<t.length;s+=t[n],n+=1){const c=s,a=[];for(;n<t.length-1&&m(e,s+t[n],t[n+1],r);n+=1,s+=t[n])a.push(s+t[n]-c);const o=e.slice(2*c,2*(s+t[n])),h=Object(u["a"])(o,a,2);for(const e of h)i.push(e+c)}return i};class w{constructor(e,t,r,i=!1){this._cache={},this.vertices=e,this.indices=t,this.primitiveType=r,this.isMapSpace=i}static fromRect({x:e,y:t,width:r,height:i}){const n=e,s=t,c=n+r,a=s+i;return w.fromScreenExtent({xmin:n,ymin:s,xmax:c,ymax:a})}static fromPath(e){const t=Object(f["f"])(new p["a"],e.path,!1,!1),r=t.coords,i=new Uint32Array(O(t,!0)),n=new Uint32Array(r.length/2);for(let s=0;s<n.length;s++)n[s]=Object(g["a"])(Math.floor(r[2*s]),Math.floor(r[2*s+1]));return new w({geometry:n},i,4)}static fromGeometry(e,t){const r=t.geometry.type;switch(r){case"polygon":return w.fromPolygon(e,t.geometry);case"extent":return w.fromMapExtent(e,t.geometry);default:return y.error(new a["a"]("mapview-bad-type","Unable to create a mesh from type "+r,t)),w.fromRect({x:0,y:0,width:1,height:1})}}static fromPolygon(e,t){const r=Object(f["g"])(new p["a"],t,!1,!1),i=r.coords,n=new Uint32Array(O(r,!1)),s=new Uint32Array(i.length/2),c=Object(l["b"])(),a=Object(l["b"])();for(let o=0;o<s.length;o++)Object(d["s"])(c,i[2*o],i[2*o+1]),e.toScreen(a,c),s[o]=Object(g["a"])(Math.floor(a[0]),Math.floor(a[1]));return new w({geometry:s},n,4,!0)}static fromScreenExtent({xmin:e,xmax:t,ymin:r,ymax:i}){const n={geometry:new Uint32Array([Object(g["a"])(e,r),Object(g["a"])(t,r),Object(g["a"])(e,i),Object(g["a"])(e,i),Object(g["a"])(t,r),Object(g["a"])(t,i)])},s=new Uint32Array([0,1,2,3,4,5]);return new w(n,s,4)}static fromMapExtent(e,t){const[r,i]=e.toScreen([0,0],[t.xmin,t.ymin]),[n,s]=e.toScreen([0,0],[t.xmax,t.ymax]),c={geometry:new Uint32Array([Object(g["a"])(r,i),Object(g["a"])(n,i),Object(g["a"])(r,s),Object(g["a"])(r,s),Object(g["a"])(n,i),Object(g["a"])(n,s)])},a=new Uint32Array([0,1,2,3,4,5]);return new w(c,a,4)}destroy(){Object(i["l"])(this._cache.indexBuffer)&&this._cache.indexBuffer.dispose();for(const e in this._cache.vertexBuffers)Object(i["l"])(this._cache.vertexBuffers[e])&&this._cache.vertexBuffers[e].dispose()}get elementType(){return _(this.indices)}getIndexBuffer(e,t=35044){return this._cache.indexBuffer||(this._cache.indexBuffer=b["a"].createIndex(e,t,this.indices)),this._cache.indexBuffer}getVertexBuffers(e,t=35044){return this._cache.vertexBuffers||(this._cache.vertexBuffers=Object.keys(this.vertices).reduce((r,i)=>({...r,[i]:b["a"].createVertex(e,t,this.vertices[i])}),{})),this._cache.vertexBuffers}}var v=r("0fa6");const x=o["a"].getLogger("esri.views.2d.engine.webgl.ClippingInfo"),E=e=>parseFloat(e)/100;class A extends h["a"]{constructor(e,t){super(),this._clip=t,this._cache={},this.stage=e,this._handle=t.watch("version",()=>this._invalidate()),this.ready()}static fromClipArea(e,t){return new A(e,t)}_destroyGL(){Object(i["l"])(this._cache.mesh)&&(this._cache.mesh.destroy(),this._cache.mesh=null),Object(i["l"])(this._cache.vao)&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(e,t,r,n){const[s,c]=t.size;if("geometry"!==this._clip.type&&this._lastWidth===s&&this._lastHeight===c||(this._lastWidth=s,this._lastHeight=c,this._destroyGL()),Object(i["k"])(this._cache.vao)){const i=this._createMesh(t,this._clip),s=i.getIndexBuffer(e),c=i.getVertexBuffers(e);this._cache.mesh=i,this._cache.vao=new v["a"](e,r,n,c,s)}return this._cache.vao}_createTransforms(){return{dvs:Object(n["b"])()}}_invalidate(){this._destroyGL(),this.requestRender()}_createScreenRect(e,t){const[r,i]=e.size,n="string"==typeof t.left?E(t.left)*r:t.left,s="string"==typeof t.right?E(t.right)*r:t.right,c="string"==typeof t.top?E(t.top)*i:t.top,a="string"==typeof t.bottom?E(t.bottom)*i:t.bottom,o=n,h=c;return{x:o,y:h,width:Math.max(r-s-o,0),height:Math.max(i-a-h,0)}}_createMesh(e,t){switch(t.type){case"rect":return w.fromRect(this._createScreenRect(e,t));case"path":return w.fromPath(t);case"geometry":return w.fromGeometry(e,t);default:return x.error(new a["a"]("mapview-bad-type","Unable to create ClippingInfo mesh from clip of type: ${clip.type}")),w.fromRect({x:0,y:0,width:1,height:1})}}}var T=r("c84e");class I extends c["a"]{constructor(){super(...arguments),this.name=this.constructor.name}set clips(e){this._clips=e,this.children.forEach(t=>t.clips=e),this._updateClippingInfo()}_createTransforms(){return{dvs:Object(n["b"])()}}doRender(e){const t=this.createRenderParams(e),{painter:r,globalOpacity:i,profiler:n,drawPhase:s}=t,c=s===T["c"].LABEL||s===T["c"].HIGHLIGHT?1:i*this.computedOpacity;n.recordContainerStart(this.name),r.beforeRenderLayer(t,this._clippingInfos?255:0,c),this.updateTransforms(e.state),this.renderChildren(t),r.compositeLayer(t,c),n.recordContainerEnd()}renderChildren(e){Object(i["k"])(this._renderPasses)&&(this._renderPasses=this.prepareRenderPasses(e.painter));for(const r of this.children)r.beforeRender(e);for(const r of this._renderPasses)try{r.render(e)}catch(t){}for(const r of this.children)r.afterRender(e)}createRenderParams(e){return e.requireFBO=this.requiresDedicatedFBO,e}prepareRenderPasses(e){return[e.registerRenderPass({name:"clip",brushes:[s["a"].clip],target:()=>this._clippingInfos,drawPhase:T["c"].MAP|T["c"].LABEL|T["c"].LABEL_ALPHA|T["c"].DEBUG|T["c"].HIGHLIGHT})]}updateTransforms(e){for(const t of this.children)t.setTransform(e)}onAttach(){super.onAttach(),this._updateClippingInfo()}onDetach(){super.onDetach(),this._updateClippingInfo()}_updateClippingInfo(){if(Object(i["l"])(this._clippingInfos)&&(this._clippingInfos.forEach(e=>e.destroy()),this._clippingInfos=null),!this.stage)return;const e=this._clips;Object(i["l"])(e)&&e.length&&(this._clippingInfos=e.items.map(e=>A.fromClipArea(this.stage,e))),this.requestRender()}}},a9a2:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o}));var i=r("d114");function n(e,t){return Array.isArray(t)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):(e[0]=t.r,e[1]=t.g,e[2]=t.b,e[3]=t.a),e}function s(e,t=0,r=!1){const i=e[t+3];return e[t+0]*=i,e[t+1]*=i,e[t+2]*=i,r||(e[t+3]*=255),e}function c(e){return s(n([],e))}function a(e){if(!e)return 0;const{r:t,g:r,b:n,a:s}=e;return Object(i["b"])(t*s,r*s,n*s,255*s)}function o(e){if(!e)return 0;const[t,r,n,s]=e;return Object(i["b"])(t*(s/255),r*(s/255),n*(s/255),s)}},c73a:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r("b2b2"),n=r("1c92"),s=r("8c71"),c=r("738e"),a=r("7c4b"),o=r("894c"),h=r("a1ff");function u(e){return e&&"render"in e}function d(e){return e&&!("render"in e)}function l(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,e.render(t.getContext("2d")),t}function f(e,t,r){const i={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return t&&r&&(i.width=t,i.height=r),new h["a"](e,i)}class p extends a["a"]{constructor(e=null,t,r=!0){super(),this.requestRenderOnSourceChangedEnabled=r,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.blendFunction=t,this.source=e,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(e){this._height=e}get source(){return this._source}set source(e){this._source=e,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(e){this._width=e}beforeRender(e){super.beforeRender(e),this.updateTexture(e.context)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}_createTransforms(){return{dvs:Object(s["b"])()}}setTransform(e){const t=Object(n["b"])(this.transforms.dvs),[r,i]=e.toScreenNoRotation([0,0],[this.x,this.y]),s=this.resolution/this.pixelRatio/e.resolution,a=s*this.width,o=s*this.height,h=Math.PI*this.rotation/180;Object(n["c"])(t,t,Object(c["b"])(r,i)),Object(n["c"])(t,t,Object(c["b"])(a/2,o/2)),Object(n["m"])(t,t,-h),Object(n["c"])(t,t,Object(c["b"])(-a/2,-o/2)),Object(n["j"])(t,t,Object(c["b"])(a,o)),Object(n["k"])(this.transforms.dvs,e.displayViewMat3,t)}setSamplingProfile(e){this._texture&&(e.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(e.samplingMode))}bind(e,t){this._texture&&e.bindTexture(this._texture,t)}updateTexture(e){var t;if(!this.stage)return null==(t=this._texture)||t.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=f(e,this.sourceWidth,this.sourceHeight):this._texture=f(e));const r=this.source;if(r){if(this._texture.resize(this.sourceWidth,this.sourceHeight),u(r))if(r instanceof o["a"]){const e=r.getRenderedRasterPixels();this._texture.setData(Object(i["l"])(e)?e.renderedRasterPixels:null)}else this._texture.setData(l(r));else d(r)&&this._texture.setData(r);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}},c84e:function(e,t,r){"use strict";var i,n,s,c,a,o,h;r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return o})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(i||(i={})),function(e){e[e.SUCCEEDED=0]="SUCCEEDED",e[e.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(n||(n={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(s||(s={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(c||(c={})),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.COLOR=2]="COLOR",e[e.ROTATION=4]="ROTATION",e[e.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",e[e.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",e[e.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",e[e.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(a||(a={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(o||(o={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(h||(h={}))},c8dd:function(e,t,r){"use strict";r.d(t,"a",(function(){return F})),r.d(t,"b",(function(){return C})),r.d(t,"c",(function(){return B})),r.d(t,"d",(function(){return oe})),r.d(t,"e",(function(){return q})),r.d(t,"f",(function(){return H})),r.d(t,"g",(function(){return $})),r.d(t,"h",(function(){return K})),r.d(t,"i",(function(){return D})),r.d(t,"j",(function(){return N})),r.d(t,"k",(function(){return ae})),r.d(t,"l",(function(){return z})),r.d(t,"m",(function(){return V})),r.d(t,"n",(function(){return A})),r.d(t,"o",(function(){return ee})),r.d(t,"p",(function(){return k})),r.d(t,"q",(function(){return ie})),r.d(t,"r",(function(){return P})),r.d(t,"s",(function(){return te})),r.d(t,"t",(function(){return Q})),r.d(t,"u",(function(){return U})),r.d(t,"v",(function(){return re})),r.d(t,"w",(function(){return se})),r.d(t,"x",(function(){return J})),r.d(t,"y",(function(){return ne})),r.d(t,"z",(function(){return ce})),r.d(t,"A",(function(){return M}));var i=r("ce50"),n=r("e92d"),s=(r("38a4"),r("a915"),r("a9a2"),r("c84e")),c=r("ecd7");class a{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(e,t,r,i,n,s,c,a,o){this.color=e,this.haloColor=t,this.haloSize=r,this.size=i,this.angle=n,this.offsetX=s,this.offsetY=c,this.hAnchor=a,this.vAnchor=o}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}a.pool=new c["a"](a);r("a1ff");const o=n["a"].getLogger("esri.views.2d.engine.webgl.Utils"),h="geometry",u=[{name:h,strideInBytes:36,divisor:0}],d=[{name:h,strideInBytes:32,divisor:0}],l=[{name:h,strideInBytes:20,divisor:0}],f=[{name:h,strideInBytes:12,divisor:0}],p=[{name:h,strideInBytes:40,divisor:0}],g=[{name:h,strideInBytes:36,divisor:0}],b=[{name:h,strideInBytes:36,divisor:0}];function y(e){const t={};for(const r of e)t[r.name]=r.strideInBytes;return t}const _=y(u),m=y(d),O=y(l),w=y(f),v=y(p),x=y(g),E=y(b);function A(e,{fill:t}){switch(e){case s["d"].MARKER:return _;case s["d"].FILL:return"dot-density"===t?w:"simple"===t?O:m;case s["d"].LINE:return v;case s["d"].TEXT:return x;case s["d"].LABEL:return E}}const T=[h],I=[h],S=[h],R=[h],L=[h];function j(e){switch(e){case s["d"].MARKER:return T;case s["d"].FILL:return I;case s["d"].LINE:return S;case s["d"].TEXT:return R;case s["d"].LABEL:return L}}function M(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function C(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function B(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function P(e){return null!=e}function U(e){return"number"==typeof e}function D(e){switch(e){case"butt":return 0;case"round":return 1;case"square":return 2;default:return o.error(new i["a"]("mapview-invalid-type",`Cap type ${e} is not a valid option. Defaulting to round`)),1}}function N(e){switch(e){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return o.error(new i["a"]("mapview-invalid-type",`Join type ${e} is not a valid option. Defaulting to round`)),1}}function k(e){switch(e){case"opacity":return s["b"].OPACITY;case"color":return s["b"].COLOR;case"rotation":return s["b"].ROTATION;case"size":return s["b"].SIZE;default:return o.error("Cannot interpret unknown vv: "+e),null}}function q(e,t,r,i,n,s,c){for(const o in s){const t=s[o].stride,i=M(t),c=s[o].data,a=r[o].data,h=t*n.vertexCount/i,u=t*e/i,d=t*n.vertexFrom/i;for(let e=0;e<h;++e)a[e+u]=c[e+d]}const a=n.indexCount;for(let o=0;o<a;++o)i[o+t]=c[o+n.indexFrom]-n.vertexFrom+e}const F={[h]:35044};function H(e,t){const r=[];for(let i=0;i<5;++i){const n=j(i),s={};for(const e of n)s[e]={data:t(i,e)};r.push({data:e(i),buffers:s})}return r}function G(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}function V(e){switch(e){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void o.error(new i["a"]("webgl-utils","Unable to handle type "+e))}}function z(e){switch(e){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void o.error(new i["a"]("webgl-utils","Unable to handle type "+e))}}function Y(e){const t={};for(const r in e){const i=e[r];let n=0;t[r]=i.map(e=>{const t={...e,normalized:e.normalized||!1,divisor:e.divisor||0,offset:n,stride:0};return n+=e.count*G(e.type),t}),t[r].forEach(e=>e.stride=n)}return t}const X=e=>{const t=new Map;for(const r in e)for(const i of e[r])t.set(i.name,i.location);return t},Z=e=>{const t={};for(const r in e){const i=e[r];t[r]=i.length?i[0].stride:0}return t},W=new Map,$=(e,t)=>{if(!W.has(e)){const r=Y(t),i={strides:Z(r),bufferLayouts:r,attributes:X(t)};W.set(e,i)}return W.get(e)};function K(e){e(s["d"].FILL),e(s["d"].LINE),e(s["d"].MARKER),e(s["d"].TEXT),e(s["d"].LABEL)}const J=e=>"path"in e&&he(e.path),Q=e=>"url"in e&&e.url||"imageData"in e&&e.imageData,ee=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,te=e=>"url"in e&&e.url&&e.url.includes(".gif")||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&e.imageData.includes("data:image/gif"),re=e=>"url"in e&&e.url&&e.url.includes(".png")||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&e.imageData.includes("data:image/png"),ie=e=>e.type&&-1!==e.type.toLowerCase().indexOf("3d");function ne(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}const se=e=>e.includes("data:image/svg+xml");function ce(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":case"CIMVectorMarker":case"CIMPictureMarker":case"CIMCharacterMarker":return!1;default:return!0}}function ae(e){const t="maxVVSize"in e&&e.maxVVSize,r="width"in e&&e.width||"size"in e&&e.size||0;return t||r}function oe(e){const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}const he=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))},d114:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return n}));const i=new Float32Array(1);new Uint32Array(i.buffer);function n(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function s(e,t){return 65535&e|t<<16}function c(e,t,r,i){return 255&e|(255&t)<<8|(255&r)<<16|i<<24}}}]);
//# sourceMappingURL=chunk-83673c5a.944ca259.js.map