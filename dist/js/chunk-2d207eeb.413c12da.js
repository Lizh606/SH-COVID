(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207eeb"],{a347:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return ge}));var s=i("a4ee"),o=i("2c4f"),r=i("af40"),a=i("e92d"),n=i("b2b2"),l=i("e694"),b=i("f4cc"),c=i("477c"),p=i("59b2"),d=(i("b50f"),i("c120"),i("cea0")),u=i("afcf"),j=i("d386"),y=i("e431"),h=i("0b2d"),O=i("a6a3"),v=i("bdba"),m=i("f46e"),g=i("3d59"),w=i("b911"),S=i("0db5"),f=i("5a62"),V=i("96ae"),x=i("54b4"),_=i("22f4"),I=i("6a0e");let N=class extends I["a"]{constructor(){super(...arguments),this.enabled=!0,this.label="",this.normal=null,this.point=null}};Object(s["a"])([Object(p["b"])({type:Boolean,json:{default:!0,write:!0}})],N.prototype,"enabled",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],N.prototype,"label",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:!0}})],N.prototype,"normal",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:!0}})],N.prototype,"point",void 0),N=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelDynamicSection")],N);const R=N;let T=class extends I["a"]{constructor(){super(...arguments),this.enabled=!0,this.label="",this.normal=null,this.point=null}};Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],T.prototype,"enabled",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],T.prototype,"label",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:!0}})],T.prototype,"normal",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:!0}})],T.prototype,"point",void 0),T=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelSlice")],T);const q=T;var L=i("fcf2");let z=class extends I["a"]{constructor(){super(...arguments),this.enabled=!0,this.href=null,this.id=null,this.label="",this.normal=null,this.point=null,this.sizeInPixel=null,this.slices=null,this.timeId=0,this.variableId=null}readHref(e,t,i){return Object(L["a"])(e,i)}};Object(s["a"])([Object(p["b"])({type:Boolean,json:{default:!0,write:!0}})],z.prototype,"enabled",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:{enabled:!0,isRequired:!0}}})],z.prototype,"href",void 0),Object(s["a"])([Object(u["a"])(["service","web-scene"],"href")],z.prototype,"readHref",null),Object(s["a"])([Object(p["b"])({type:d["a"],json:{write:{enabled:!0,isRequired:!0}}})],z.prototype,"id",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],z.prototype,"label",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],z.prototype,"normal",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],z.prototype,"point",void 0),Object(s["a"])([Object(p["b"])({type:[d["a"]],json:{write:{enabled:!0,isRequired:!0}}})],z.prototype,"sizeInPixel",void 0),Object(s["a"])([Object(p["b"])({type:[q],json:{write:!0}})],z.prototype,"slices",void 0),Object(s["a"])([Object(p["b"])({type:d["a"],json:{default:0,write:!0}})],z.prototype,"timeId",void 0),Object(s["a"])([Object(p["b"])({type:d["a"],json:{write:{enabled:!0,isRequired:!0}}})],z.prototype,"variableId",void 0),z=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelSection")],z);const D=z;var W=i("7d7d");let P=class extends I["a"]{constructor(){super(...arguments),this.diffuseFactor=.5,this.specularFactor=.5}};Object(s["a"])([Object(p["b"])({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],P.prototype,"diffuseFactor",void 0),Object(s["a"])([Object(p["b"])({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],P.prototype,"specularFactor",void 0),P=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelSimpleShading")],P);const F=P;var M=i("9ef0");let A=class extends I["a"]{constructor(){super(...arguments),this.color=null,this.value=null,this.enabled=!0,this.label=null}};Object(s["a"])([Object(p["b"])({type:M["a"],json:{type:[d["a"]],write:{enabled:!0,isRequired:!0}}})],A.prototype,"color",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"value",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{default:!0,write:!0}})],A.prototype,"enabled",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],A.prototype,"label",void 0),A=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelIsosurface")],A);const B=A;let k=class extends I["a"]{constructor(){super(...arguments),this.alpha=0,this.position=0}};Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],k.prototype,"alpha",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],k.prototype,"position",void 0),k=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelAlphaStop")],k);const C=k;let E=class extends I["a"]{constructor(){super(...arguments),this.color=null,this.position=0}};Object(s["a"])([Object(p["b"])({type:M["a"],json:{type:[d["a"]],write:{enabled:!0,isRequired:!0}}})],E.prototype,"color",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"position",void 0),E=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelColorStop")],E);const J=E;let Z=class extends I["a"]{constructor(){super(...arguments),this.enabled=!1,this.range=null}};Object(s["a"])([Object(p["b"])({type:Boolean,json:{default:!1,write:!0}})],Z.prototype,"enabled",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:!0}})],Z.prototype,"range",void 0),Z=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelRangeFilter")],Z);const U=Z;let H=class extends I["a"]{constructor(e){super(e),this.interpolation=null,this.stretchRange=null,this.rangeFilter=null,this.colorStops=new o["a"],this.alphaStops=new o["a"]}set colorStops(e){this._set("colorStops",Object(W["b"])(e,this._get("colorStops"),o["a"].ofType(J)))}set alphaStops(e){this._set("alphaStops",Object(W["b"])(e,this._get("alphaStops"),o["a"].ofType(C)))}};Object(s["a"])([Object(p["b"])({type:["linear","nearest"],json:{write:!0}})],H.prototype,"interpolation",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],H.prototype,"stretchRange",void 0),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(J),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],H.prototype,"colorStops",null),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(C),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.alphaStops&&this.alphaStops.length>0}}}}})],H.prototype,"alphaStops",null),Object(s["a"])([Object(p["b"])({type:U,json:{write:!0}})],H.prototype,"rangeFilter",void 0),H=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelTransferFunctionStyle")],H);const G=H;let K=class extends I["a"]{constructor(){super(...arguments),this.color=null,this.value=0,this.enabled=!0,this.label=null}};Object(s["a"])([Object(p["b"])({type:M["a"],json:{type:[d["a"]],write:{enabled:!0,isRequired:!0}}})],K.prototype,"color",void 0),Object(s["a"])([Object(p["b"])({type:d["a"],json:{write:{enabled:!0,isRequired:!0}}})],K.prototype,"value",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{default:!0,write:!0}})],K.prototype,"enabled",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],K.prototype,"label",void 0),K=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelUniqueValue")],K);const Q=K;let X=class extends I["a"]{constructor(e){super(e),this.variableId=0,this.label=null,this.transferFunction=null,this.uniqueValues=new o["a"],this.isosurfaces=new o["a"]}set uniqueValues(e){this._set("uniqueValues",Object(W["b"])(e,this._get("uniqueValues"),o["a"].ofType(Q)))}set isosurfaces(e){this._set("isosurfaces",Object(W["b"])(e,this._get("isosurfaces"),o["a"].ofType(B)))}};Object(s["a"])([Object(p["b"])({type:d["a"],json:{write:{enabled:!0,isRequired:!0}}})],X.prototype,"variableId",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],X.prototype,"label",void 0),Object(s["a"])([Object(p["b"])({type:G,json:{write:{enabled:!0,overridePolicy(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],X.prototype,"transferFunction",void 0),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(Q),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],X.prototype,"uniqueValues",null),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(B),json:{write:{enabled:!0,overridePolicy(){const e=!this.uniqueValues||this.uniqueValues.length<1,t=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:e&&t}}}}})],X.prototype,"isosurfaces",null),X=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelVariableStyle")],X);const Y=X;let $=class extends I["a"]{constructor(e){super(e),this.volumeId=0,this.verticalExaggeration=1,this.exaggerationMode="scale-height",this.verticalOffset=0,this.slices=new o["a"],this.dynamicSections=new o["a"]}set slices(e){this._set("slices",Object(W["b"])(e,this._get("slices"),o["a"].ofType(q)))}set dynamicSections(e){this._set("dynamicSections",Object(W["b"])(e,this._get("dynamicSections"),o["a"].ofType(R)))}};Object(s["a"])([Object(p["b"])({type:d["a"],json:{write:{enabled:!0,isRequired:!0}}})],$.prototype,"volumeId",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{default:1,write:!0}})],$.prototype,"verticalExaggeration",void 0),Object(s["a"])([Object(p["b"])({type:["scale-position","scale-height"],json:{default:"scale-height",write:!0}})],$.prototype,"exaggerationMode",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{default:0,write:!0}})],$.prototype,"verticalOffset",void 0),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(q),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],$.prototype,"slices",null),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(R),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],$.prototype,"dynamicSections",null),$=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelVolumeStyle")],$);const ee=$;let te=class extends I["a"]{constructor(e){super(e),this.currentVariableId=0,this.renderMode="volume",this.enableSlices=!0,this.enableSections=!0,this.enableDynamicSections=!0,this.enableIsosurfaces=!0,this.shading=new F,this.volumeStyles=new o["a"],this.variableStyles=new o["a"]}set volumeStyles(e){this._set("volumeStyles",Object(W["b"])(e,this._get("volumeStyles"),o["a"].ofType(ee)))}set variableStyles(e){this._set("variableStyles",Object(W["b"])(e,this._get("variableStyles"),o["a"].ofType(Y)))}};Object(s["a"])([Object(p["b"])({type:o["a"].ofType(ee),json:{write:!0}})],te.prototype,"volumeStyles",null),Object(s["a"])([Object(p["b"])({type:d["a"],json:{write:{enabled:!0,isRequired:!0}}})],te.prototype,"currentVariableId",void 0),Object(s["a"])([Object(p["b"])({type:["volume","surfaces"],json:{write:!0}})],te.prototype,"renderMode",void 0),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(Y),json:{write:!0}})],te.prototype,"variableStyles",null),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],te.prototype,"enableSlices",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],te.prototype,"enableSections",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],te.prototype,"enableDynamicSections",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],te.prototype,"enableIsosurfaces",void 0),Object(s["a"])([Object(p["b"])({type:F,json:{write:!0}})],te.prototype,"shading",void 0),te=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelStyle")],te);const ie=te;let se=class extends I["a"]{constructor(){super(...arguments),this.continuity=null,this.hasNoData=!1,this.noData=0,this.offset=0,this.scale=1,this.type=null}};Object(s["a"])([Object(p["b"])({type:["discrete","continuous"],json:{write:!0}})],se.prototype,"continuity",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],se.prototype,"hasNoData",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],se.prototype,"noData",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],se.prototype,"offset",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],se.prototype,"scale",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:{enabled:!0,isRequired:!0}}})],se.prototype,"type",void 0),se=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelFormat")],se);const oe=se;let re=class extends I["a"]{constructor(){super(...arguments),this.id=null,this.description="",this.name=null,this.originalFormat=null,this.renderingFormat=null,this.unit="",this.volumeId=0,this.type=null}};Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"id",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],re.prototype,"description",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"name",void 0),Object(s["a"])([Object(p["b"])({type:oe,json:{write:!0}})],re.prototype,"originalFormat",void 0),Object(s["a"])([Object(p["b"])({type:oe,json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"renderingFormat",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],re.prototype,"unit",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],re.prototype,"volumeId",void 0),Object(s["a"])([Object(p["b"])({type:["stc-hot-spot-results","stc-cluster-outlier-results","stc-estimated-bin","generic-nearest-interpolated"],json:{write:!0}})],re.prototype,"type",void 0),re=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelVariable")],re);const ae=re;let ne=class extends I["a"]{constructor(){super(...arguments),this.values=null}};Object(s["a"])([Object(p["b"])({type:[Number],json:{write:!0}})],ne.prototype,"values",void 0),ne=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelIrregularSpacing")],ne);const le=ne;let be=class extends I["a"]{constructor(){super(...arguments),this.scale=1,this.offset=0}};Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],be.prototype,"scale",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],be.prototype,"offset",void 0),be=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelRegularSpacing")],be);const ce=be;let pe=class extends I["a"]{constructor(){super(...arguments),this.irregularSpacing=null,this.isPositiveUp=null,this.isWrappedDateLine=null,this.label=null,this.name=null,this.quantity=null,this.regularSpacing=null,this.size=0,this.unit=null}};Object(s["a"])([Object(p["b"])({type:le,json:{write:!0}})],pe.prototype,"irregularSpacing",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],pe.prototype,"isPositiveUp",void 0),Object(s["a"])([Object(p["b"])({type:Boolean,json:{write:!0}})],pe.prototype,"isWrappedDateLine",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],pe.prototype,"label",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],pe.prototype,"name",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],pe.prototype,"quantity",void 0),Object(s["a"])([Object(p["b"])({type:ce,json:{write:!0}})],pe.prototype,"regularSpacing",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:!0}})],pe.prototype,"size",void 0),Object(s["a"])([Object(p["b"])({type:String,json:{write:!0}})],pe.prototype,"unit",void 0),pe=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelDimension")],pe);const de=pe;let ue=class extends I["a"]{constructor(){super(...arguments),this.id=0,this.dimensions=null}getZDimension(){if(!this.dimensions)return-1;if(!Array.isArray(this.dimensions))return-1;if(4!==this.dimensions.length)return-1;for(let e=2;e<4;++e)if(this.dimensions[e].size>0)return e;return-1}isVolumeValid(){return!!this.dimensions&&!!Array.isArray(this.dimensions)&&4===this.dimensions.length&&!(this.dimensions[0].size<1||this.dimensions[1].size<1)&&-1!==this.getZDimension()}};Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],ue.prototype,"id",void 0),Object(s["a"])([Object(p["b"])({type:[de],json:{write:{enabled:!0,isRequired:!0}}})],ue.prototype,"dimensions",void 0),ue=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelVolume")],ue);const je=ue;var ye;let he=ye=class extends I["a"]{constructor(){super(...arguments),this.apronWidth=1,this.brickSize=[32,32,32],this.maxLodLevel=0,this.nodeSize=[4,4,4]}isValid(){const e=new ye;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&!!this.brickSize&&!!this.nodeSize&&!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&3===this.brickSize.length&&3===this.nodeSize.length&&32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]}};Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],he.prototype,"apronWidth",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],he.prototype,"brickSize",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],he.prototype,"maxLodLevel",void 0),Object(s["a"])([Object(p["b"])({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],he.prototype,"nodeSize",void 0),he=ye=Object(s["a"])([Object(j["a"])("esri.layers.support.VoxelVolumeIndex")],he);const Oe=he,ve=a["a"].getLogger(" esri.layers.VoxelLayer");let me=class extends(Object(V["a"])(Object(g["a"])(Object(w["a"])(Object(S["a"])(Object(f["a"])(Object(l["a"])(Object(m["a"])(O["a"])))))))){constructor(e){super(e),this.serviceRoot="",this.popupEnabled=!0,this.operationalLayerType="Voxel",this.legendEnabled=!0,this.title=null,this.sections=new o["a"],this.style=null,this.opacity=1,this.variables=new o["a"],this.volumes=new o["a"],this.index=null,this.minScale=0,this.maxScale=0,this.type="voxel",this._dbgFlags=new Set,this._handles=new r["a"],this.version={major:Number.NaN,minor:Number.NaN,versionString:""}}set url(e){this._set("url",Object(x["h"])(e,ve))}destroy(){this._handles=Object(n["e"])(this._handles)}dbg(e,t){this._dbgFlags.has(e)&&(3===e?ve.error(t):ve.warn(t))}load(e){const t=Object(n["l"])(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(b["v"]).then(()=>this._fetchService(t)).then(()=>this.serviceRoot=this.url);return this.addResolvingPromise(i),Promise.resolve(this)}getConfiguration(){this._handles.add([Object(c["b"])(()=>this._getRenderMode(),e=>this._pushRenderModeToWasm(e)),Object(c["b"])(()=>this._getCurrentVariableId(),e=>this._pushCurrentVariableIdToWasm(e)),Object(c["b"])(()=>this._getDynamicSections(),e=>this._pushDynamicSectionsToWasm(e)),Object(c["b"])(()=>this._getSlices(),e=>this._pushSlicesToWasm(e)),Object(c["b"])(()=>this._getSections(),e=>this._pushSectionsToWasm(e))]);const e={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index.toJSON(),sections:this.sections.toJSON(),style:this.style};return e.index&&this.index.isValid()?JSON.stringify(e):""}readVersion(e,t){return super.parseVersionString(e)}_getSections(){const e=[];for(const t of this.sections)e.push(new D({enabled:t.enabled,href:t.href,id:t.id,label:t.label,normal:t.normal,point:t.point,sizeInPixel:t.sizeInPixel,slices:t.slices,timeId:t.timeId,variableId:t.variableId}));return e}_pushSectionsToWasm(e){this.dbg(2,"VoxelLayer._pushSectionsToWasm() called"),v["a"].getInstance().setLayerStaticSections(this,e)||this.dbg(3,"VoxelLayer._pushSectionsToWasm() failed!")}_isPlaneValid(e,t,i){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(let r=0;r<3;++r){const s=e.point[r];if(s<0||s>=i[t[r]].size)return!1}const s=Object(h["h"])(e.normal[0],e.normal[1],e.normal[2]);Object(y["t"])(s,s);const o=1e-6;return!(Math.abs(s[0])+Math.abs(s[1])+Math.abs(s[2])<o)&&(e.normal[0]=s[0],e.normal[1]=s[1],e.normal[2]=s[2],!0)}getVariableStyle(e){let t=-1;if(t=Object(n["l"])(e)?e:this._getCurrentVariableId(),!(null==this?void 0:this.style.variableStyles)||-1===t)return null;const i=this.style.variableStyles.findIndex(e=>e.variableId===t);return i<0?null:this.style.variableStyles.getItemAt(i)}getVariable(e){let t=-1;if(t=Object(n["l"])(e)?e:this._getCurrentVariableId(),!this.variables||-1===t)return null;const i=this.variables.findIndex(e=>e.id===t);return i<0?null:this.variables.getItemAt(i)}_getVolume(e){const t=this.getVariable(e);return Object(n["l"])(t)?this.volumes.find(({id:e})=>e===t.volumeId):null}_getVolumeStyle(e){const t=this.getVariable(e);return Object(n["l"])(t)?this.style.volumeStyles.find(({volumeId:e})=>e===t.volumeId):null}_getSlices(){const e=[],t=this._getVolume(null);if(!Object(n["l"])(t)||!t.isVolumeValid())return e;const i=this._getVolumeStyle(null);if(!Object(n["l"])(i))return e;for(const s of i.slices)this._isPlaneValid(s,[0,1,t.getZDimension()],t.dimensions)?e.push(new q({enabled:s.enabled,label:s.label,point:s.point,normal:s.normal})):e.push(new q({enabled:!1,label:"invalid",point:s.point,normal:s.normal}));return e}_pushSlicesToWasm(e){this.dbg(2,"VoxelLayer._pushSlicesToWasm() called!"),v["a"].getInstance().setLayerSlices(this,e)||this.dbg(3,"VoxelLayer._pushSlicesToWasm() failed!")}_getDynamicSections(){const e=[],t=this._getVolume(null);if(!Object(n["l"])(t)||!t.isVolumeValid())return e;const i=this._getVolumeStyle(null);if(!Object(n["l"])(i))return e;for(const s of i.dynamicSections)this._isPlaneValid(s,[0,1,t.getZDimension()],t.dimensions)?e.push(new R({enabled:s.enabled,label:s.label,point:s.point,normal:s.normal})):e.push(new R({enabled:!1,label:"invalid",point:s.point,normal:s.normal}));return e}_pushDynamicSectionsToWasm(e){this.dbg(2,"VoxelLayer._pushDynamicSectionsToWasm() called!"),v["a"].getInstance().setLayerDynamicSections(this,e)||this.dbg(3,"VoxelLayer._updateDynamicSections() failed!")}_getCurrentVariableId(){return this.style?this.style.currentVariableId:-1}_pushCurrentVariableIdToWasm(e){this.dbg(2,"VoxelLayer._pushCurrentVariableIdToWasm() called!"),v["a"].getInstance().setLayerCurrentVariable(this,e)||this.dbg(3,"VoxelLayer._pushCurrentVariableIdToWasm() failed!")}_getRenderMode(){return this.style?this.style.renderMode:"volume"}_pushRenderModeToWasm(e){this.dbg(2,"VoxelLayer._pushRenderModeToWasm() called!"),v["a"].getInstance().setLayerRenderMode(this,e)||this.dbg(3,"VoxelLayer.setLayerRenderMode() failed!")}};Object(s["a"])([Object(p["b"])(_["j"])],me.prototype,"popupEnabled",void 0),Object(s["a"])([Object(p["b"])({type:["Voxel"]})],me.prototype,"operationalLayerType",void 0),Object(s["a"])([Object(p["b"])(_["e"])],me.prototype,"legendEnabled",void 0),Object(s["a"])([Object(p["b"])({json:{write:!0}})],me.prototype,"title",void 0),Object(s["a"])([Object(p["b"])(_["n"])],me.prototype,"url",null),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(D),json:{write:!0,origins:{"web-scene":{name:"layerDefinition.sections",write:!0},service:{write:!1}}}})],me.prototype,"sections",void 0),Object(s["a"])([Object(p["b"])({type:ie,json:{write:!0,origins:{"web-scene":{name:"layerDefinition.style",write:!0},service:{write:!1}}}})],me.prototype,"style",void 0),Object(s["a"])([Object(p["b"])({type:["show","hide"]})],me.prototype,"listMode",void 0),Object(s["a"])([Object(p["b"])({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{"web-scene":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],me.prototype,"opacity",void 0),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(ae)})],me.prototype,"variables",void 0),Object(s["a"])([Object(p["b"])({type:o["a"].ofType(je)})],me.prototype,"volumes",void 0),Object(s["a"])([Object(p["b"])({type:Oe})],me.prototype,"index",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{name:"layerDefinition.minScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],me.prototype,"minScale",void 0),Object(s["a"])([Object(p["b"])({type:Number,json:{name:"layerDefinition.maxScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],me.prototype,"maxScale",void 0),Object(s["a"])([Object(p["b"])({json:{read:!1},readOnly:!0})],me.prototype,"type",void 0),Object(s["a"])([Object(p["b"])({readOnly:!0,json:{name:"serviceVersion"}})],me.prototype,"version",void 0),Object(s["a"])([Object(u["a"])("service","version")],me.prototype,"readVersion",null),me=Object(s["a"])([Object(j["a"])("esri.layers.VoxelLayer")],me);const ge=me}}]);
//# sourceMappingURL=chunk-2d207eeb.413c12da.js.map