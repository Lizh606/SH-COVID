(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b16ae"],{2082:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return J}));var a=t("a4ee"),i=t("59b2"),s=(t("b50f"),t("c120"),t("cea0"),t("d386")),o=t("2eab"),n=t("a3a2"),c=t("a8d5"),l=t("c279"),u=t("bb72"),p=(t("e06a"),t("8d60")),b=t("6a0e"),y=t("b2b2"),O=t("afcf"),j=t("5996"),f=t("95a2"),d=t("4ae5"),B=t("521c"),g=t("1219"),v=t("a9ab");function m(e){return e.features.map(r=>{const t=j["a"].fromJSON(e.spatialReference),a=p["a"].fromJSON(r);return Object(y["u"])(a.geometry).spatialReference=t,a})}function P(e){return Object(y["h"])(e.features.map(r=>(Object(y["l"])(r.geometry)&&(r.geometry.spatialReference=e.spatialReference),Object(v["a"])(r.geometry))))}let h=class extends b["a"]{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return P(e)}readPointBarriers(e,r){return P(r.barriers)}readPolylineBarriers(e){return P(e)}readPolygonBarriers(e){return P(e)}readIncidents(e,r){return m(r.saPolylines)}readServiceAreaPolygons(e,r){return m(r.saPolygons)}};Object(a["a"])([Object(i["b"])({type:[d["a"]]})],h.prototype,"facilities",void 0),Object(a["a"])([Object(O["a"])("facilities")],h.prototype,"readFacilities",null),Object(a["a"])([Object(i["b"])({type:[f["a"]]})],h.prototype,"messages",void 0),Object(a["a"])([Object(i["b"])({type:[d["a"]]})],h.prototype,"pointBarriers",void 0),Object(a["a"])([Object(O["a"])("pointBarriers",["barriers"])],h.prototype,"readPointBarriers",null),Object(a["a"])([Object(i["b"])({type:[B["a"]]})],h.prototype,"polylineBarriers",void 0),Object(a["a"])([Object(O["a"])("polylineBarriers")],h.prototype,"readPolylineBarriers",null),Object(a["a"])([Object(i["b"])({type:[g["a"]]})],h.prototype,"polygonBarriers",void 0),Object(a["a"])([Object(O["a"])("polygonBarriers")],h.prototype,"readPolygonBarriers",null),Object(a["a"])([Object(i["b"])({type:[p["a"]]})],h.prototype,"serviceAreaPolylines",void 0),Object(a["a"])([Object(O["a"])("serviceAreaPolylines",["saPolylines"])],h.prototype,"readIncidents",null),Object(a["a"])([Object(i["b"])({type:[p["a"]]})],h.prototype,"serviceAreaPolygons",void 0),Object(a["a"])([Object(O["a"])("serviceAreaPolygons",["saPolygons"])],h.prototype,"readServiceAreaPolygons",null),h=Object(a["a"])([Object(s["a"])("esri.rest.support.ServiceAreaSolveResult")],h);const A=h,S=Object(n["a"])({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});async function w(e,r,t){const a=[],i=[],s={},n={},p=Object(u["c"])(e),{path:b}=p;r.facilities&&r.facilities.features&&Object(l["a"])(r.facilities.features,i,"facilities.features",s),r.pointBarriers&&r.pointBarriers.features&&Object(l["a"])(r.pointBarriers.features,i,"pointBarriers.features",s),r.polylineBarriers&&r.polylineBarriers.features&&Object(l["a"])(r.polylineBarriers.features,i,"polylineBarriers.features",s),r.polygonBarriers&&r.polygonBarriers.features&&Object(l["a"])(r.polygonBarriers.features,i,"polygonBarriers.features",s);const y=await Object(c["a"])(i);for(const o in s){const e=s[o];a.push(o),n[o]=y.slice(e[0],e[1])}if(Object(l["e"])(n,a)){let e=null;try{e=await Object(l["c"])(b,r.apiKey,t)}catch{}e&&!e.hasZ&&Object(l["b"])(n,a)}for(const o in n)n[o].forEach((e,t)=>{r.get(o)[t].geometry=e});const O={...t,query:{...p.query,...S.toQueryParams(r),f:"json"}},{data:j}=await Object(o["default"])(b+"/solveServiceArea",O);return A.fromJSON(j)}var R=t("9209");let k=class extends R["a"]{constructor(e){super(e),this.url=null}solve(e,r){return w(this.url,e,r)}};Object(a["a"])([Object(i["b"])()],k.prototype,"url",void 0),k=Object(a["a"])([Object(s["a"])("esri.tasks.ServiceAreaTask")],k);const J=k}}]);
//# sourceMappingURL=chunk-2d0b16ae.7d802004.js.map