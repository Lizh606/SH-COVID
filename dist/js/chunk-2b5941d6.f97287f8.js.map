{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/layers/GroupLayerView.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/Mesh2D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/ClippingInfo.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/GroupContainer.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/GroupLayerView2D.js"],"names":["o","e","super","this","type","layerViews","handles","add","on","_layerViewsChangeHandler","_layerViewsAfterChangesHandler","layer","watch","_visibilityModeHandler","_visibleHandler","target","added","toArray","removed","moved","_set","_get","some","updating","length","reduce","i","updatingProgress","_isOverridden","find","layers","_findLayerViewForLayer","visible","_hasLayerViewVisibleOverrides","_firstVisibleOnLayerOrder","getItemAt","forEach","remove","map","_layerViewVisibleHandler","s","_enforceVisibility","_updateUpdating","visibilityMode","_enforceExclusiveVisibility","notifyChange","cast","prototype","readOnly","h","getLogger","t","BYTES_PER_ELEMENT","y","r","n","x","coords","lengths","c","a","push","f","slice","_cache","vertices","indices","primitiveType","isMapSpace","width","height","fromScreenExtent","xmin","ymin","xmax","ymax","path","Uint32Array","Math","floor","geometry","fromPolygon","fromMapExtent","error","fromRect","m","u","toScreen","indexBuffer","dispose","vertexBuffers","createIndex","Object","keys","createVertex","parseFloat","_clip","stage","_handle","_invalidate","ready","mesh","destroy","vao","_destroyGL","size","_lastWidth","_lastHeight","_createMesh","getIndexBuffer","getVertexBuffers","dvs","requestRender","left","right","top","bottom","max","_createScreenRect","fromPath","fromGeometry","arguments","name","constructor","_clips","children","clips","_updateClippingInfo","createRenderParams","painter","globalOpacity","profiler","drawPhase","LABEL","HIGHLIGHT","computedOpacity","recordContainerStart","beforeRenderLayer","_clippingInfos","updateTransforms","state","renderChildren","compositeLayer","recordContainerEnd","_renderPasses","prepareRenderPasses","beforeRender","render","afterRender","requireFBO","requiresDedicatedFBO","registerRenderPass","brushes","clip","MAP","LABEL_ALPHA","DEBUG","setTransform","onAttach","onDetach","items","fromClipArea","_renderTarget","context","_prevFBO","getBoundFramebufferObject","_getFbo","getRenderTarget","bindFramebuffer","setRenderTarget","setDepthWriteEnabled","setColorMask","setClearColor","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","processRender","setStencilTestEnabled","setStencilWriteMask","blitTexture","colorTexture","blendMode","effects","computedEffects","getViewport","resize","pixelFormat","dataType","samplingMode","wrapMode","colorTarget","depthStencilTarget","getSharedStencilBuffer","container","_updateStageChildren","removeAllChildren","addChildAt"],"mappings":"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","file":"js/chunk-2b5941d6.f97287f8.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import i from\"../../core/Collection.js\";import{castForReferenceSetter as s,referenceSetter as r}from\"../../core/collectionUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"./LayerView.js\";let o=class extends l{constructor(e){super(e),this.type=\"group\",this.layerViews=new i}initialize(){this.handles.add([this.layerViews.on(\"change\",(e=>this._layerViewsChangeHandler(e))),this.layerViews.on(\"after-changes\",(()=>this._layerViewsAfterChangesHandler())),this.layer.watch(\"visibilityMode\",(()=>this._visibilityModeHandler()),!0),this.watch(\"visible\",(()=>this._visibleHandler()),!0)],\"grouplayerview\"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]}),this._layerViewsAfterChangesHandler()}set layerViews(e){this._set(\"layerViews\",r(e,this._get(\"layerViews\")))}isUpdating(){return this.layerViews.some((e=>e.updating))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((e,i)=>e+i.updatingProgress),0)/this.layerViews.length}_hasLayerViewVisibleOverrides(){return this.layerViews.some((e=>e._isOverridden(\"visible\")))}_findLayerViewForLayer(e){return e&&this.layerViews.find((i=>i.layer===e))}_firstVisibleOnLayerOrder(){const e=this.layer.layers.find((e=>{const i=this._findLayerViewForLayer(e);return i&&i.visible}));return e&&this._findLayerViewForLayer(e)}_enforceExclusiveVisibility(e){this._hasLayerViewVisibleOverrides()&&(e||!(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.getItemAt(0))),this.layerViews.forEach((i=>{i.visible=i===e})))}_layerViewsChangeHandler(e){this.handles.remove(\"grouplayerview:visible\"),this.handles.add(this.layerViews.map((e=>e.watch(\"visible\",(i=>this._layerViewVisibleHandler(i,e)),!0))).toArray(),\"grouplayerview:visible\");const i=e.added[e.added.length-1];let s=null;i&&i.visible&&(s=i),this._enforceVisibility(s)}_layerViewsAfterChangesHandler(){this.handles.remove(\"grouplayerview:updating\"),this.handles.add(this.layerViews.map((e=>e.watch(\"updating\",(()=>this._updateUpdating()),!0))).toArray(),\"grouplayerview:updating\"),this._updateUpdating()}_enforceVisibility(e){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case\"inherited\":{const e=this.visible;this.layerViews.forEach((i=>{i.visible=e}));break}case\"exclusive\":this._enforceExclusiveVisibility(e)}}_visibilityModeHandler(){this._enforceVisibility()}_layerViewVisibleHandler(e,i){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case\"inherited\":e!==this.visible&&(i.visible=this.visible);break;case\"exclusive\":this._enforceExclusiveVisibility(e&&i)}}_visibleHandler(){var e;this._hasLayerViewVisibleOverrides()&&\"inherited\"===(null==(e=this.layer)?void 0:e.visibilityMode)&&this._enforceVisibility()}_updateUpdating(){this.notifyChange(\"updating\")}};e([t({cast:s})],o.prototype,\"layerViews\",null),e([t()],o.prototype,\"view\",void 0),e([t({readOnly:!0})],o.prototype,\"updatingProgress\",null),o=e([a(\"esri.views.layers.GroupLayerView\")],o);const h=o;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{s as n}from\"../../../../chunks/vec2.js\";import{a as o}from\"../../../../chunks/vec2f64.js\";import{convertFromNestedArray as c,convertFromPolygon as i}from\"../../../../layers/graphics/featureConversionUtils.js\";import a from\"../../../../layers/graphics/OptimizedGeometry.js\";import{i1616to32 as f}from\"./number.js\";import h from\"../../../webgl/BufferObject.js\";const m=t.getLogger(\"esri.views.2d.engine.webgl.Mesh2D\"),u=t=>{switch(t.BYTES_PER_ELEMENT){case 1:return 5121;case 2:return 5123;case 4:return 5125;default:throw new e(\"Cannot get DataType of array\")}},y=(e,t,r,s)=>{let n=0;for(let o=1;o<r;o++){const r=e[2*(t+o-1)],s=e[2*(t+o-1)+1];n+=(e[2*(t+o)]-r)*(e[2*(t+o)+1]+s)}return s?n>0:n<0},x=({coords:e,lengths:t},r)=>{const n=[];for(let o=0,c=0;o<t.length;c+=t[o],o+=1){const i=c,a=[];for(;o<t.length-1&&y(e,c+t[o],t[o+1],r);o+=1,c+=t[o])a.push(c+t[o]-i);const f=e.slice(2*i,2*(c+t[o])),h=s(f,a,2);for(const e of h)n.push(e+i)}return n};class g{constructor(e,t,r,s=!1){this._cache={},this.vertices=e,this.indices=t,this.primitiveType=r,this.isMapSpace=s}static fromRect({x:e,y:t,width:r,height:s}){const n=e,o=t,c=n+r,i=o+s;return g.fromScreenExtent({xmin:n,ymin:o,xmax:c,ymax:i})}static fromPath(e){const t=c(new a,e.path,!1,!1),r=t.coords,s=new Uint32Array(x(t,!0)),n=new Uint32Array(r.length/2);for(let o=0;o<n.length;o++)n[o]=f(Math.floor(r[2*o]),Math.floor(r[2*o+1]));return new g({geometry:n},s,4)}static fromGeometry(t,r){const s=r.geometry.type;switch(s){case\"polygon\":return g.fromPolygon(t,r.geometry);case\"extent\":return g.fromMapExtent(t,r.geometry);default:return m.error(new e(\"mapview-bad-type\",`Unable to create a mesh from type ${s}`,r)),g.fromRect({x:0,y:0,width:1,height:1})}}static fromPolygon(e,t){const r=i(new a,t,!1,!1),s=r.coords,c=new Uint32Array(x(r,!1)),h=new Uint32Array(s.length/2),m=o(),u=o();for(let o=0;o<h.length;o++)n(m,s[2*o],s[2*o+1]),e.toScreen(u,m),h[o]=f(Math.floor(u[0]),Math.floor(u[1]));return new g({geometry:h},c,4,!0)}static fromScreenExtent({xmin:e,xmax:t,ymin:r,ymax:s}){const n={geometry:new Uint32Array([f(e,r),f(t,r),f(e,s),f(e,s),f(t,r),f(t,s)])},o=new Uint32Array([0,1,2,3,4,5]);return new g(n,o,4)}static fromMapExtent(e,t){const[r,s]=e.toScreen([0,0],[t.xmin,t.ymin]),[n,o]=e.toScreen([0,0],[t.xmax,t.ymax]),c={geometry:new Uint32Array([f(r,s),f(n,s),f(r,o),f(r,o),f(n,s),f(n,o)])},i=new Uint32Array([0,1,2,3,4,5]);return new g(c,i,4)}destroy(){r(this._cache.indexBuffer)&&this._cache.indexBuffer.dispose();for(const e in this._cache.vertexBuffers)r(this._cache.vertexBuffers[e])&&this._cache.vertexBuffers[e].dispose()}get elementType(){return u(this.indices)}getIndexBuffer(e,t=35044){return this._cache.indexBuffer||(this._cache.indexBuffer=h.createIndex(e,t,this.indices)),this._cache.indexBuffer}getVertexBuffers(e,t=35044){return this._cache.vertexBuffers||(this._cache.vertexBuffers=Object.keys(this.vertices).reduce(((r,s)=>({...r,[s]:h.createVertex(e,t,this.vertices[s])})),{})),this._cache.vertexBuffers}}export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import e from\"../../../../core/Logger.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as o}from\"../DisplayObject.js\";import h from\"./Mesh2D.js\";import a from\"../../../webgl/VertexArrayObject.js\";const c=e.getLogger(\"esri.views.2d.engine.webgl.ClippingInfo\"),n=t=>parseFloat(t)/100;class m extends o{constructor(t,e){super(),this._clip=e,this._cache={},this.stage=t,this._handle=e.watch(\"version\",(()=>this._invalidate())),this.ready()}static fromClipArea(t,e){return new m(t,e)}_destroyGL(){r(this._cache.mesh)&&(this._cache.mesh.destroy(),this._cache.mesh=null),r(this._cache.vao)&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(t,e,r,i){const[o,h]=e.size;if(\"geometry\"!==this._clip.type&&this._lastWidth===o&&this._lastHeight===h||(this._lastWidth=o,this._lastHeight=h,this._destroyGL()),s(this._cache.vao)){const s=this._createMesh(e,this._clip),o=s.getIndexBuffer(t),h=s.getVertexBuffers(t);this._cache.mesh=s,this._cache.vao=new a(t,r,i,h,o)}return this._cache.vao}_createTransforms(){return{dvs:i()}}_invalidate(){this._destroyGL(),this.requestRender()}_createScreenRect(t,e){const[r,s]=t.size,i=\"string\"==typeof e.left?n(e.left)*r:e.left,o=\"string\"==typeof e.right?n(e.right)*r:e.right,h=\"string\"==typeof e.top?n(e.top)*s:e.top,a=\"string\"==typeof e.bottom?n(e.bottom)*s:e.bottom,c=i,m=h;return{x:c,y:m,width:Math.max(r-o-c,0),height:Math.max(s-a-m,0)}}_createMesh(e,r){switch(r.type){case\"rect\":return h.fromRect(this._createScreenRect(e,r));case\"path\":return h.fromPath(r);case\"geometry\":return h.fromGeometry(e,r);default:return c.error(new t(\"mapview-bad-type\",\"Unable to create ClippingInfo mesh from clip of type: ${clip.type}\")),h.fromRect({x:0,y:0,width:1,height:1})}}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/mat3f32.js\";import{brushes as t}from\"../brushes.js\";import{Container as i}from\"../Container.js\";import n from\"./ClippingInfo.js\";import{WGLDrawPhase as o}from\"./enums.js\";class a extends i{constructor(){super(...arguments),this.name=this.constructor.name}set clips(e){this._clips=e,this.children.forEach((r=>r.clips=e)),this._updateClippingInfo()}_createTransforms(){return{dvs:s()}}doRender(e){const r=this.createRenderParams(e),{painter:s,globalOpacity:t,profiler:i,drawPhase:n}=r,a=n===o.LABEL||n===o.HIGHLIGHT?1:t*this.computedOpacity;i.recordContainerStart(this.name),s.beforeRenderLayer(r,this._clippingInfos?255:0,a),this.updateTransforms(e.state),this.renderChildren(r),s.compositeLayer(r,a),i.recordContainerEnd()}renderChildren(r){e(this._renderPasses)&&(this._renderPasses=this.prepareRenderPasses(r.painter));for(const e of this.children)e.beforeRender(r);for(const e of this._renderPasses)try{e.render(r)}catch(s){}for(const e of this.children)e.afterRender(r)}createRenderParams(e){return e.requireFBO=this.requiresDedicatedFBO,e}prepareRenderPasses(e){return[e.registerRenderPass({name:\"clip\",brushes:[t.clip],target:()=>this._clippingInfos,drawPhase:o.MAP|o.LABEL|o.LABEL_ALPHA|o.DEBUG|o.HIGHLIGHT})]}updateTransforms(e){for(const r of this.children)r.setTransform(e)}onAttach(){super.onAttach(),this._updateClippingInfo()}onDetach(){super.onDetach(),this._updateClippingInfo()}_updateClippingInfo(){if(r(this._clippingInfos)&&(this._clippingInfos.forEach((e=>e.destroy())),this._clippingInfos=null),!this.stage)return;const e=this._clips;r(e)&&e.length&&(this._clippingInfos=e.items.map((e=>n.fromClipArea(this.stage,e)))),this.requestRender()}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../webgl/BufferObject.js\";import e from\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import t from\"./WGLContainer.js\";class r extends t{constructor(){super(...arguments),this._lastWidth=0,this._lastHeight=0,this.requiresDedicatedFBO=!1}dispose(){this._renderTarget&&(this._renderTarget.dispose(),this._renderTarget=null)}doRender(e){const t=this.createRenderParams(e),{context:r,painter:s,profiler:i}=t;this._prevFBO=r.getBoundFramebufferObject(),i.recordContainerStart(this.name);const o=this._getFbo(t),a=s.getRenderTarget();r.bindFramebuffer(o),s.setRenderTarget(o),r.setDepthWriteEnabled(!0),r.setColorMask(!0,!0,!0,!0),r.setClearColor(0,0,0,0),r.setClearDepth(1),r.clear(r.gl.COLOR_BUFFER_BIT|r.gl.DEPTH_BUFFER_BIT),r.setDepthWriteEnabled(!1);for(const n of this.children)n.beforeRender(e);for(const n of this.children)n.processRender(t);for(const n of this.children)n.afterRender(e);s.setRenderTarget(a),r.bindFramebuffer(this._prevFBO),s.beforeRenderLayer(t,this._clippingInfos?255:0,this.computedOpacity),r.setStencilTestEnabled(!1),r.setStencilWriteMask(0),s.blitTexture(r,o.colorTexture,9728),s.compositeLayer(t,this.computedOpacity),i.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(t){const{context:r,painter:s}=t,{width:i,height:o}=r.getViewport();if(i!==this._lastWidth||o!==this._lastHeight)if(this._lastWidth=i,this._lastHeight=o,this._renderTarget)this._renderTarget.resize(i,o);else{const t={target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:i,height:o},a={colorTarget:0,depthStencilTarget:3};this._renderTarget=new e(r,a,t,s.getSharedStencilBuffer())}return this._renderTarget}}export{r as GroupContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GroupContainer as s}from\"../engine/webgl/GroupContainer.js\";import{LayerView2DMixin as t}from\"./LayerView2D.js\";import o from\"../../layers/GroupLayerView.js\";let a=class extends(t(o)){constructor(){super(...arguments),this.container=new s}attach(){this._updateStageChildren(),this.handles.add(this.layerViews.on(\"after-changes\",(()=>this._updateStageChildren())),\"grouplayerview2d\")}detach(){this.handles.remove(\"grouplayerview2d\"),this.container.removeAllChildren()}update(e){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,r)=>this.container.addChildAt(e.container,r)))}};a=e([r(\"esri.views.2d.layers.GroupLayerView2D\")],a);const i=a;export{i as default};\n"],"sourceRoot":""}