{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/support/RasterWorker.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterTransforms/BaseRasterTransform.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterTransforms/IdentityTransform.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js"],"names":["h","e","o","fromJSON","pixelBlock","s","type","Promise","resolve","toJSON","r","data","options","extent","this","symbolizer","symbolize","symbolizerJSON","histograms","rendererJSON","simpleStretch","srcPixelBlock","stretchParams","tileSize","maximumPyramidLevel","forEach","t","set","srcPixelBlocks","map","srcMosaicSize","blockWidths","alignmentInfo","coefs","destDimension","sampleSpacing","interpolation","Float32Array","flowData","buffer","width","height","vertexData","indexData","rendererSettings","signal","result","vertexBuffer","indexBuffer","transferList","projectedExtent","srcBufferExtent","datumTransformationStemps","steps","spatialReference","i","rasterTransform","datumTransformation","prototype","json","write","a","super","arguments","tolerance","clone","x","xmin","xmax","GCSShiftXform","c","p","y","n","f","l","ymin","ymax","push","u","Math","min","apply","max","polynomialOrder","coeffX","coeffY","length","_get","_set","inverseCoeffX","inverseCoeffY","forwardCoefficients","inverseCoefficients","PolynomialXform","m","IdentityXform","Object","keys","includes","read","cols","rows","isNaN","abs","3395","3410","3857","3975","4087","4088","6933","32662","53001","53002","53003","53004","53016","53017","53034","53079","53080","54001","54002","54003","54004","54016","54017","54034","54079","54080","54100","54101","M","g","async","d","w","R","equals","center","b","v","isGeographic","C","N","z","P","j","G","normalize","S","isWebMercator","filter","wkid","W","floor","T","storageInfo","origin","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","blockWidth","pyramidScalingFactor","transform","ceil","round","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","L","isAdaptive","spacing","k","size","offsets","outofBoundPointCount","error","coefficients","I","pixelSize","hasWrapAround","inverseTransform","NaN","q","A","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","F","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme","dataType"],"mappings":"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","file":"js/chunk-f1516bda.22c84379.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as r}from\"../../core/maybe.js\";import e from\"../../geometry/support/GeographicTransformation.js\";import t from\"./PixelBlock.js\";import{decode as o}from\"./rasterFormats/RasterCodec.js\";import{estimateStatisticsHistograms as s,split as i,mosaic as a,approximateTransform as n}from\"./rasterFunctions/pixelUtils.js\";import{requirePE as m,load as l,getProjectionOffsetGrid as f}from\"./rasterFunctions/rasterProjectionHelper.js\";import{convertVectorFieldData as c}from\"./rasterFunctions/vectorFieldUtils.js\";import{readTransform as p}from\"./rasterTransforms/utils.js\";import u from\"../../renderers/support/RasterSymbolizer.js\";import{createStreamlinesMesh as d}from\"../../views/2d/engine/flow/dataUtils.js\";import S from\"../../geometry/Extent.js\";class h{convertVectorFieldData(e){const o=t.fromJSON(e.pixelBlock),s=c(o,e.type);return Promise.resolve(r(s)&&s.toJSON())}async decode(r){const e=await o(r.data,r.options);return e&&e.toJSON()}symbolize(e){e.pixelBlock=t.fromJSON(e.pixelBlock),e.extent=e.extent?S.fromJSON(e.extent):null;const o=this.symbolizer.symbolize(e);return Promise.resolve(r(o)&&o.toJSON())}async updateSymbolizer(r){var e;this.symbolizer=u.fromJSON(r.symbolizerJSON),r.histograms&&\"rasterStretch\"===(null==(e=this.symbolizer)?void 0:e.rendererJSON.type)&&(this.symbolizer.rendererJSON.histograms=r.histograms)}stretch(e){const o=this.symbolizer.simpleStretch(t.fromJSON(e.srcPixelBlock),e.stretchParams);return Promise.resolve(r(o)&&o.toJSON())}estimateStatisticsHistograms(r){const e=s(t.fromJSON(r.srcPixelBlock));return Promise.resolve(e)}split(r){const e=i(t.fromJSON(r.srcPixelBlock),r.tileSize,r.maximumPyramidLevel);return e&&e.forEach(((r,t)=>{e.set(t,null==r?void 0:r.toJSON())})),Promise.resolve(e)}async mosaicAndTransform(r){const e=r.srcPixelBlocks.map((r=>r?new t(r):null)),o=a(e,r.srcMosaicSize,{blockWidths:r.blockWidths,alignmentInfo:r.alignmentInfo});if(!r.coefs)return o&&o.toJSON();const s=n(o,r.destDimension,r.coefs,r.sampleSpacing,r.interpolation);return s&&s.toJSON()}async createStreamlinesMesh(r,e){const t={data:new Float32Array(r.flowData.buffer),width:r.flowData.width,height:r.flowData.height},{vertexData:o,indexData:s}=await d(r.rendererSettings,t,e.signal);return{result:{vertexBuffer:o.buffer,indexBuffer:s.buffer},transferList:[o.buffer,s.buffer]}}async getProjectionOffsetGrid(r){const t=S.fromJSON(r.projectedExtent),o=S.fromJSON(r.srcBufferExtent);let s=null;r.datumTransformationStemps&&(s=new e({steps:r.datumTransformationStemps})),m(t.spatialReference,o.spatialReference,s)&&await l();const i=r.rasterTransform?p(r.rasterTransform):null;return f({...r,projectedExtent:t,srcBufferExtent:o,datumTransformation:s,rasterTransform:i})}}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends s{get affectsPixelSize(){return!1}forwardTransform(r){return r}inverseTransform(r){return r}};r([e()],t.prototype,\"affectsPixelSize\",null),r([e({json:{write:!0}})],t.prototype,\"spatialReference\",void 0),t=r([o(\"esri.layers.support.rasterTransforms.BaseRasterTransform\")],t);const a=t;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./BaseRasterTransform.js\";let a=class extends e{constructor(){super(...arguments),this.type=\"gcs-shift\",this.tolerance=1e-8}forwardTransform(r){return\"point\"===(r=r.clone()).type?(r.x>180+this.tolerance&&(r.x-=360),r):(r.xmin>=180-this.tolerance?(r.xmax-=360,r.xmin-=360):r.xmax>180+this.tolerance&&(r.xmin=-180,r.xmax=180),r)}inverseTransform(r){return\"point\"===(r=r.clone()).type?(r.x<-this.tolerance&&(r.x+=360),r):(r.xmin<-this.tolerance&&(r.xmin+=360,r.xmax+=360),r)}};r([s({GCSShiftXform:\"gcs-shift\"})],a.prototype,\"type\",void 0),r([o()],a.prototype,\"tolerance\",void 0),a=r([t(\"esri.layers.support.rasterTransforms.GCSShiftTransform\")],a);const c=a;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"../../../core/accessorSupport/decorators/writer.js\";import i from\"./BaseRasterTransform.js\";import f from\"../../../geometry/Point.js\";import l from\"../../../geometry/Extent.js\";function p(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,n=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+n*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+n*e[9]+o*e[11]}}const n=t*t,i=s*s,f=t*s,l=n*t,p=n*s,a=t*i,c=s*i;return{x:e[0]+t*e[2]+s*e[4]+n*e[6]+f*e[8]+i*e[10]+l*e[12]+p*e[14]+a*e[16]+c*e[18],y:e[1]+t*e[3]+s*e[5]+n*e[7]+f*e[9]+i*e[11]+l*e[13]+p*e[15]+a*e[17]+c*e[19]}}function a(e,r,o){const{xmin:t,ymin:s,xmax:n,ymax:i,spatialReference:f}=r;let a=[];if(o<2)a.push({x:t,y:i}),a.push({x:n,y:i}),a.push({x:t,y:s}),a.push({x:n,y:s});else{let e=10;for(let r=0;r<e;r++)a.push({x:t,y:s+(i-s)*r/(e-1)}),a.push({x:n,y:s+(i-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)a.push({x:t+(n-t)*r/e,y:s}),a.push({x:t+(n-t)*r/e,y:i})}a=a.map((r=>p(e,r,o)));const c=a.map((e=>e.x)),u=a.map((e=>e.y));return new l({xmin:Math.min.apply(null,c),xmax:Math.max.apply(null,c),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:f})}function c(e){const[r,o,t,s,n,i]=e,f=t*i-n*s,l=n*s-t*i;return[(n*o-r*i)/f,(t*o-r*s)/l,i/f,s/l,-n/f,-t/l]}let u=class extends i{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=c(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.inverseCoeffX=t,r.inverseCoeffY=s}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if(\"point\"===e.type){const r=p(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return a(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=p(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return a(this.inverseCoefficients,e,this.polynomialOrder)}};e([r({json:{write:!0}})],u.prototype,\"polynomialOrder\",void 0),e([r()],u.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],u.prototype,\"readForwardCoefficients\",null),e([n(\"forwardCoefficients\")],u.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],u.prototype,\"readInverseCoefficients\",null),e([n(\"inverseCoefficients\")],u.prototype,\"writeInverseCoefficients\",null),e([r()],u.prototype,\"affectsPixelSize\",null),e([o({PolynomialXform:\"polynomial\"})],u.prototype,\"type\",void 0),u=e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],u);const m=u;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./BaseRasterTransform.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"identity\"}};r([s({IdentityXform:\"identity\"})],e.prototype,\"type\",void 0),e=r([o(\"esri.layers.support.rasterTransforms.IdentityTransform\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport n from\"./GCSShiftTransform.js\";import o from\"./IdentityTransform.js\";import r from\"./PolynomialTransform.js\";const t={GCSShiftXform:n,IdentityXform:o,PolynomialXform:r},i=Object.keys(t);function e(n){const o=null==n?void 0:n.type;return!n||i.includes(o)}function f(n){if(!(null==n?void 0:n.type))return null;const o=t[null==n?void 0:n.type];if(o){const r=new o;return r.read(n),r}return null}export{e as isTransformSupported,f as readTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as n,isSome as t}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{canProjectWithoutEngine as i,isLoaded as a,load as r,getTransformation as s,project as l}from\"../../../geometry/projection.js\";import c from\"../../../geometry/Extent.js\";import u from\"../../../geometry/Point.js\";const f=5e-4;function x(e,n,t){return!i(e,n,t)}function m(n,t,o){const i=x(n,t,o);if(i&&!a())throw new e(\"rasterprojectionhelper-project\",\"projection engine is not loaded\");return i}const p=function(e,n,t){const o=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,i=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4,a=(e[4*n.cols]-e[0]+e[4*n.cols+4]-e[4])/t[0]*.5,r=(e[4*n.cols+1]-e[1]+e[4*n.cols+5]-e[5])/t[1]*.5;return[0===a||isNaN(a)?0:Math.abs(o-e[2*n.rows+2])/Math.abs(a),0===r||isNaN(r)?0:Math.abs(i-e[2*n.rows+3])/Math.abs(r)]},h={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},y=32,M=4,g=M;async function d(){if(a())return null;await r()}function w(e,n,t){if(!m(e.spatialReference,n))return null;return t?s(n,e.spatialReference,e):s(e.spatialReference,n,e)}function R(e,t,o,i=null){if(e.spatialReference.equals(t))return e;m(e.spatialReference,t,i);const a=o.center,r=new c({xmin:a.x-e.x/2,xmax:a.x+e.x/2,ymin:a.y-e.y/2,ymax:a.y+e.y/2,spatialReference:e.spatialReference}),s=l(r,t,i);if(n(s))return null;return{x:s.xmax-s.xmin,y:s.ymax-s.ymin}}function b(e,n=.01){return o(e)?n/o(e):0}function v(e,n,t=null,o=!0){const i=e.spatialReference;if(i.equals(n))return e;m(i,n,t);const a=l(e,n,t);if(o&&n.isGeographic){const[n,t]=C(i,!0),o=b(i);o&&null!=n&&null!=t&&(Math.abs(e.x-n)<o&&Math.abs(180-a.x)<f?a.x-=360:Math.abs(e.x-t)<o&&Math.abs(180+a.x)<f&&(a.x+=360))}return a}function N(e,n,t=null){const o=e[0].spatialReference;return o.equals(n)?e:(m(o,n,t),l(e,n,t))}function z(e){const n=P(e[0].spatialReference);if(e.length<2||!t(n))return e[0];let{xmin:o,xmax:i,ymin:a,ymax:r}=e[0];for(let t=1;t<e.length;t++){const o=e[t];i=o.xmax+n*t,a=Math.min(a,o.ymin),r=Math.max(r,o.ymax)}return new c({xmin:o,xmax:i,ymin:a,ymax:r,spatialReference:e[0].spatialReference})}function j(e,n,o=null,i=!0){if(e.spatialReference.equals(n))return e;const a=G(e),r=P(e.spatialReference,!0);if(!t(r)||0===a)return S(e,n,o,i);return z(e.clone().normalize().map((e=>S(e,n,o,i))))}function S(e,n,t=null,o=!0){const i=e.spatialReference;if(i.equals(n))return e;m(i,n,t);const a=l(e,n,t);let[r,s]=C(i,!0);if(a&&o&&i.isWebMercator&&n.isGeographic&&null!=r&&null!=s){const o=.001,l=1e3;if(Math.abs(e.xmin-r)<o&&Math.abs(s-e.xmax)>l&&Math.abs(180-a.xmax)<f){a.xmin=-180;const o=[];o.push(new u(e.xmax,e.ymin,i)),o.push(new u(e.xmax,(e.ymin+e.ymax)/2,i)),o.push(new u(e.xmax,e.ymax,i));const r=o.map((e=>v(e,n,t))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));a.xmax=Math.max.apply(null,r)}if(Math.abs(e.xmax-s)<o&&Math.abs(r-e.xmin)>l&&Math.abs(180+a.xmin)<f){a.xmax=180;const o=[];o.push(new u(e.xmin,e.ymin,i)),o.push(new u(e.xmin,(e.ymin+e.ymax)/2,i)),o.push(new u(e.xmin,e.ymax,i));const r=o.map((e=>v(e,n,t))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));a.xmin=Math.min.apply(null,r)}}[r,s]=C(n,!0);const c=b(n);return c&&null!=r&&null!=s&&a&&(Math.abs(a.xmin-r)<c&&(a.xmin=r),Math.abs(a.xmax-s)<c&&(a.xmax=s)),a}function P(e,n=!1){const t=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*t:e.wkid&&e.isGeographic?360:2*h[e.wkid]||null}function C(e,n=!1){const o=[],i=P(e,n);return t(i)&&(o.push(-i/2),o.push(i/2)),o}function W(e,n,t,o){let i=(e-n)/t;return i-Math.floor(i)!=0?i=Math.floor(i):o&&(i-=1),i}function G(e,n=!1){const o=P(e.spatialReference);if(!t(o))return 0;const i=n?0:-(o/2);return W(e.xmax,i,o,!0)-W(e.xmin,i,o,!1)}function T(e){const n=e.storageInfo.origin.x,o=P(e.spatialReference,!0);if(!t(o))return{originX:n,halfWorldWidth:null,pyramidsInfo:null};const i=o/2,{nativePixelSize:a,storageInfo:r,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:u}=r;let f=a.x;const x=[],m=t(e.transform)&&\"gcs-shift\"===e.transform.type,p=n+(m?0:i),h=m?o-n:i-n;for(let t=0;t<=l;t++){const e=(s.xmax-n)/f/c,t=e-Math.floor(e)==0?e:Math.ceil(e),o=h/f/c,i=o-Math.floor(o)==0?o:Math.ceil(o),a=Math.floor(p/f/c),r=Math.round(p/f)%c,l=(c-Math.round(h/f)%c)%c;x.push({resolutionX:f,blockWidth:c,datsetColumnCount:t,worldColumnCountFromOrigin:i,leftMargin:r,rightPadding:l,originColumnOffset:a}),f*=u}return{originX:n,halfWorldWidth:i,pyramidsInfo:x,hasGCSSShiftTransform:m}}function L(e){const n=e.isAdaptive&&null==e.spacing,t=e.spacing||[y,y];let o=k(e),i={cols:o.size[0]+1,rows:o.size[1]+1},a=p(o.offsets,i,t);const r=(a[0]+a[1])/2,s=o.outofBoundPointCount>0&&o.outofBoundPointCount<o.offsets.length/2;return n&&(s||r>g)&&(o=k({...e,spacing:[M,M]}),i={cols:o.size[0]+1,rows:o.size[1]+1},a=p(o.offsets,i,t)),o.error=a,o.coefficients=I(o.offsets,i,s),o}function k(e){const{projectedExtent:n,srcBufferExtent:o,pixelSize:i,datumTransformation:a,rasterTransform:r}=e,s=n.spatialReference,l=o.spatialReference;m(s,l);const{xmin:c,ymin:f,xmax:x,ymax:p}=n,h=P(l),M=e.hasWrapAround||\"gcs-shift\"===(null==r?void 0:r.type),g=e.spacing||[y,y],d={x:g[0]*i.x,y:g[1]*i.y},w={cols:Math.ceil((x-c)/d.x-.1/g[0])+1,rows:Math.ceil((p-f)/d.y-.1/g[1])+1},R=d.x,b=d.y,v=[];let z,j=0;const S=[];for(let t=0;t<w.cols;t++)for(let e=0;e<w.rows;e++)S.push(new u({x:c+R*t,y:p-b*e,spatialReference:s}));const C=N(S,l,a);for(let u=0;u<w.cols;u++){const e=[];for(let n=0;n<w.rows;n++){let i=C[u*w.rows+n];r&&(i=r.inverseTransform(i)),e.push(i),u>0&&M&&i&&z[n]&&t(h)&&i.x<z[n].x&&(i.x+=h),i?(v.push((i.x-o.xmin)/(o.xmax-o.xmin)),v.push((o.ymax-i.y)/(o.ymax-o.ymin))):(v.push(NaN),v.push(NaN),j++)}z=e}return{offsets:v,error:null,coefficients:null,outofBoundPointCount:j,spacing:g,size:[w.cols-1,w.rows-1]}}function I(e,n,t){const{cols:o,rows:i}=n,a=new Float32Array((o-1)*(i-1)*2*6),r=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),s=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let l=0;l<o-1;l++){for(let n=0;n<i-1;n++){let t=l*i*2+2*n;const c=e[t],u=e[t+1],f=e[t+2],x=e[t+3];t+=2*i;const m=e[t],p=e[t+1],h=e[t+2],y=e[t+3];let M=0,g=12*(n*(o-1)+l);for(let e=0;e<3;e++)a[g++]=r[M++]*c+r[M++]*f+r[M++]*h;M=0;for(let e=0;e<3;e++)a[g++]=r[M++]*u+r[M++]*x+r[M++]*y;M=0;for(let e=0;e<3;e++)a[g++]=s[M++]*c+s[M++]*m+s[M++]*h;M=0;for(let e=0;e<3;e++)a[g++]=s[M++]*u+s[M++]*p+s[M++]*y}if(t)for(let e=0;e<a.length;e++)isNaN(a[e])&&(a[e]=-1)}return a}function q(e){const n=e.clone().normalize();return 1===n.length?n[0]:z(n)}function A(e,n,o){const{storageInfo:i,pixelSize:a}=n;let r,s=!1;const{pyramidResolutions:l}=i;if(t(l)&&l.length){const t=(e.x+e.y)/2,i=l[l.length-1],c=(i.x+i.y)/2,f=(a.x+a.y)/2;if(t<=f)r=0;else if(t>=c)r=l.length,s=t/c>8;else{let e,n=f;for(let i=1;i<=l.length;i++){if(e=(l[i-1].x+l[i-1].y)/2,t<=e){t===e?r=i:\"down\"===o?(r=i-1,s=t/n>8):r=\"up\"===o||t-n>e-t||t/n>2?i:i-1;break}n=e}}const x=0===r?a:l[r-1];return{pyramidLevel:r,pyramidResolution:new u({x:x.x,y:x.y,spatialReference:n.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/a.x)/Math.LN2,f=Math.log(e.y/a.y)/Math.LN2,x=n.storageInfo.maximumPyramidLevel||0;r=\"down\"===o?Math.floor(Math.min(c,f)):\"up\"===o?Math.ceil(Math.max(c,f)):Math.round((c+f)/2),r<0?r=0:r>x&&(s=r>x+3,r=x);const m=2**r;return{pyramidLevel:r,pyramidResolution:new u({x:m*n.nativePixelSize.x,y:m*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:s}}function F(e,n,t=512,i=!0){const{extent:a,spatialReference:r,pixelSize:s}=e,l=R(new u({x:s.x,y:s.y,spatialReference:r}),n,a);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,f=o(n),x=c*f*96*39.37,m=n.isGeographic?256/t*295828763.7958547:256/t*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=j(a,n);p||i&&(n.isGeographic||n.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=x;const g=1.001;if(p){M=m;const e=n.isGeographic?1341104507446289e-21:.29858214164761665,t=e*(96*f*39.37),o=n.isGeographic?4326:3857;y=R(new u({x:e,y:e,spatialReference:{wkid:o}}),r,h),y.x*=M/t,y.y*=M/t}else{y={x:s.x,y:s.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;M<m*(g/2)&&t<n;)t++,M*=2,y.x*=2,y.y*=2;Math.max(M,m)/Math.min(M,m)<=g&&(M=m)}const d=[M],w=[{x:y.x,y:y.y}],b=70.5310735,v=Math.min(b,x)/g;for(;M>=v;)M/=2,y.x/=2,y.y/=2,d.push(M),w.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:d,srcResolutions:w,isCustomTilingScheme:!p}}export{F as computeProjectedScales,y as defaultGridSpacing,g as defaultProjectionToleranceInPixels,w as getDefaultDatumTransformationForDataset,L as getProjectionOffsetGrid,T as getRasterDatasetAlignmentInfo,P as getWorldWidth,G as getWorldWrapCount,d as load,M as minimumGridSpacing,j as projectExtent,v as projectPoint,R as projectResolution,x as requirePE,q as snapExtent,A as snapPyramid};\n"],"sourceRoot":""}