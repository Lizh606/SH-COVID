{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","webpack:///./node_modules/@arcgis/core/views/layers/support/popupUtils.js","webpack:///./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js"],"names":["a","o","n","s","c","h","i","t","r","e","Math","ceil","log","LOG2E","isGeographic","radius","PI","round","max","min","cos","abs","M","m","super","geometryBuffer","primaryAttributeData","buffer","push","modulationAttributeData","filterAttributesData","u","userAttributesData","g","length","l","load","remove","indexOf","getParentId","sort","getRenderCenter","pop","this","_pages","pageSize","_nodeSR","_renderSR","nodes","renderObbs","parents","Uint32Array","getRenderObb","center","index","queue","masks","tempAabb","p","hasNodes","getNode","d","f","clippingBox","frustum","predicate","firstChild","childCount","hasPage","pageMiss","obb","obbs","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","cloneProperties","pointCloudMetadata","constructOnly","prototype","context","highlights","Set","size","add","enableSet","removeSet","disableSet","delete","enabled","forEachNode","enableSetForNode","ids","get","id","forEach","addHighlight","disableSetForNode","removeHighlight","Map","nodeId","pointId","set","shader","configuration","build","output","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","drawScreenSize","rctx","depthTest","func","depthWrite","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","arguments","count","T","positions","offset","stride","normalized","colors","_params","isGround","_bindParameters","inverseViewport","highlightDepthTexture","_highlights","canRender","layerUid","_useFixedSizes","_scaleFactor","_minSizePx","_useRealWorldSymbolSizes","_size","_sizePx","_slicePlaneEnabled","_clipBox","_techniqueConfig","tempMatrix4","tempVec3","hasHighlights","_context","_techniqueRep","shaderTechniqueRep","requestRender","camera","perScreenPixelRatio","near","z","_getSizeParams","R","y","node","point","dist","normal","A","U","C","B","forAll","splatSize","_","D","isLeaf","x","S","q","I","v","E","origin","L","coordinates","b","P","G","options","store","graphicUid","createGraphic","N","results","all","pass","selectTechnique","program","vao","_initNode","useProgram","bindPipelineState","setUniform3fv","setUniformMatrix4fv","projectionMatrix","setUniform2f","far","isHighlightPass","fullViewport","pixelRatio","drawFixedSize","fixedSize","fullHeight","sliceHelper","plane","screenMinSize","k","viewMatrix","bindVAO","_renderHighlightFragments","drawArrays","component","_requestRender","nodeAdded","filterInPlace","nodeRemoved","removeAll","clear","K","Q","createVertex","rgb","drawScreenSpace","hasOccludees","releaseAndAcquire","_technique","J","filter","hasOwnProperty","isInstanceOfNode","ne","getLogger","ae","de","le","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_nodeScales","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","Array","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","layer","scaleFactor","useRealWorldSymbolSizes","pointsPerInch","outFields","fieldsIndex","from","view","clippingArea","renderSpatialReference","elevationInfo","mode","spatialReference","unit","resourceController","_worker","schedule","addResolvingPromise","promise","_tmpPoint","_indexRequester","createStreamDataRequester","_dataRequester","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","state","handles","basemapTerrain","on","_scaleUpdateHandler","events","when","scheduler","registerTask","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","_clearNodeState","_updateLoading","cancelLoading","destroy","_destroyRenderer","abort","_createGraphic","_setPointsVisible","minSizePx","sqrt","sizePx","pointIdFilterMap","computeMapPointFromVec3d","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","attributes","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","useFixedSizes","minScale","maxScale","extent","ue","has","scale","contentCamera","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","abortController","cancelAll","_removeFromRenderer","suspended","running","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","runTask","shift","_loadNodePage","then","addPage","_elevationOffset","done","_scheduleWorkEntry","_processWorkEntry","madeProgress","find","Promise","AbortController","toString","resolve","loadNode","signal","_setupRendererData","_addToRenderer","catch","domain","queryCachedStatistics","ok","value","labels","isArray","codedValues","code","label","populateClassCodeCodedDomain","_splitGraphicsPerNode","async","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","highlight","_graphicToPointDefinition","canResume","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","createVisibilityTraverse","baseUrl","_requestNodePage","pointCount","lodThreshold","effectiveArea","inverseDensity","_getLodMemoryFactor","_computeNodesForMinimumDensity","_computePointCount","displayNodes","memoryFactor","_clippingBox","eye","_getScale","_computeAveragePixelArea","getScale","loadNodeAsync","error","loadAdditionalUserAttributes","w","schema","rendererInfo","filterInfo","elevationOffset","inSR","outSR","invoke","_requestData","key","token","apiKey","request","query","removeNode","put","he","addNode","halfSize","warn","setRenderObb","points","pe","reduce","getUsedMemory","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","visibleNodes","readOnly","aliasOf","Boolean","ce","popupTemplate","getRequiredFields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","extensions","include","vertex","uniforms","varyings","fragment","Object","freeze","__proto__","V","parseInt","substring","lastIndexOf","X","geometryBuffers","compressedAttributes","Y","traverse","mbs","oe","ee","te","re","rotationScale","position","se","missingFields","originalFields","ie","associatedLayer","loaded","parsedUrl","path","indices","graphics","featureIds","fields","fe","capabilities","maxRecordCount","objectIds","orderByFields","queryFeatures","features","resources","url","responseType","data","me","indexCRS","geographicCRS","indexWKT","wkt","equals","ye","vertexCRS","projectedCRS","vertexWKT","be","wkid","ge","we","isWGS84","isWebMercator","Se","ve","geometryType","topology","vertexAttributes","Me","xe","viewingMode","je","qe","Re","ke","Te","We","defaultSymbol","getSymbols","symbolLayers","items","material","color","colorMixMode","ze","opacity","Fe","edgeMaterial","castShadows","Ae","edges","alpha","Ie","Ce","Qe","$e","Ue","Oe","quaternion","Be","Pe","Ge","Float64Array","Ke","Le","Ee","Je","De","He","Ye","inverseFlattening","Ze","et","Ve","serviceObb","Xe","hasZ","Ne","rings","_e","popupEnabled","_validateFetchPopupFeatures","reject","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","concat"],"mappings":"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","file":"js/chunk-6c7a01e0.3f9dba72.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat4f64.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as r}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/projectionEllipsoid.js\";function a(o,n,a,s){const c=h(o,n,a),i=t();return r(a,c,i,s),i}const s=1,c=5-s;function h(t,r,a){const h=o(),i=t[3],e=2**(Math.ceil(Math.log(i)*Math.LOG2E/c)*c+s);if(a.isGeographic){const o=e/n(a).radius*180/Math.PI,r=Math.round(t[1]/o),s=Math.max(-90,Math.min(90,r*o)),c=o/Math.cos((Math.abs(s)-o/2)/180*Math.PI),i=Math.round(t[0]/c)*c;h[0]=i,h[1]=s}else{const o=Math.round(t[0]/e),r=Math.round(t[1]/e);h[0]=o*e,h[1]=r*e}const M=t[2]+r,m=Math.round(M/e);return h[2]=m*e,h}export{a as computeGlobalTransformation,h as getLocalOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(t){super(\"PointCloudWorker\",\"transform\",t)}getTransferList(r){const e=[r.geometryBuffer];if(t(r.primaryAttributeData)&&r.primaryAttributeData.buffer&&e.push(r.primaryAttributeData.buffer),t(r.modulationAttributeData)&&r.modulationAttributeData.buffer&&e.push(r.modulationAttributeData.buffer),t(r.filterAttributesData))for(const u of r.filterAttributesData)t(u)&&u.buffer&&e.push(u.buffer);for(const t of r.userAttributesData)t.buffer&&e.push(t.buffer);return e}}export{e as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{transformObb as n}from\"./I3SUtil.js\";import{set as i,toAaBoundingBox as r,intersectPlane as o,ObbArray as p}from\"../../support/orientedBoundingBox.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=g(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;i(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>a(t,e,s)}}function a(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let u=a.pop();const c=p.getNode(g),d=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(u&i)){const o=r(d,e.tempAabb);t(n.clippingBox,o)?u|=i:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=o(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(i.predicate(g,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),r=l(e+t-1,p.pageSize);for(let o=n;o<=r;o++)if(!p.hasPage(o)){i.pageMiss(g,o),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(u)}}}function g(e,t,s,i){const r=new p(e.length);for(let o=0;o<e.length;o++)n(e[o].obb,t,r.obbs[o],s,i);return r.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e&&e.type,o=e&&t.renderer.toJSON()||null;let r=null,i=!1;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?r=u(t.attributeStorageInfo,e.field):\"point-cloud-rgb\"===n?(r=l(t.attributeStorageInfo,e.field),i=null!=r):(r=l(t.attributeStorageInfo,\"RGB\"),i=null!=r);let a=null;return e&&e.colorModulation&&(a=u(t.attributeStorageInfo,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:r,modulationAttribute:a}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t&&t.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t&&t.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function r(t){const e=t&&t.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function l(t,e){for(const n of t)if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t)if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,r as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";var e;let p=e=class extends o{constructor(r){super(r)}clone(){return new e(this.cloneProperties())}cloneProperties(){const{pointCloudMetadata:r}=this;return{...super.cloneProperties(),pointCloudMetadata:r}}};r([s({constructOnly:!0})],p.prototype,\"pointCloudMetadata\",void 0),p=e=r([t(\"esri.views.3d.layers.i3s.PointGraphic\")],p);export{p as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this.context=e,this.highlights=new Set}get hasHighlights(){return this.highlights.size>0}destroy(){this.highlights=null}add(t){const i=new s(t);return this.highlights.add(i),this.enableSet(i),e((()=>this.removeSet(i)))}removeSet(e){this.disableSet(e),this.highlights.delete(e)}enableSet(e){e.enabled||(e.enabled=!0,this.context.forEachNode((t=>this.enableSetForNode(e,t))))}enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this.context.addHighlight(t,i,e.id)))}disableSet(e){e.enabled&&(e.enabled=!1,this.context.forEachNode((t=>this.disableSetForNode(e,t))))}disableSetForNode(e,t){e.enabled||this.context.removeHighlight(t,e.id)}nodeAdded(e){this.highlights.forEach((t=>this.enableSetForNode(t,e)))}nodeRemoved(e){this.highlights.forEach((t=>this.disableSetForNode(t,e)))}removeAll(){this.highlights.forEach((e=>this.disableSet(e)))}}class s{constructor(e){this.id=new i(0),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this.add(i.nodeId,i.pointId)}add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i,ShaderTechniqueConfiguration as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../lib/Program.js\";import{stencilWriteMaskOn as l,stencilBaseAllZerosParams as c}from\"../lib/StencilUtils.js\";import{P as a}from\"../../../../chunks/PointRenderer.glsl.js\";import{makePipelineState as u,defaultDepthWriteParams as d,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";class h extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){const r=h.shader.get(),t=this.configuration,i=r.build({output:t.output,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,drawScreenSize:t.drawScreenSize});return new n(e.rctx,i,o)}initializePipeline(){return u({depthTest:{func:513},depthWrite:d,colorWrite:p,stencilWrite:this.configuration.sceneHasOcludees?l:null,stencilTest:this.configuration.sceneHasOcludees?c:null})}}h.shader=new r(a,(()=>import(\"./PointRenderer.glsl.js\")));class m extends s{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.drawScreenSize=!1,this.sceneHasOcludees=!1}}e([i({count:8})],m.prototype,\"output\",void 0),e([i()],m.prototype,\"slicePlaneEnabled\",void 0),e([i()],m.prototype,\"drawScreenSize\",void 0),e([i()],m.prototype,\"sceneHasOcludees\",void 0);export{h as PointRendererTechnique,m as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,unwrap as i,disposeMaybe as t,isSome as s}from\"../../../../core/maybe.js\";import r from\"../../../../core/PooledArray.js\";import{i as n,a as o,m as h}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f32.js\";import{f as l,l as c,a as d,o as u,d as m,p,s as g}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f32.js\";import{c as _}from\"../../../../chunks/vec3f64.js\";import{s as x}from\"../../../../chunks/vec4.js\";import{create as S,POSITIVE_INFINITY as z,offset as b,contains as P,containsPoint as w,equals as R,set as y}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as q}from\"../../../../geometry/support/plane.js\";import{fromPoints as v}from\"../../../../geometry/support/ray.js\";import{PointHighlights as M}from\"./PointHighlights.js\";import{minimumDistancePlane as j,maximumDistancePlane as F,intersectLine as H,toAaBoundingBox as V}from\"../../support/orientedBoundingBox.js\";import{bindSliceUniforms as A}from\"../../webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{bindOutputHighlight as U}from\"../../webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{Default3D as C}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as E}from\"../../webgl-engine/lib/Intersector.js\";import{PointRendererTechniqueConfiguration as B,PointRendererTechnique as L}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import N from\"../../../webgl/BufferObject.js\";import O from\"../../../webgl/VertexArrayObject.js\";const T={positions:[{name:\"position\",count:3,type:5126,offset:0,stride:12,normalized:!1}],colors:[{name:\"color\",count:3,type:5121,offset:0,stride:3,normalized:!0}]};class W{constructor(e){this._params=e,this.type=5,this.isGround=!1,this._bindParameters={inverseViewport:[0,0],highlightDepthTexture:null},this._highlights=new M({forEachNode:e=>this.forEachNode(e),addHighlight:(e,i,t)=>this.addHighlight(e,i,t),removeHighlight:(e,i)=>this.removeHighlight(e,i)}),this.canRender=!0,this.layerUid=\"\",this._useFixedSizes=!1,this._scaleFactor=1,this._minSizePx=0,this._useRealWorldSymbolSizes=!1,this._size=0,this._sizePx=0,this._slicePlaneEnabled=!1,this._clipBox=S(z),this._techniqueConfig=new B,this.tempMatrix4=a(),this.tempVec3=f(),this.nodes=new r}get needsHighlight(){return this._highlights.hasHighlights}initializeRenderContext(e){this._context=e,this._techniqueRep=this._context.shaderTechniqueRep,e.requestRender()}uninitializeRenderContext(){}intersect(e,i,t,s){const r=_(),n=_(),o=_(),h=_(),a=q(),g=e.camera.perScreenPixelRatio/2,f=e.camera.near,z=this._getSizeParams();l(n,s,t);const R=1/c(n);d(n,n,R),u(o,n),x(a,n[0],n[1],n[2],-m(n,t));class y{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}const M=new y,A=new y,U=[],C=S(),B=S(this._clipBox);b(B,-t[0],-t[1],-t[2],B),this.nodes.forAll((c=>{const d=c.splatSize*this._scaleFactor;let u=j(c.obb,a),_=F(c.obb,a);u-=D(d,u+f,z,g,c.isLeaf),_-=D(d,_+f,z,g,c.isLeaf);const x=_<0,S=null!=M.dist&&null!=A.dist&&M.dist<u*R&&A.dist>_*R;if(x||S)return;const q=I(d,_+f,z,g,c.isLeaf);if(!H(c.obb,t,n,q))return;const v=q*q;V(c.obb,C),b(C,-t[0],-t[1],-t[2],C);const E=!P(B,C);l(h,c.origin,t);const L=c.coordinates.length/3;for(let a=0;a<L;a++){if(r[0]=h[0]+c.coordinates[3*a],r[1]=h[1]+c.coordinates[3*a+1],r[2]=h[2]+c.coordinates[3*a+2],E&&!w(B,r))continue;const l=m(r,n),u=p(r)-l*l;if(u>v)continue;let _=l+f;const x=D(d,_,z,g,c.isLeaf);if(l-x<0)continue;_-=x;const S=I(d,_,z,g,c.isLeaf);if(u>S*S)continue;const b=(l-x)*R,P=e=>{e.point=G(c,a,e.point),e.dist=b,e.normal=o,e.node=c,e.pointId=a,e.layerUid=this.layerUid};if((null==M.dist||b<M.dist)&&(null==i||i(t,s,b))&&P(M),0!==e.options.store&&(null==A.dist||b>A.dist)&&(null==i||i(t,s,b))&&P(A),2===e.options.store&&(null==i||i(t,s,b))){const e=new y;P(e),U.push(e)}}}));const L=e=>{const{layerUid:i,node:t,pointId:s}=e;return{point:e.point,layerUid:i,graphicUid:s,createGraphic:()=>this._params.createGraphic(t,s,e.point)}},N=(e,i)=>{const t=L(i);e.set(this.type,t,i.dist,i.normal)};if(null!=M.dist){const i=e.results.min;(null==i.dist||M.dist<i.dist)&&N(i,M)}if(null!=A.dist&&0!==e.options.store){const i=e.results.max;(null==i.dist||A.dist>i.dist)&&N(i,A)}if(2===e.options.store){const i=v(t,s);for(const t of U){const s=E(i);N(s,t),e.results.all.push(s)}}}render(e){if(0===this.nodes.length||0!==e.pass&&2!==e.pass&&5!==e.pass)return!1;const i=this._getSizeParams(),t=this.selectTechnique(e,i),s=t.program;if(null==s)return!1;this.nodes.forAll((i=>{null==i.vao&&this._initNode(e,i)}));const r=e.rctx;r.useProgram(s),t.bindPipelineState(r);const a=this._clipBox,l=!R(a,z,((e,i)=>e===i));l||(g(this.tempVec3,-1/0,-1/0,-1/0),s.setUniform3fv(\"uClipMin\",this.tempVec3),g(this.tempVec3,1/0,1/0,1/0),s.setUniform3fv(\"uClipMax\",this.tempVec3)),s.setUniformMatrix4fv(\"uProjectionMatrix\",e.camera.projectionMatrix);2===e.pass&&s.setUniform2f(\"nearFar\",e.camera.near,e.camera.far),e.isHighlightPass&&(this._bindParameters.inverseViewport[0]=1/e.camera.fullViewport[2],this._bindParameters.inverseViewport[1]=1/e.camera.fullViewport[3],this._bindParameters.highlightDepthTexture=e.highlightDepthTexture,U(s,this._bindParameters));const c=e.camera.pixelRatio;i.drawFixedSize&&s.setUniform2f(\"uPointScale\",i.fixedSize*c,e.camera.fullHeight);const d=this._slicePlaneEnabled?e.sliceHelper&&e.sliceHelper.plane:null;return this.nodes.forAll((u=>{if(0===u.coordinates.length||e.isHighlightPass&&!u.highlights)return;if(s.setUniform2f(\"uScreenMinMaxSize\",i.screenMinSize*c,k(u.isLeaf)*c),!i.drawFixedSize){const i=u.splatSize*this._scaleFactor;s.setUniform2f(\"uPointScale\",i*c,e.camera.fullHeight/c)}const m=u.origin;l&&(g(this.tempVec3,a[0]-m[0],a[1]-m[1],a[2]-m[2]),s.setUniform3fv(\"uClipMin\",this.tempVec3),g(this.tempVec3,a[3]-m[0],a[4]-m[1],a[5]-m[2]),s.setUniform3fv(\"uClipMax\",this.tempVec3)),n(this.tempMatrix4),o(this.tempMatrix4,this.tempMatrix4,m),h(this.tempMatrix4,e.camera.viewMatrix,this.tempMatrix4),s.setUniformMatrix4fv(\"uModelViewMatrix\",this.tempMatrix4),A(s,t.configuration,d,m),r.bindVAO(u.vao),e.isHighlightPass?this._renderHighlightFragments(r,u):r.drawArrays(0,0,u.coordinates.length/3)})),!0}_renderHighlightFragments(t,s){const r=s.highlights;if(e(r))return;let n=i(r[0].component),o=n+1;for(let e=1;e<r.length;e++){const s=i(r[e].component);if(s!==o){const e=o-n;e>0&&t.drawArrays(0,n,e),n=s}o=s+1}const h=o-n;h>0&&t.drawArrays(0,n,h)}set useFixedSizes(e){this._useFixedSizes!==e&&(this._useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._useFixedSizes}set scaleFactor(e){this._scaleFactor!==e&&(this._scaleFactor=e,this._requestRender())}get scaleFactor(){return this._scaleFactor}set minSizePx(e){this._minSizePx!==e&&(this._minSizePx=e,this._requestRender())}get minSizePx(){return this._minSizePx}set useRealWorldSymbolSizes(e){this._useRealWorldSymbolSizes!==e&&(this._useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._useRealWorldSymbolSizes}set size(e){this._size!==e&&(this._size=e,this._requestRender())}get size(){return this._size}set sizePx(e){this._sizePx!==e&&(this._sizePx=e,this._requestRender())}get sizePx(){return this._sizePx}set clippingBox(e){y(this._clipBox,e||z)}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this.nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let i=null;return this.nodes.filterInPlace((s=>s.id!==e||(i=s,s.vao=t(s.vao),this._highlights.nodeRemoved(s),!1))),this._requestRender(),i}forEachNode(e){this.nodes.forAll(e)}removeAll(){this.nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this.nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}addHighlight(e,i,t){e.highlights=K(e.highlights,i,t),this._requestRender()}removeHighlight(e,i){e.highlights=Q(e.highlights,i),this._requestRender()}_initNode(e,i){const t=e.rctx;i.vao=new O(t,C,T,{positions:N.createVertex(t,35044,i.coordinates),colors:N.createVertex(t,35044,i.rgb)})}_requestRender(){this._context&&this._context.requestRender()}_getSizeParams(){const e=this._useFixedSizes,i=e&&!this._useRealWorldSymbolSizes;return{drawScreenSpace:i,drawFixedSize:e,fixedSize:i?this._sizePx:this._size,screenMinSize:e?0:this._minSizePx}}selectTechnique(e,i){return this._techniqueConfig.drawScreenSize=i.drawScreenSpace,this._techniqueConfig.slicePlaneEnabled=this._slicePlaneEnabled,this._techniqueConfig.sceneHasOcludees=e.hasOccludees,this._techniqueConfig.output=2===e.pass?1:5===e.pass?4:0,this._techniqueRep.releaseAndAcquire(L,this._techniqueConfig,this._technique)}}function k(e){return e?256:64}function I(e,i,t,s,r){if(t.drawScreenSpace)return t.fixedSize*i*s;const n=k(r)*i*s;return t.drawFixedSize?Math.min(t.fixedSize/2,n):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*i*s,e/2),n):Math.min(e/2,n)}function D(e,i,t,s,r){return t.drawScreenSpace?0:I(e,i,t,s,r)}function G(e,i,t){return null==t&&(t=_()),t[0]=e.origin[0]+e.coordinates[3*i],t[1]=e.origin[1]+e.coordinates[3*i+1],t[2]=e.origin[2]+e.coordinates[3*i+2],t}function J(e){return s(e.component)?e.component:-1}function K(i,t,s){e(i)&&(i=[]);const r={component:t,id:s};i.push(r);const n=J(r);let o=i.length-1;for(;o>0&&n<J(i[o-1]);)[i[o-1],i[o]]=[i[o],i[o-1]],--o;return i}function Q(i,t){if(e(i))return i;const s=i.filter((e=>e.id!==t));return 0===s.length?null:s}!function(e){function i(e){return e.hasOwnProperty(\"splatSize\")}e.isInstanceOfNode=i}(W||(W={}));export{W as PointRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{result as t,forEach as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{unwrapOr as o,isSome as n,isNone as a,mapSome as d}from\"../../../core/maybe.js\";import{eachAlways as l,isAbortError as h,eachAlwaysValues as u,throwIfAborted as p}from\"../../../core/promiseUtils.js\";import{pt2px as c}from\"../../../core/screenUtils.js\";import{estimateSize as _,isArrayBuffer as m}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as g}from\"../../../core/unitUtils.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as b}from\"../../../chunks/vec3.js\";import{a as w}from\"../../../chunks/vec3f32.js\";import{projectBoundingRect as N}from\"../../../geometry/projection.js\";import{create as x}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as P,create as v}from\"../../../geometry/support/aaBoundingRect.js\";import{create as C,fromNormalAndOffset as S}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as I}from\"../../../layers/graphics/dehydratedFeatures.js\";import A from\"../../../layers/support/CodedValue.js\";import k from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as V}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as R}from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as L}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as j}from\"./LayerView3D.js\";import{PointCloudWorkerHandle as U}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as Q,checkPointCloudLayerCompatibleWithView as D}from\"./i3s/I3SUtil.js\";import{nodeDiff as F,sortFrontToBack as z,splitWorkEntries as M}from\"./i3s/LoDUtil.js\";import W from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as O,getFixedSizeAlgorithm as E,getRendererInfo as H,getFilterInfo as B,rendererUsesFixedSizes as G,getAttributeInfo as q}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as T,readGeometry as $,elevationFromPositions as J}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as K}from\"./i3s/PointGraphic.js\";import{PointRenderer as Y}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as X}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as Z}from\"../support/extentUtils.js\";import{minimumDistancePlane as ee}from\"../support/orientedBoundingBox.js\";import{updatingProgress as te}from\"../support/updatingProperties.js\";import ie from\"../../layers/LayerView.js\";import{extractSafeScaleBounds as re,scaleBoundsPredicate as se}from\"../../support/layerViewUtils.js\";import{TaskPriority as oe}from\"../../support/Scheduler.js\";const ne=s.getLogger(\"esri.views.3d.layers.PointCloudLayerView3D\"),ae=8,de=C();let le=class extends(X(j(ie))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new R,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[]}get pointScale(){const e=O(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=E(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=E(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=H(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.primaryAttribute.name);const i=B(this.layer);if(i)for(const r of i)t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of V(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=x(),t=this.view.renderSpatialReference;return Z(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=g(this.layer.spatialReference),i=L(e.unit);return o(e.offset,0)*i/t}return 0}initialize(){const e=this.view.resourceController;this._worker=new U((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._tmpPoint=I(0,0,0,this.layer.spatialReference),Q(this.layer),D(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(2),this._dataRequester=e.createStreamDataRequester(3),this._initRenderer();const t=this._initNodePages(),i=this.view.resourceController.memoryController;this._memCache=i.newCache(this.layer.uid),this.updatingHandles.add(this,\"_clippingBox\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this,\"_elevationOffset\",(()=>this._elevationOffsetChanged()),2),this.updatingHandles.add(this.layer,\"renderer\",(()=>this._rendererChanged()),2),this.updatingHandles.add(this.layer,\"filters\",(()=>this._reload()),2),this.updatingHandles.add(this.layer,\"outFields\",(()=>this._reload()),2),this.updatingHandles.add(this.layer,\"scaleRangeId\",(()=>this._setUpdateViewNeeded())),this.updatingHandles.add(this,\"clippingArea\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this.view.state,\"contentCamera\",(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),i.events.on(\"quality-changed\",(()=>this._setUpdateViewNeeded()))]),this.addResolvingPromise(t),this.when((()=>{this.handles.add([e.scheduler.registerTask(oe.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add(this,\"suspended\",(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),2)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker&&(this._worker.destroy(),this._worker=null),this._destroyRenderer(),this._memCache.destroy(),this._memCache=null,this._codedDomainPopulationAbortController&&(this._codedDomainPopulationAbortController.abort(),this._codedDomainPopulationAbortController=null),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new Y({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add(this,\"_clippingBox\",(e=>this._renderer.clippingBox=e),2),this.updatingHandles.add(this,\"suspended\",(e=>this._setPointsVisible(!e)),2),this.updatingHandles.add(this,\"pointScale\",(e=>this._renderer.scaleFactor=e),2),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add(this,\"useRealWorldSymbolSizes\",(e=>this._renderer.useRealWorldSymbolSizes=e),2),this.updatingHandles.add(this,\"pointSize\",(e=>{const t=c(e);this._renderer.size=e,this._renderer.sizePx=t}),2),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._renderer.slicePlaneEnabled=e),2),this.updatingHandles.add(this,\"inverseDensity\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this,\"maximumPointCount\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this.view,\"qualitySettings.sceneService.pointCloud.lodFactor\",(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),2)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=n(e.pointIdFilterMap)?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new K({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo&&e.storageInfo.attributeValues,o=s?s.valuesPerElement:1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([3],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=G(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){this.layer.minScale||this.layer.maxScale?N(e.extent,e.spatialReference,ue,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);P(ue,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}displayNodes(e){this._workQueue=F([...this._renderedNodes],e,this._index),z(this._workQueue,this.view.state.contentCamera.viewForward,this._index),M(this._workQueue,ae,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(a(t))return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return n(i)?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this.loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async populateClassCodeCodedDomain(e,i){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(-1===e.indexOf(s.name))return;const o=await t(this.layer.queryCachedStatistics(r,{signal:i}));if(!1===o.ok)return;const n=o.value,a=n&&n.labels&&n.labels.labels;a&&Array.isArray(a)&&(s.domain=new k({name:\"CLASS_CODE\",codedValues:a.map((e=>new A({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this.populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),s=this.layer.attributeStorageInfo,o=t.map((e=>q(s,e))),n=async(e,t)=>{const r=this._index.getNode(t);await i(o,(async t=>{const i=t.useElevation?await this._loadElevationAttributeFromGeometry(r.resourceId):await this._loadAndParseAttribute(r,t);if(i)for(const r of e)if(this._isValidPointGraphic(r)){const e=r.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,i,e,r.attributes)}}))},a=[];return r.forEach(((e,t)=>{a.push(n(e,t))})),await l(a),e}_isValidPointGraphic(e){return e instanceof K&&e.pointCloudMetadata&&e.pointCloudMetadata.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return n(i)?T({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=$(t,await this._loadGeometry(e,null));return J(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=r.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new W(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:null!=t.vertexCount?t.vertexCount:t.pointCount,lodThreshold:null!=t.lodThreshold?t.lodThreshold:t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this.displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=b(s,t.eye),n=S(s,-o,de),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=re(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);se(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.indexOf(t)<0&&this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,ee(e,r));return t/(n*n)/(4*s*s)/i}loadNode(e,t){try{return this.loadNodeAsync(e,t)}catch(i){throw h(i)||ne.error(i),i}}async loadAdditionalUserAttributes(e,t,i){const r=this.layer.outFields;if(!r)return[];const s=V(this.layer.fieldsIndex,r),o=new Set(e.map((e=>n(e)?e.name:null))),a=this.layer.attributeStorageInfo,l=[];for(const n of s){if(o.has(n))continue;const e=q(a,n);e&&l.push(t(e))}const h=await u(l);return p(i),d(h,(e=>e))}async loadNodeAsync(e,t){const i=this._index.getNode(e),r=H(this.layer),s=B(this.layer),o=i.resourceId,d=async e=>{if(a(e))return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return n(i)?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:n,modulationAttribute:a}=r,l=d(n),h=d(a),u=s.map((e=>e.attributeInfo)),c=u.map((e=>d(e))),_=this.loadAdditionalUserAttributes([n,a,...u],d,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);p(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(a(t)||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,he(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(Y.isInstanceOfNode(t))return t.splatSize=r,t.obb=s,t.origin=w(t.obb.center),t;const o=.01*Math.max(s.halfSize[0],s.halfSize[1],s.halfSize[2]);if(t.obb.halfSize[0]>s.halfSize[0]+o||t.obb.halfSize[1]>s.halfSize[1]+o||t.obb.halfSize[2]>s.halfSize[2]+o){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;ne.warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&ne.warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return{id:e,coordinates:t.points,origin:w(s.center),rgb:t.rgb,attributes:t.attributes,pointIdFilterMap:t.pointIdFilterMap,highlights:null,splatSize:r,obb:s,isLeaf:0===i.childCount}}getUsedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=pe,e+=_(t.coordinates);for(const i of t.attributes){const t=i.values;m(t.buffer)&&(e+=_(t))}})),e}getUnloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.getUsedMemory()-e*pe)/t)+i*pe}ignoresMemoryFactor(){return!1}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};function he(e){return 5*e.coordinates.length+128}e([f()],le.prototype,\"layer\",void 0),e([f({readOnly:!0,aliasOf:\"layer.parsedUrl.path\"})],le.prototype,\"baseUrl\",void 0),e([f({readOnly:!0})],le.prototype,\"pointScale\",null),e([f({readOnly:!0})],le.prototype,\"useRealWorldSymbolSizes\",null),e([f({readOnly:!0})],le.prototype,\"pointSize\",null),e([f({readOnly:!0})],le.prototype,\"inverseDensity\",null),e([f()],le.prototype,\"maximumPointCount\",void 0),e([f({readOnly:!0})],le.prototype,\"availableFields\",null),e([f({readOnly:!0})],le.prototype,\"_clippingBox\",null),e([f({readOnly:!0})],le.prototype,\"_elevationOffset\",null),e([f({type:Boolean})],le.prototype,\"slicePlaneEnabled\",void 0),e([f()],le.prototype,\"updating\",void 0),e([f(te)],le.prototype,\"updatingProgress\",void 0),e([f({readOnly:!0})],le.prototype,\"updatingProgressValue\",null),le=e([y(\"esri.views.3d.layers.PointCloudLayerView3D\")],le);const ue=v(),pe=160,ce=le;export{ce as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Slice as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(r){const n=new a,c=0===r.output,d=1===r.output,s=4===r.output;return n.extensions.add(\"GL_OES_standard_derivatives\"),n.include(e,r),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"color\",\"vec3\"),n.vertex.uniforms.add(\"uModelViewMatrix\",\"mat4\").add(\"uProjectionMatrix\",\"mat4\").add(\"uScreenMinMaxSize\",\"vec2\").add(\"uPointScale\",\"vec2\").add(\"uClipMin\",\"vec3\").add(\"uClipMax\",\"vec3\"),d?(n.vertex.uniforms.add(\"nearFar\",\"vec2\"),n.varyings.add(\"depth\",\"float\")):4!==r.output&&n.varyings.add(\"vColor\",\"vec3\"),n.vertex.code.add(t`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < uClipMin.x || position.y < uClipMin.y || position.z < uClipMin.z ||\n        position.x > uClipMax.x || position.y > uClipMax.y || position.z > uClipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = uModelViewMatrix * vec4(position, 1.0);\n\n      float pointSize = uPointScale.x;\n      vec4 position = uProjectionMatrix * camera;\n     ${r.drawScreenSize?t`\n      float clampedScreenSize = pointSize;`:t`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = uProjectionMatrix * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = uPointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, uScreenMinMaxSize.x, uScreenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = uProjectionMatrix * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${d?t`depth = (-camera.z - nearFar[0]) / (nearFar[1] - nearFar[0]);`:\"\"}\n     ${c?t`vColor = color;`:\"\"}\n    }\n  `),n.fragment.include(o,r),s&&n.include(i),n.fragment.code.add(t`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${d?t`gl_FragColor = float2rgba(depth);`:\"\"}\n      ${s?t`outputHighlight();`:\"\"}\n      ${c?t`gl_FragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),n}const n=Object.freeze({__proto__:null,build:r});export{n as P,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{binaryIndexOf as t,flatten as r,splitIntoChunks as o}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Error.js\";import a from\"../../../../core/has.js\";import{isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{eachAlways as c}from\"../../../../core/promiseUtils.js\";import{isInt16Array as l,isInt32Array as f}from\"../../../../core/typedArrayUtil.js\";import{h as u}from\"../../../../chunks/mat3.js\";import{c as p}from\"../../../../chunks/mat3f64.js\";import{b as m}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{a as d,m as y,c as b}from\"../../../../chunks/quat.js\";import{b as g}from\"../../../../chunks/quatf32.js\";import{s as w,g as S,v,q as M,a as x,b as j,m as q}from\"../../../../chunks/vec3.js\";import{c as R}from\"../../../../chunks/vec3f64.js\";import{c as k}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as T,canProjectWithoutEngine as W,projectBuffer as z,computeTranslationToOriginAndRotation as F,projectVectorToVector as A}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as I,getReferenceEllipsoid as C}from\"../../../../geometry/projectionEllipsoid.js\";import U from\"../../../../geometry/SpatialReference.js\";import{create as G,empty as K,expandPointInPlace as L,intersects as B}from\"../../../../geometry/support/aaBoundingRect.js\";import{isPlateCarree as E}from\"../../../../geometry/support/spatialReferenceUtils.js\";import O from\"../../../../rest/support/Query.js\";import{readBinaryAttribute as P}from\"./I3SBinaryReader.js\";import{computeGlobalTransformation as $}from\"./I3SProjectionUtil.js\";import{createSolidEdgeMaterial as Q,createMaterialFromEdges as Z}from\"../support/edgeUtils.js\";import{parseColorMixMode as D}from\"../support/symbolColorUtils.js\";import{create as H,compute as J,corners as N}from\"../../support/orientedBoundingBox.js\";function V(e){return e&&parseInt(e.substring(e.lastIndexOf(\"/\")+1,e.length),10)}function X(e){if(a(\"disable-feature:i3s-draco\")||!e)return!1;for(const r of e)for(const e of r.geometryBuffers){var t;if(\"draco\"===(null==(t=e.compressedAttributes)?void 0:t.encoding))return!0}return!1}function Y(e,t,r,o,n,a){n.traverse(r,(r=>{let n=r.mbs;t!==o&&(n=oe,T(r.mbs,o,n,t));const s=ne(e,n);return 0!==s&&(a(r,s),!0)}))}function _(e,t,r){let o=0,n=0;for(let a=0;a<t.length&&o<e.length;a++)e[o]===t[a]&&(r(a)&&(e[n]=e[o],n++),o++);e.length=n}function ee(e,r,o){let n=0,a=0;for(;n<o.length;){t(e,o[n])>=0===r&&(o[a]=o[n],a++),n++}o.length=a}const te=G();function re(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return te[0]=(e[0]-t.position[0])/t.rotationScale[0],te[1]=(e[1]-t.position[1])/t.rotationScale[4],te[2]=(e[2]-t.position[0])/t.rotationScale[0],te[3]=(e[3]-t.position[1])/t.rotationScale[4],te}const oe=k();function ne(e,t){const r=t[0],o=t[1],n=t[3],a=e[0]-r,s=r-e[2],i=e[1]-o,c=o-e[3],l=Math.max(a,s,0),f=Math.max(i,c,0),u=l*l+f*f;if(u>n*n)return 0;if(u>0)return 1;return-Math.max(a,s,i,c)>n?3:2}function ae(e,t){const r=t[0],o=t[1],n=t[2],a=t[3],s=e[0]-r,i=r-e[3],c=e[1]-o,l=o-e[4],f=e[2]-n,u=n-e[5],p=Math.max(s,i,0),m=Math.max(c,l,0),h=Math.max(f,u,0),d=p*p+m*m+h*h;if(d>a*a)return 0;if(d>0)return 1;return-Math.max(s,i,c,l,f,u)>a?3:2}function se(e,t,r){const o=[],n=r&&r.missingFields,a=r&&r.originalFields;for(const s of e){const e=s.toLowerCase();let r=!1;for(const n of t)if(e===n.name.toLowerCase()){o.push(n.name),r=!0,a&&a.push(s);break}!r&&n&&n.push(s)}return o}async function ie(e,t,o,a,c){if(0===t.length)return[];const l=e.attributeStorageInfo;if(s(e.associatedLayer))try{return await le(e.associatedLayer,t,o,a)}catch(f){if(e.associatedLayer.loaded)throw f}if(l){const s=ce(t,o,c);if(i(s))throw new n(\"scenelayer:features-not-loaded\",\"Tried to query attributes for unloaded features\");const f=e.parsedUrl.path,u=await Promise.all(s.map((e=>ue(f,l,e.node,e.indices,a).then((t=>{for(let r=0;r<e.graphics.length;r++){const o=e.graphics[r],n=t[r];if(o.attributes)for(const e in o.attributes)e in n||(n[e]=o.attributes[e]);o.attributes=n}return e.graphics})))));return r(u)}throw new n(\"scenelayer:no-attribute-source\",\"This scene layer does not have a source for attributes available\")}function ce(e,t,r){const o=new Map,n=[],a=r();for(const s of e){const e=s.attributes[t];for(let t=0;t<a.length;t++){const r=a[t],i=r.featureIds.indexOf(e);if(i>=0){let e=o.get(r.node);e||(e={node:r.node,indices:[],graphics:[]},n.push(e),o.set(r.node,e)),e.indices.push(i),e.graphics.push(s);for(let r=t;r>0;r--)a[r]=a[r-1];a[0]=r;break}}}return n}async function le(e,t,r,o){t.sort(((e,t)=>e.attributes[r]-t.attributes[r]));const n=t.map((e=>e.attributes[r])),a=[],s=se(o,e.fields,{originalFields:a}),i=await fe(e,n,s);for(let c=0;c<t.length;c++){const e=t[c],r=i[c],o={};if(e.attributes)for(const t in e.attributes)o[t]=e.attributes[t];for(let t=0;t<a.length;t++)o[a[t]]=r[s[t]];e.attributes=o}return t}function fe(e,t,a){const s=e.capabilities.query.maxRecordCount;if(null!=s&&t.length>s){const n=o(t,s);return Promise.all(n.map((t=>fe(e,t,a)))).then(r)}const i=new O({objectIds:t,outFields:a,orderByFields:[e.objectIdField]});return e.queryFeatures(i).then((e=>{if(e&&e.features&&e.features.length===t.length)return e.features.map((e=>e.attributes));throw new n(\"scenelayer:feature-not-in-associated-layer\",\"Feature not found in associated feature layer\")}))}function ue(t,r,o,n,a){const s=[];for(const e of r)if(e&&-1!==a.indexOf(e.name)){const r=`${t}/nodes/${o.resources.attributes}/attributes/${e.key}/0`;s.push({url:r,storageInfo:e})}return c(s.map((t=>e(t.url,{responseType:\"array-buffer\"}).then((e=>P(t.storageInfo,e.data)))))).then((e=>{const t=[];for(const r of n){const o={};for(let t=0;t<e.length;t++)null!=e[t].value&&(o[s[t].storageInfo.name]=he(e[t].value,r));t.push(o)}return t}))}const pe=-32768,me=-(2**31);function he(e,t){if(!e)return null;const r=e[t];if(l(e))return r===pe?null:r;if(f(e))return r===me?null:r;return r!=r?null:r}function de(e){const t=e.store.indexCRS||e.store.geographicCRS,r=void 0===t?e.store.indexWKT:void 0;if(r){if(!e.spatialReference)throw new n(\"layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference\",\"Found indeWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new n(\"layerview:store-spatial-reference-wkt-index-incompatible\",\"The indeWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new U(V(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function ye(e){const t=e.store.vertexCRS||e.store.projectedCRS,r=void 0===t?e.store.vertexWKT:void 0;if(r){if(!e.spatialReference)throw new n(\"layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference\",\"Found vertexWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new n(\"layerview:store-spatial-reference-wkt-vertex-incompatible\",\"The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new U(V(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function be(e,t){return i(t)?\"@null\":t===I(t)?\"@ECEF\":e.equals(t)?\"\":null!=t.wkid?\"@\"+t.wkid:null}function ge(e,t,r){if(!W(e,t))throw new n(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});if(\"local\"===r&&!we(e,t))throw new n(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{})}function we(e,t){return e.equals(t)||e.isWGS84&&t.isWebMercator||e.isWebMercator&&t.isWGS84}function Se(e,t,r){const o=de(e),n=ye(e);ge(o,t,r),ge(n,t,r)}function ve(e){return(null==e.geometryType||\"triangles\"===e.geometryType)&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position))}function Me(e){if(null==e.store||null==e.store.defaultGeometrySchema||!ve(e.store.defaultGeometrySchema))throw new n(\"scenelayer:unsupported-geometry-schema\",\"The geometry schema of this scene layer is not supported.\",{url:e.parsedUrl.path})}function xe(e,t){Se(e,t.spatialReference,t.viewingMode)}function je(e){return null!=e.geometryType&&\"points\"===e.geometryType&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&((null==e.encoding||\"\"===e.encoding||\"lepcc-xyz\"===e.encoding)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position)))}function qe(e){if(null==e.store||null==e.store.defaultGeometrySchema||!je(e.store.defaultGeometrySchema))throw new n(\"pointcloud:unsupported-geometry-schema\",\"The geometry schema of this point cloud scene layer is not supported.\",{})}function Re(e,t){ge(e.spatialReference,t.spatialReference,t.viewingMode)}function ke(e){return\"simple\"===e.type||\"class-breaks\"===e.type||\"unique-value\"===e.type}function Te(e){return\"mesh-3d\"===e.type}function We(e){if(null==e||!ke(e))return!0;if((\"unique-value\"===e.type||\"class-breaks\"===e.type)&&null==e.defaultSymbol)return!0;const t=e.getSymbols();if(0===t.length)return!0;for(const r of t){if(!Te(r)||0===r.symbolLayers.length)return!0;for(const e of r.symbolLayers.items)if(\"fill\"!==e.type||i(e.material)||i(e.material.color)||\"replace\"!==e.material.colorMixMode)return!0}return!1}const ze=Q({color:[0,0,0,0],opacity:0});class Fe{constructor(){this.edgeMaterial=null,this.material=null,this.castShadows=!0}}function Ae(e){const t=new Fe;let r=!1,o=!1;for(const n of e.symbolLayers.items)if(\"fill\"===n.type&&n.enabled){const e=n.material,a=n.edges;if(s(e)&&!r){const o=e.color,a=D(e.colorMixMode);s(o)?t.material={color:[o.r/255,o.g/255,o.b/255],alpha:o.a,colorMixMode:a}:t.material={color:[1,1,1],alpha:1,colorMixMode:1},t.castShadows=n.castShadows,r=!0}s(a)&&!o&&(t.edgeMaterial=Z(a,{}),o=!0)}return t.material||(t.material={color:[1,1,1],alpha:1,colorMixMode:1}),t}function Ie(e,t){return(0|e)+(0|t)|0}function Ce(e,t,r,o,n=0){o===I(o)?t.isGeographic?Qe(e,r,t,n):$e(e,r,t,n):t.isWGS84&&(o.isWebMercator||E(o))?Ue(t,e,o,r,n):t.isWebMercator&&E(o)?Oe(t,e,o,r,n):e===r?(r.center[2]+=n,z(r.center,t,0,r.center,o,0,1)):(w(r.center,e.center[0],e.center[1],e.center[2]+n),z(r.center,t,0,r.center,o,0,1),d(r.quaternion,e.quaternion),S(r.halfSize,e.halfSize))}function Ue(e,t,r,o,n){S(Be,t.center),Be[2]+=n;const a=I(r);z(Be,e,0,Be,a,0,1),Pe(a,t,Be,r,o)}const Ge=new Float64Array(24),Ke={data:Ge,size:3},Le=R(),Be=R(),Ee=p();function Oe(e,t,r,o,n){S(Be,t.center),Be[2]+=n,Pe(e,t,Be,r,o)}function Pe(e,t,r,o,n){const a=u(Ee,t.quaternion);for(let s=0;s<8;++s){for(let e=0;e<3;++e)Le[e]=t.halfSize[e]*(0!=(s&1<<e)?-1:1);for(let e=0;e<3;++e){let t=r[e];for(let r=0;r<3;++r)t+=Le[r]*a[3*r+e];Ge[3*s+e]=t}}z(Ge,e,0,Ge,o,0,8),J(Ke,n)}function $e(e,t,r,o){N(e,Je),w(t.center,e.center[0],e.center[1],e.center[2]+o),F(r,t.center,De,I(r)),w(t.center,De[12],De[13],De[14]);const n=2*Math.sqrt(1+De[0]+De[5]+De[10]);He[0]=(De[6]-De[9])/n,He[1]=(De[8]-De[2])/n,He[2]=(De[1]-De[4])/n,He[3]=.25*n,y(t.quaternion,He,e.quaternion),b(He,t.quaternion);let a=0,s=0,i=0;for(const c of Je)c[2]+=o,z(c,r,0,c,I(r),0,1),v(Ye,c,t.center),M(Ye,Ye,He),a=Math.max(a,Math.abs(Ye[0])),s=Math.max(s,Math.abs(Ye[1])),i=Math.max(i,Math.abs(Ye[2]));w(t.halfSize,a,s,i)}function Qe(e,t,r,o){const n=C(r),a=1+Math.max(0,o)/(n.radius+e.center[2]);w(t.center,e.center[0],e.center[1],e.center[2]+o),z(t.center,r,0,t.center,I(r),0,1),d(t.quaternion,e.quaternion),b(He,e.quaternion),w(Ye,0,0,1),M(Ye,Ye,He),w(Ye,e.halfSize[0]*Math.abs(Ye[0]),e.halfSize[1]*Math.abs(Ye[1]),e.halfSize[2]*Math.abs(Ye[2])),x(Ye,Ye,n.inverseFlattening),j(t.halfSize,e.halfSize,Ye),x(t.halfSize,t.halfSize,a)}function Ze(e,t,r,o,n,a){if(!a||0===a.length||i(t))return null;const c=$(e.mbs,n,r,t);let l;m(et,c);const f=()=>{if(!l)if(l=Je,K(Ve),s(e.serviceObb)){Ce(e.serviceObb,r,Xe,t,n),N(Xe,l);for(const e of l)q(e,e,et),L(Ve,e)}else{const o=e.mbs,a=o[3];A(o,r,Ye,t),q(Ye,Ye,et),Ye[2]+=n;for(let e=0;e<8;++e){const t=1&e?a:-a,r=2&e?a:-a,o=4&e?a:-a,n=l[e];S(n,[Ye[0]+t,Ye[1]+r,Ye[2]+o]),L(Ve,n)}}};let u=1/0,p=-1/0;const h=e=>{if(\"replace\"!==e.type)return;const r=e.geometry;if(!r.hasZ)return;K(Ne);const n=r.spatialReference||o,a=r.rings.reduce(((e,r)=>r.reduce(((e,r)=>(A(r,n,Ye,t),q(Ye,Ye,et),L(Ne,Ye),Math.min(Ye[2],e))),e)),1/0);f(),B(Ve,Ne)&&(u=Math.min(u,a),p=Math.max(p,a))};if(a.forEach((e=>h(e))),u===1/0)return null;const d=(e,t,r)=>{q(Ye,r,c),e[t+0]=Ye[0],e[t+1]=Ye[1],e[t+2]=Ye[2],t+=24,r[2]=u,q(Ye,r,c),e[t+0]=Ye[0],e[t+1]=Ye[1],e[t+2]=Ye[2],t+=24,r[2]=p,q(Ye,r,c),e[t+0]=Ye[0],e[t+1]=Ye[1],e[t+2]=Ye[2]};for(let s=0;s<8;++s)d(_e.data,3*s,l[s]);return J(_e)}const De=h(),He=g(),Je=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Ne=G(),Ve=G(),Xe=H(),Ye=[0,0,0],_e={data:new Array(72),size:3},et=h();export{Fe as SymbolInfo,Ie as addWraparound,Re as checkPointCloudLayerCompatibleWithView,qe as checkPointCloudLayerValid,xe as checkSceneLayerCompatibleWithView,Me as checkSceneLayerValid,ge as checkSpatialReference,Se as checkSpatialReferences,Ze as computeVisibilityObb,X as containsDraco,V as extractWkid,_ as filterInPlace,se as findFieldsCaseInsensitive,Y as findIntersectingNodes,be as getCacheKeySuffix,he as getCachedAttributeValue,re as getClipRect,de as getIndexCrs,Ae as getSymbolInfo,ye as getVertexCrs,ae as intersectBoundingBoxWithMbs,ne as intersectBoundingRectWithMbs,we as isSupportedLocalModeProjection,ee as objectIdFilter,We as rendererNeedsTextures,Ce as transformObb,ze as transparentEdgeMaterial,ie as whenGraphicAttributes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,n=o(this.layer.fieldsIndex,await i(u,a(this.layer,r)));await this.prepareFetchPopupFeatures(n);const l=new Set,h=[],y=[];for(const s of c)p(n,s,l)?y.push(s):h.push(s);return 0===y.length?Promise.resolve(h):this.whenGraphicAttributes(y,[...l]).catch((()=>y)).then((e=>h.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n"],"sourceRoot":""}