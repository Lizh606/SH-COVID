{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/support/util.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js"],"names":["c","u","g","e","t","isWrappable","n","i","p","h","y","geometry","type","x","r","o","glyphMosaicItems","length","text","scale","font","size","angle","xOffset","xoffset","yOffset","yoffset","hAlign","horizontalAlignment","vAlign","verticalAlignment","maxLineWidth","Math","max","min","lineWidth","lineHeight","decoration","isCIM","bounds","halfWidth","halfHeight","width","height","d","xmin","ymin","xmax","ymax","spatialReference","s","rings","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","mesh","toJSON","bandCount","attributeTable","colormap","pixelType","rasterInfo","a","cim","m","hasVisualVariables","getVisualVariablesForType","target","transformationType","stops","map","reduce","maxSize","minSize","async","round","blurRadius","getSymbols","push","Promise","all","l","f","outline","sdf","code","metrics","rect","page","textureBinding","charCodeAt","M","sqrt","abs","marker","geometryType","fields","rendererKey","data","maxVVSize","getEnvelope","fetchCIMSymbol","NONE","COLOR","OPACITY","ROTATION","v","getLogger","w","S","F","V","E","color","placement","style","I","visualVariables","backgroundFillSymbol","vvFlags","supportsOutlineFills","stride","fill","z","j","R","N","T","O","hash","Error","FILL","isOutlinedFill","clone","materialKey","LINE","isOutline","layers","MARKER","TEXT","k","labelPlacement","symbol","warn","error","some","K","LABEL","B","console","debug","L","A","P","source","definitionExpression","gdbVersion","historicMoment","getTime","outFields","availableFields","pixelBuffer","timeExtent","customParameters","attributes","indexCount","processors","targets","fieldName","U","C","featureReduction","D","J","name","context","storage","filter","featureEffect","feature","input","filters","aggregate","params","clusterRadius","clusterPixelBuffer","ceil","clusterMaxSize","aggregateFields","$","field","q","valueExpression","fieldIndex","JSON","stringify","label","Array","H","G","resultType","labelExpression","labelExpressionInfo","expression","where","index","subtypeField","renderers","mapping","classes","matcher","aggregateMatcher","labels","sortKey","Set","renderer","subtypeCode","labelingInfo","labelsVisible","sublayers","_","Q","has","add","fieldOffset","X","b","W","orderBy","order","outStatistic","statisticType","onStatisticField","onStatisticValueExpression","onStatisticNormalizationField","inField","inNormalizationField","inFieldIndex","Y","Z","binding","normalizationField","valueRepresentation","ee","te","re","ie","use","normalizationType","classBreakInfos","minValue","maxValue","sort","defaultSymbol","intervals","normalizationTotal","isMaxInclusive","uniqueValueInfos","value","field2","field3","fieldDelimiter","pop","opacity","splice"],"mappings":"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","file":"js/chunk-1b9a5ecf.8040854e.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getSpatialReferenceMinMaxX as o}from\"../../../../geometry/support/normalizeUtilsCommon.js\";import{getXAnchorDirection as s,getYAnchorDirection as l}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as m,MAGIC_LABEL_LINE_HEIGHT as a}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as f}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const c=512,u=50;function g(e,t){if(!t.isWrappable)return null;const[n,i]=o(t);return e[2]>i?[r([e[0],e[1],i,e[3]]),r([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[r([n,e[1],e[2],e[3]]),r([i-(n-e[0]),e[1],i,e[3]])]:null}function p(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function x(t,i,r){var o,c,u;if(!r||0===r.glyphMosaicItems.length)return t;const g=e(i.text)[1],p=r.glyphMosaicItems,h=f(p,g,{scale:n(i.font.size)/m,angle:null!=(o=i.angle)?o:0,xOffset:null!=(c=i.xoffset)?c:0,yOffset:null!=(u=i.yoffset)?u:0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:l(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:a*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=n(h.x-h.halfWidth),t[1]=n(h.y-h.halfHeight),t[2]=n(h.width),t[3]=n(h.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{u as PIXEL_BUFFER,c as TILE_SIZE,x as getTextSymbolSize,y as graphicGeometryToNumber,g as intersectingInternationalDateline,h as isMarkerSymbol,p as isTextSymbol,d as polygonFromExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../../core/jsonMap.js\";const o=new t({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||\"u8\"===r||\"s8\"===r)}export{n as analyzeRings,r as canUseMajorityInterpolationOnDataSource,e as toJSONGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../core/screenUtils.js\";import{CIMSymbolHelper as e}from\"../../../../../symbols/cim/CIMSymbolHelper.js\";import r from\"../../../../../symbols/cim/Rect.js\";import{AVERAGE_GLYPH_MOSAIC_ITEM as i}from\"../../../engine/webgl/definitions.js\";import{getTextSymbolSize as n}from\"../../graphics/graphicsUtils.js\";import{expandSymbol as s}from\"../../support/cimSymbolUtils.js\";const a={\"simple-marker\":1,\"picture-marker\":1,text:0,\"simple-line\":0,\"simple-fill\":0,\"picture-fill\":0,cim:1,\"web-style\":1},o=.707;function m(t){if(!(\"visualVariables\"in t))return 0;if(!t.hasVisualVariables(\"size\"))return 0;const e=t.getVisualVariablesForType(\"size\");if(!e[0])return 0;const r=e[0];if(\"outline\"===r.target)return 0;if(\"stops\"===r.transformationType)return r.stops.map((t=>t.size)).reduce(g,0);if(\"clamped-linear\"===r.transformationType){let t=-1/0,e=-1/0;return t=\"number\"==typeof r.maxSize?r.maxSize:r.maxSize.stops.map((t=>t.size)).reduce(g,0),e=\"number\"==typeof r.minSize?r.minSize:r.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return\"real-world-size\"===r.transformationType?30:void 0}function u(t){return t.type in a}async function c(e,r,i,n,s,a){if(!e||a&&\"cluster\"===a.type)return 0;if(\"heatmap\"===e.type)return Math.round(3*e.blurRadius);if(\"dot-density\"===e.type)return 0;if(\"dictionary\"===e.type)return\"esriGeometryPoint\"===r||\"esriGeometryMultipoint\"===r?100:200;const o=e.getSymbols(),u=m(e),c=[];for(const t of o)c.push(x(t,u,i,r,n,s));const p=await Promise.all(c);return t(p.reduce(g,0))}const p=[0,0,0,0];function l(t,e){return null==t?e:t}function f(t,e){return null==t.outline?e:l(t.outline.width,e)}const h={sdf:!0,code:99,metrics:i.metrics,rect:new r(0,0,24,24),page:0,textureBinding:2};function y(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[h]};const r=[];for(let i=0;i<e;i++)r.push({...h,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,u){if(\"simple-marker\"===t.type){const e=Math.max(l(t.size,12),r);return M(t)+e*o}if(\"picture-marker\"===t.type){const e=Math.max(l(t.height,12),r),i=l(t.width,12)*(e/l(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if(\"text\"===t.type){const e=y(t);n(p,t.toJSON(),e);const r=Math.abs(p[0]),i=Math.abs(p[1]),s=p[2],a=p[3];return Math.max(r,i)+Math.max(s,a)}if(\"simple-line\"===t.type){const e=t,i=Math.max(l(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if(\"simple-fill\"===t.type||\"picture-fill\"===t.type)return Math.max(f(t,0),r)/2;if(\"cim\"===t.type){const n={geometryType:a,fields:m,spatialReference:u},o={type:\"cim\",rendererKey:0,data:t.data,maxVVSize:r};await s(o,n,i);const c=e.getEnvelope(t.data,i);return c?Math.sqrt(c.width*c.width+c.height*c.height):0}return\"web-style\"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,u):0}async function x(t,e,r,i,n,s){return u(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=l(t.xoffset,0),r=l(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}export{c as computePxBuffer,m as getPtMaxVVSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{WGLVVFlag as t}from\"../enums.js\";import{getTypeOfSizeVisualVariable as o}from\"../visualVariablesUtils.js\";function e(e){if(!e)return t.NONE;let r=0;for(const i of e)if(\"size\"===i.type){const t=o(i);r|=t,\"outline\"===i.target&&(r|=t<<4)}else\"color\"===i.type?r|=t.COLOR:\"opacity\"===i.type?r|=t.OPACITY:\"rotation\"===i.type&&(r|=t.ROTATION);return r}export{e as getVVFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/Renderer.js\";import e from\"../../../../renderers/SimpleRenderer.js\";import\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import t from\"../../../../core/Error.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import n from\"../../../../core/Logger.js\";import{isSome as l,unwrap as s,isNone as a,unwrapOr as o}from\"../../../../core/maybe.js\";import{pt2px as u}from\"../../../../core/screenUtils.js\";import{fromJSON as d}from\"../../../../symbols/support/jsonUtils.js\";import{WGLGeometryType as f}from\"../../engine/webgl/enums.js\";import{getVVType as c}from\"../../engine/webgl/Utils.js\";import{createMaterialKey as p,hydrateMaterialKey as m}from\"../../engine/webgl/materialKey/MaterialKey.js\";import{getVVFlags as y}from\"../../engine/webgl/util/vvFlagUtils.js\";import{getPtMaxVVSize as g}from\"./support/pixelBuffering.js\";import{simplifyVisualVariables as b}from\"./support/rendererUtils.js\";import{createClusterRenderer as h}from\"../support/clusterUtils.js\";import{toJSONGeometryType as x}from\"../support/util.js\";const v=n.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),w=\"ValidationError\",S={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null};function F(e){return m(e)}function V(e){return e}function E(e){if(\"line-marker\"===e.type){var t;return{type:\"line-marker\",color:null==(t=e.color)?void 0:t.toJSON(),placement:e.placement,style:e.style}}return d(e.toJSON()).toJSON()}function I(e){let t=0,r=0,i=!1,n=!0,s=!0;if(l(e)&&(r=g(e),\"visualVariables\"in e&&(t=y(e.visualVariables||[]),i=\"dot-density\"===e.type),!i)){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);for(const e of t)if(\"cim\"===e.type&&(n=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline;t&&\"none\"!==t.style&&\"solid\"!==t.style&&(s=!1);const r=t&&\"none\"!==t.style&&\"solid\"!==t.style,i=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style;(\"picture-fill\"===e.type||i||r)&&(n=!1)}}return i&&(s=!1),{vvFlags:t,maxVVSize:r,supportsOutlineFills:s,stride:{fill:i?\"dot-density\":n?\"simple\":\"default\"}}}function z(e,t,r){return j(e,I(t),r)}function j(e,t,r){if(!e)return null;switch(e.type){case\"simple-fill\":case\"picture-fill\":return R(e,t,r);case\"simple-marker\":case\"picture-marker\":return N(e,t,r);case\"simple-line\":return T(e,t,r);case\"text\":return O(e,t,r);case\"label\":return M(e,t,r);case\"cim\":return{type:\"cim\",rendererKey:t.vvFlags,data:e.data,maxVVSize:t.maxVVSize};case\"CIMSymbolReference\":return{type:\"cim\",rendererKey:t.vvFlags,data:e,maxVVSize:t.maxVVSize};case\"web-style\":return{...E(e),type:\"web-style\",hash:e.hash(),rendererKey:t.vvFlags,maxVVSize:t.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}function R(e,t,r){const i=t.supportsOutlineFills,n=p(f.FILL,{...t,isOutlinedFill:i}),l=r?F(n):n,s=e.clone(),a=s.outline;t.supportsOutlineFills||(s.outline=null);const o={materialKey:l,hash:s.hash(),isOutlinedFill:!!t.supportsOutlineFills,...E(s)};if(t.supportsOutlineFills)return o;const u=[];if(u.push(o),a){const e=p(f.LINE,{...t,isOutline:!0}),i={materialKey:r?F(e):e,hash:a.hash(),...E(a)};u.push(i)}return{type:\"composite-symbol\",layers:u,hash:u.reduce(((e,t)=>t.hash+e),\"\")}}function T(e,t,r){const i=p(f.LINE,t),n=r?F(i):i,l=e.clone(),s=l.marker;l.marker=null;const a=[];if(a.push({materialKey:n,hash:l.hash(),...E(l)}),s){var o;const e=p(f.MARKER,t),i=r?F(e):e;s.color=null!=(o=s.color)?o:l.color,a.push({materialKey:i,hash:s.hash(),lineWidth:l.width,...E(s)})}return{type:\"composite-symbol\",layers:a,hash:a.reduce(((e,t)=>t.hash+e),\"\")}}function N(e,t,r){const i=p(f.MARKER,t),n=r?F(i):i,l=E(e);return{materialKey:n,hash:e.hash(),...l,angle:e.angle,maxVVSize:t.maxVVSize}}function O(e,t,r){const i=p(f.TEXT,t),n=r?F(i):i,l=E(e);return{materialKey:n,hash:e.hash(),...l,angle:e.angle,maxVVSize:t.maxVVSize}}function k(e,r){const i=e.labelPlacement,n=S[r];if(!e.symbol)return v.warn(\"No ILabelClass symbol specified.\"),!0;if(!n)return v.error(new t(\"mapview-labeling:unsupported-geometry-type\",`Unable to create labels for Feature Layer, ${r} is not supported`)),!0;if(!n.some((e=>e===i))){const t=n[0];i&&v.warn(`Found invalid label placement type ${i} for ${r}. Defaulting to ${t}`),e.labelPlacement=t}return!1}function K(e,t){const r=i(e);return r.some((e=>k(e,t)))?[]:r}function M(e,t,r){const i=e.toJSON(),n=p(f.LABEL,{...t,placement:i.labelPlacement});return{materialKey:r?F(n):n,hash:e.hash(),...i,labelPlacement:i.labelPlacement}}function B(e){return r(\"esri-2d-update-debug\")&&console.debug(\"Created new schema\",L(e,!0)),L(e)}function L(e,t=!1){try{var r,i;const n=A(e,t),l={};n.map((t=>P(l,e,t)));return{source:{definitionExpression:e.definitionExpression,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:null==(r=e.historicMoment)?void 0:r.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:null==(i=e.timeExtent)?void 0:i.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:n,targets:l}}catch(n){if(n.fieldName===w)return v.error(n),null;throw n}}function P(e,r,i){switch(i.target){case\"feature\":return void U(e,C(r),i);case\"aggregate\":{if(!(\"featureReduction\"in r))return;const n=r.featureReduction;if(\"selection\"===n.type)throw new t(w,\"Mapview does not support `selection` reduction type\",n);return U(e,C(r),i),void D(e,n,i)}}}function J(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];n?(n.context.mesh=n.context.mesh||i.context.mesh,n.context.storage=n.context.storage||i.context.storage):e.attributes[r]=i}return e}function C(e){var t,r,i,n,l;return[null!=(t=null==(r=s(e.filter))?void 0:r.toJSON())?t:null,null!=(i=null==(n=s(null==(l=s(e.featureEffect))?void 0:l.filter))?void 0:n.toJSON())?i:null]}function U(e,t,r){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),J(e.feature,r.attributes.fields),e}function D(e,t,r){return e.aggregate||(e.aggregate={name:\"aggregate\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:u(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(u(t.clusterMaxSize)/64),fields:r.aggregateFields}}),J(e.aggregate,r.attributes.fields),e}function $(e,t){return t.field?q(e,{...t,type:\"field\",field:t.field}):t.valueExpression?q(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function q(e,t){switch(t.type){case\"expression\":{const r=V(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"label-expression\":{const r=V(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"field\":{const r=t.field;return\"aggregate\"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function A(e,t=!1){const r=new Array;let i=0;return r.push(H(e,i++,t)),r}function G(e,t,r,i,n,l=!1){const s=q(t,{type:\"label-expression\",target:i,context:{mesh:!0},resultType:\"string\",label:{labelExpression:r.labelExpression,labelExpressionInfo:r.labelExpressionInfo?{expression:r.labelExpressionInfo.expression}:null,symbol:!!r.symbol,where:r.where}}),{fieldIndex:a}=s;return{...z(r,e,l),fieldIndex:a,target:i,index:n}}function H(r,i,n=!1){const s={indexCount:0,fields:{}},a=\"featureReduction\"in r&&r.featureReduction,o=a?\"aggregate\":\"feature\";if(\"sublayers\"in r){const e={type:\"subtype\",subtypeField:r.subtypeField,renderers:{},stride:{fill:\"default\"}},i={type:\"subtype\",mapping:{},target:\"feature\"},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:s,storage:i,mesh:{matcher:e,aggregateMatcher:null,labels:a,sortKey:null}},d=new Set;let f=0;for(const{renderer:c,subtypeCode:p,labelingInfo:m,labelsVisible:y}of r.sublayers){const r=_(s,o,c,n),u=Q(s,o,c),g=y&&m;if(\"visualVariables\"in c&&c.visualVariables&&c.visualVariables.length)throw new t(w,\"Visual variables are currently not supported for subtype layers\");if(\"dictionary\"===r.type)throw new t(w,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===r.type)throw new t(w,\"Nested subtype renderers is not supported\");if(l(u)&&\"subtype\"===u.type)throw new t(w,\"Nested subtype storage is not supported\");if(l(u)&&\"dot-density\"===u.type)throw new t(w,\"Dot density attributes are not supported in subtype layers\");if(d.has(p))throw new t(w,\"Subtype codes for sublayers must be unique\");d.add(p),e.renderers[p]=r,i.mapping[p]=u,g&&(a.classes[p]=g.map((e=>G(c,s,e,\"feature\",f++,n))))}return u}if(\"heatmap\"===r.renderer.type){const{blurRadius:e,fieldOffset:t,field:i}=r.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:s,target:o,storage:null,mesh:{blurRadius:e,fieldOffset:t,field:$(s,{target:o,field:i,resultType:\"numeric\"}).field}}}{const i=[],l=\"aggregate\"===o?h(i,r.renderer,a,null):r.renderer;X(s,i);const u=_(s,o,l,n);let d=null;const f=Q(s,o,l),c=x(r.geometryType);let p=r.labelsVisible&&r.labelingInfo||[],m=[];if(a){if(\"selection\"===a.type)throw new t(w,\"Mapview does not support `selection` reduction type\",a);if(a.symbol){const t=new e({symbol:a.symbol,visualVariables:\"visualVariables\"in l?l.visualVariables:null});d=_(s,o,t,n)}m=a&&a.labelsVisible&&a.labelingInfo||[]}p=K(p,c),m=K(m,c);let y=0;const g=[...p.map((e=>G(l,s,e,\"feature\",y++,n))),...m.map((e=>G(l,s,e,\"aggregate\",y++,n)))],b=W(s,r.orderBy);return{type:\"symbol\",target:o,attributes:s,aggregateFields:i,storage:f,mesh:{matcher:u,labels:{type:\"simple\",classes:g},aggregateMatcher:d,sortKey:b}}}}function W(e,r){if(a(r)||!r.length)return null;r.length>1&&v.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${r.length}. All but the first will be discarded`);const i=r[0],n=\"ascending\"===i.order?\"asc\":\"desc\";if(i.field)return{field:i.field,order:n};if(i.valueExpression){return{fieldIndex:q(e,{type:\"expression\",target:\"feature\",valueExpression:i.valueExpression,resultType:\"numeric\"}).fieldIndex,order:n}}return v.error(new t(w,\"Expected to find a field or valueExpression for OrderByInfo\",i)),null}function X(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,outStatistic:n}=i,{statisticType:l,onStatisticField:s}=n;let a=null,o=null,u=null;const d=\"numeric\",f=\"feature\";if(\"onStatisticValueExpression\"in n){o=q(e,{type:\"expression\",target:f,valueExpression:n.onStatisticValueExpression,resultType:d}).fieldIndex}else if(\"onStatisticNormalizationField\"in n){a=q(e,{type:\"field\",target:f,field:s,resultType:d}).field,u=n.onStatisticNormalizationField}else{a=q(e,{type:\"field\",target:f,field:s,resultType:d}).field}q(e,{type:\"statistic\",target:\"aggregate\",name:t,context:r,inField:a,inNormalizationField:u,inFieldIndex:o,statisticType:l})}}function Q(e,t,r){switch(r.type){case\"dot-density\":return Y(e,t,r.attributes);case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":return Z(e,t,r.visualVariables);case\"heatmap\":return null}}function Y(e,t,r){if(!r||!r.length)return{type:\"dot-density\",mapping:[],target:t};return{type:\"dot-density\",mapping:r.map(((r,i)=>{const{field:n,fieldIndex:l}=$(e,{valueExpression:r.valueExpression,field:r.field,resultType:\"numeric\",target:t});return{binding:i,field:n,fieldIndex:l}})),target:t}}function Z(e,t,r){if(!r||!r.length)return{type:\"visual-variable\",mapping:[],target:t};const i={storage:!0},n=\"numeric\";return{type:\"visual-variable\",mapping:b(r).map((r=>{var l;const s=c(r.type),{field:a,fieldIndex:o}=$(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:i,resultType:n});switch(r.type){case\"size\":return\"$view.scale\"===r.valueExpression?null:{type:\"size\",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field,valueRepresentation:null!=(l=r.valueRepresentation)?l:null};case\"color\":return{type:\"color\",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"opacity\":return{type:\"opacity\",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"rotation\":return{type:\"rotation\",binding:s,field:a,fieldIndex:o}}})).filter((e=>e)),target:t}}function _(e,t,r,i=!1){const n=o(e,{indexCount:0,fields:{}});switch(r.type){case\"simple\":case\"dot-density\":return ee(n,r,i);case\"class-breaks\":return te(n,t,r,i);case\"unique-value\":return re(n,t,r,i);case\"dictionary\":return ie(n,r,i)}}function ee(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,{stride:l}=I(t);return{type:\"simple\",symbol:z(n,t,r),stride:l}}function te(e,t,r,i=!1){const n={mesh:!0,use:\"renderer.field\"},l=r.backgroundFillSymbol,{field:s,fieldIndex:a}=$(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:\"numeric\",context:n}),o=r.normalizationType,u=\"log\"===o?\"esriNormalizeByLog\":\"percent-of-total\"===o?\"esriNormalizeByPercentOfTotal\":\"field\"===o?\"esriNormalizeByField\":null,d=I(r),f=r.classBreakInfos.map((e=>({symbol:j(e.symbol,d,i),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:s,fieldIndex:a,backgroundFillSymbol:j(l,d,i),defaultSymbol:j(r.defaultSymbol,d,i),intervals:f,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:u,isMaxInclusive:r.isMaxInclusive,stride:d.stride}}function re(e,r,i,n=!1){const l=[],s=i.backgroundFillSymbol,a={target:r,context:{mesh:!0},resultType:\"string\"};if(i.field&&\"string\"!=typeof i.field)throw new t(w,\"Expected renderer.field to be a string\",i);const{field:o,fieldIndex:u}=$(e,{...a,field:i.field,valueExpression:i.valueExpression}),d=I(i);for(const t of i.uniqueValueInfos)l.push({value:\"\"+t.value,symbol:j(t.symbol,d,n)});return{type:\"map\",attributes:e.fields,field:o,fieldIndex:u,field2:$(e,{...a,field:i.field2}).field,field3:$(e,{...a,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter,backgroundFillSymbol:j(s,d),defaultSymbol:j(i.defaultSymbol,d),map:l,stride:d.stride}}function ie(e,t,r=!1){return{type:\"dictionary\",renderer:t.toJSON(),stride:{fill:\"default\"}}}export{X as addAggregateFields,_ as createMatcherSchema,B as createSchema,z as createSymbolSchema,I as createSymbolSchemaOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{toPt as l}from\"../../../../../core/screenUtils.js\";const o=8,t=o-2,r=e.getLogger(\"esri.renderers.visualVariables.support.utils\"),s=e=>{if(!(\"visualVariables\"in e)||!e.visualVariables||!e.visualVariables.length)return e;const l=e.clone(),o=l.visualVariables.map((e=>n(e)?i(e):e));return l.visualVariables=o,l};function a(e){return e.map((e=>n(e)?i(e.clone()):e))}function n(e){return(\"size\"===e.type||\"color\"===e.type||\"opacity\"===e.type)&&null!=e.stops}function i(e){return e.stops=b(e.type,e.stops),e}function u(e,l,o){return(1-o)*e+o*l}function c(e,o){const[r,...s]=o,a=s.pop(),n=s[0].value,i=s[s.length-1].value,c=(i-n)/t,p=[];for(let t=n;t<i;t+=c){let r=0;for(;t>=s[r].value;)r++;const a=s[r],n=o[r-1],i=t-n.value,c=a.value===n.value?1:i/(a.value-n.value);if(\"color\"===e){const e=s[r],l=o[r-1],a=e.color.clone();a.r=u(l.color.r,a.r,c),a.g=u(l.color.g,a.g,c),a.b=u(l.color.b,a.b,c),a.a=u(l.color.a,a.a,c),p.push({value:t,color:a,label:e.label})}else if(\"size\"===e){const e=s[r],a=o[r-1],n=l(e.size),i=u(l(a.size),n,c);p.push({value:t,size:i,label:e.label})}else{const e=s[r],l=u(o[r-1].opacity,e.opacity,c);p.push({value:t,opacity:l,label:e.label})}}return[r,...p,a]}function p(e){const[l,...o]=e,r=o.pop();for(;o.length>t;){let e=0,l=0;for(let t=1;t<o.length;t++){const r=o[t-1],s=o[t],a=Math.abs(s.value-r.value);a>l&&(l=a,e=t)}o.splice(e,1)}return[l,...o,r]}function b(e,l){return l.length<=o?l:(r.warn(`Found ${l.length} Visual Variable stops, but MapView only supports ${o}. Displayed stops will be simplified.`),l.length>2*o?c(e,l):p(l))}export{s as simplifyVVRenderer,a as simplifyVisualVariables};\n"],"sourceRoot":""}