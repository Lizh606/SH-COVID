{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/2d/engine/Container.js","webpack:///./node_modules/@arcgis/core/layers/effects/EffectView.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js","webpack:///./node_modules/@arcgis/core/views/layers/support/ClipArea.js","webpack:///./node_modules/@arcgis/core/views/layers/support/ClipRect.js","webpack:///./node_modules/@arcgis/core/views/layers/support/Geometry.js","webpack:///./node_modules/@arcgis/core/views/layers/support/Path.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/color.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/SymbolProperties.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js"],"names":["s","super","arguments","this","_childrenSet","Set","_needsSort","children","_effectView","_blendMode","e","requestRender","_clips","forEach","t","clips","effects","effect","updateTransitionProperties","transitionStep","transitioning","createRenderParams","renderChildren","addChildAt","length","contains","i","parent","removeChild","push","splice","add","stage","has","clear","removeChildAt","indexOf","delete","sort","dvs","onAttach","onDetach","beforeRender","processRender","afterRender","blendMode","computedEffects","globalOpacity","computedOpacity","inFadeTransition","a","h","_from","_to","_final","_current","_time","duration","_get","_set","_transitionTo","_","getLogger","declaredClass","warn","error","_updateForScale","scale","p","_applyTimeTransition","m","Math","min","r","g","n","c","o","interpolate","prototype","value","readOnly","u","d","l","f","SIZE_FIELD_STOPS","SIZE_MINMAX_VALUE","SIZE_SCALE_STOPS","SIZE_UNIT_VALUE","FIELD_TARGETS_OUTLINE","MINMAX_TARGETS_OUTLINE","SCALE_TARGETS_OUTLINE","UNIT_TARGETS_OUTLINE","isOutline","isOutlinedFill","v","S","V","z","y","E","T","M","L","FILL","x","from","LINE","B","MARKER","U","TEXT","R","LABEL","b","Error","F","load","geometryType","_data","shared","data","bits","setBits","bit","setBit","mapAligned","pattern","sdf","textureBinding","I","hasVV","vvSizeMinMaxValue","vvSizeScaleStops","vvSizeFieldStops","vvSizeUnitValue","setVV","O","vvRotation","ROTATION","A","vvColor","COLOR","vvOpacity","OPACITY","dotDensity","stride","fill","simple","outlinedFill","vvFlags","getVariation","placement","type","left","right","top","bottom","Number","String","json","write","base","key","typeMap","extent","polygon","geometry","clone","types","read","path","ofType","rect","moving","attached","lastUpdateId","updateRequested","container","fadeTransitionEnabled","opacity","handles","visible","view","requestUpdate","layer","on","notifyChange","whenLayerView","then","destroyed","attach","when","detach","remove","suspended","isUpdating","updatingHandles","updating","minScale","maxScale","isFulfilled","isResolved","update","Promise","resolve","canResume","isVisibleAtScale","Array","isArray","SUCCEEDED","FAILED_OUT_OF_MEMORY","NONE","MAP","LABEL_ALPHA","HITTEST","HIGHLIGHT","CLIP","DEBUG","NUM_DRAW_PHASES","SIZE","SPRITE","GLYPH","color","haloColor","haloSize","size","angle","offsetX","offsetY","hAnchor","vAnchor","pool","name","strideInBytes","divisor","w","C","D","j","Uint32Array","floor","Uint8Array","$","P","k","q","X","vertexCount","vertexFrom","indexCount","indexFrom","Z","buffers","G","H","Q","Uint16Array","Float32Array","W","map","normalized","offset","count","ee","Map","set","location","te","re","ne","strides","bufferLayouts","attributes","get","ie","oe","ge","se","url","imageData","ae","contentType","ce","includes","ue","le","toLowerCase","fe","cim","dashTemplate","style","de","me","pe","maxVVSize","width","ye","charCodeAt","trim","test"],"mappings":"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","file":"js/chunk-00243cdd.f6923cee.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../chunks/mat3f32.js\";import t from\"../../../layers/effects/EffectView.js\";import{DisplayObject as i}from\"./DisplayObject.js\";class s extends i{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:\"\"}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new t),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:e()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}export{s as Container};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import s from\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as o}from\"./parser.js\";import{canInterpolateEffects as l,normalizeEffects as f}from\"./utils.js\";const a=-1;let h=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=s(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(_(t))}catch(e){this._transitionTo([]),i.getLogger(this.declaredClass).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&p(this._current,_(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}end(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&p(this._current,t,this.scale)?(this._final=t,this._to=r(t),m(this._current,this._to,this.scale),this._from=r(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?r(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=g(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?r(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};t([n()],h.prototype,\"_to\",void 0),t([n()],h.prototype,\"duration\",void 0),t([n({value:\"\"})],h.prototype,\"effect\",null),t([n({readOnly:!0})],h.prototype,\"effects\",void 0),t([n({readOnly:!0})],h.prototype,\"hasEffects\",null),t([n({value:0})],h.prototype,\"scale\",null),t([n({readOnly:!0})],h.prototype,\"transitioning\",null),h=t([c(\"esri.layers.effects.EffectView\")],h);const u=h;function _(t){const e=o(t)||[];return d(e)?[{scale:a,effects:e}]:e}function p(t,e,s){var r,i,n,c;if(null==(r=t[0])||!r.effects||null==(i=e[0])||!i.effects)return!0;return!(((null==(n=t[0])?void 0:n.scale)===a||(null==(c=e[0])?void 0:c.scale)===a)&&(t.length>1||e.length>1)&&s<=0)&&l(t[0].effects,e[0].effects)}function m(t,e,s){var r,i;const n=t.length>e.length?t:e,c=t.length>e.length?e:t,o=c[c.length-1],l=null!=(r=null==o?void 0:o.scale)?r:s,h=null!=(i=null==o?void 0:o.effects)?i:[];for(let f=c.length;f<n.length;f++)c.push({scale:l,effects:[...h]});for(let u=0;u<n.length;u++)c[u].scale=c[u].scale===a?s:c[u].scale,n[u].scale=n[u].scale===a?s:n[u].scale,f(c[u].effects,n[u].effects)}function g(t,e,s){return t+(e-t)*s}function d(t){const e=t[0];return!!e&&\"type\"in e}export{p as canInterpolateEffectStops,_ as convertEffectToStops,u as default,m as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import{WGLVVFlag as e,WGLVVTarget as i,WGLGeometryType as s}from\"../enums.js\";import{isMapAligned as a}from\"../mesh/templates/meshUtils.js\";function r(t,s){const a=e.SIZE_FIELD_STOPS|e.SIZE_MINMAX_VALUE|e.SIZE_SCALE_STOPS|e.SIZE_UNIT_VALUE,r=(t&(i.FIELD_TARGETS_OUTLINE|i.MINMAX_TARGETS_OUTLINE|i.SCALE_TARGETS_OUTLINE|i.UNIT_TARGETS_OUTLINE))>>>4;return s.isOutline||s.isOutlinedFill?a&r:a&~r}const n=0,v=8,o=7,l=8,h=11,S=11,u=12,d=13,V=14,c=15,p=15,g=16,z=17,m=18,y=19,E=20,T=21,M=22;function L(t,e){switch(t){case s.FILL:return x.from(e);case s.LINE:return B.from(e);case s.MARKER:return U.from(e);case s.TEXT:return R.from(e);case s.LABEL:return b.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function F(t){switch(_.load(t).geometryType){case s.MARKER:return new U(t);case s.FILL:return new x(t);case s.LINE:return new B(t);case s.TEXT:return new R(t);case s.LABEL:return new b(t)}}class _{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(l,h)}set geometryType(t){this.setBits(t,l,h)}get mapAligned(){return!!this.bit(E)}set mapAligned(t){this.setBit(E,t)}get sdf(){return!!this.bit(S)}set sdf(t){this.setBit(S,t)}get pattern(){return!!this.bit(u)}set pattern(t){this.setBit(u,t)}get textureBinding(){return this.bits(n,v)}set textureBinding(t){this.setBits(t,n,v)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return\"fill\";case s.MARKER:return\"marker\";case s.LINE:return\"line\";case s.TEXT:return\"text\";case s.LABEL:return\"label\";default:throw new t(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,a=0;s<i;s++,a++)this.setBit(s,0!=(t&1<<a))}bits(t,e){let i=0;for(let s=t,a=0;s<e;s++,a++)i|=this.bit(s)<<a;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(o&this.textureBinding)}}_.shared=new _(0);const I=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(g)}set vvSizeMinMaxValue(t){this.setBit(g,t)}get vvSizeScaleStops(){return 0!==this.bit(z)}set vvSizeScaleStops(t){this.setBit(z,t)}get vvSizeFieldStops(){return 0!==this.bit(m)}set vvSizeFieldStops(t){this.setBit(m,t)}get vvSizeUnitValue(){return 0!==this.bit(y)}set vvSizeUnitValue(t){this.setBit(y,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=r(t,i)&t;this.vvSizeMinMaxValue=!!(s&e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&e.SIZE_SCALE_STOPS)}},O=t=>class extends t{get vvRotation(){return 0!==this.bit(c)}set vvRotation(t){this.setBit(c,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i.isOutline&&!!(t&e.ROTATION)}},A=t=>class extends t{get vvColor(){return 0!==this.bit(d)}set vvColor(t){this.setBit(d,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i.isOutline&&!!(t&e.COLOR)}},f=t=>class extends t{get vvOpacity(){return 0!==this.bit(V)}set vvOpacity(t){this.setBit(V,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i.isOutline&&!!(t&e.OPACITY)}};class x extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.FILL,e.dotDensity=\"dot-density\"===t.stride.fill,e.simple=\"simple\"===t.stride.fill,e.outlinedFill=t.isOutlinedFill,e.dotDensity||e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(p)}set dotDensity(t){this.setBit(p,t)}get simple(){return!!this.bit(M)}set simple(t){this.setBit(M,t)}get outlinedFill(){return!!this.bit(T)}set outlinedFill(t){this.setBit(T,t)}}x.shared=new x(0);class U extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class B extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LINE,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0);class R extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.TEXT,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}R.shared=new R(0);class b extends(I(_)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LABEL,e.setVV(t.vvFlags,t),e.mapAligned=a(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);export{x as FillMaterialKey,b as LabelMaterialKey,B as LineMaterialKey,U as MarkerMaterialKey,_ as MaterialKeyBase,R as TextMaterialKey,L as createMaterialKey,r as getSizeFlagsMask,F as hydrateMaterialKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);const t=e;export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([e({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0})],c.prototype,\"version\",null),c=y=r([o(\"esri.views.layers.support.Geometry\")],c);const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([s({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([s({readOnly:!0})],e.prototype,\"version\",null),e=r([o(\"esri.views.layers.support.Path\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as o}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new o),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(!this.updatingHandles||!this.updatingHandles.updating)}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&t<=i&&(s=!0),!a&&t>=r&&(a=!0),e=s&&a}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}hitTest(t,e){return Promise.resolve(null)}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([a(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"above-along\":case\"below-along\":case\"center-along\":case\"esriServerLinePlacementAboveAlong\":case\"esriServerLinePlacementBelowAlong\":case\"esriServerLinePlacementCenterAlong\":return!0;default:return!1}}export{e as isMapAligned};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{i8888to32 as r}from\"./number.js\";const n=[255,255,255,1],t=[0,0,0,0];function u(r,n){return Array.isArray(n)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3]):(r[0]=n.r,r[1]=n.g,r[2]=n.b,r[3]=n.a),r}function o(r,n=0,t=!1){const u=r[n+3];return r[n+0]*=u,r[n+1]*=u,r[n+2]*=u,t||(r[n+3]*=255),r}function c(r){return o(u([],r))}function e(n){return o(u(t,n)),r(t[0],t[1],t[2],t[3])}function i(n){if(!n)return 0;const{r:t,g:u,b:o,a:c}=n;return r(t*c,u*c,o*c,255*c)}function f(n){if(!n)return 0;const[t,u,o,c]=n;return r(t*(c/255),u*(c/255),o*(c/255),c)}export{c as copyAndPremultiply,o as premultiplyAlpha,i as premultiplyAlphaRGBA,f as premultiplyAlphaRGBAArray,e as premultiplyAlphaUint32,n as white};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nvar E,T,I,L,A,_,O;!function(E){E[E.FILL=0]=\"FILL\",E[E.LINE=1]=\"LINE\",E[E.MARKER=2]=\"MARKER\",E[E.TEXT=3]=\"TEXT\",E[E.LABEL=4]=\"LABEL\"}(E||(E={})),function(E){E[E.SUCCEEDED=0]=\"SUCCEEDED\",E[E.FAILED_OUT_OF_MEMORY=1]=\"FAILED_OUT_OF_MEMORY\"}(T||(T={})),function(E){E[E.NONE=0]=\"NONE\",E[E.MAP=1]=\"MAP\",E[E.LABEL=2]=\"LABEL\",E[E.LABEL_ALPHA=4]=\"LABEL_ALPHA\",E[E.HITTEST=8]=\"HITTEST\",E[E.HIGHLIGHT=16]=\"HIGHLIGHT\",E[E.CLIP=32]=\"CLIP\",E[E.DEBUG=64]=\"DEBUG\",E[E.NUM_DRAW_PHASES=9]=\"NUM_DRAW_PHASES\"}(I||(I={})),function(E){E[E.SIZE=0]=\"SIZE\",E[E.COLOR=1]=\"COLOR\",E[E.OPACITY=2]=\"OPACITY\",E[E.ROTATION=3]=\"ROTATION\"}(L||(L={})),function(E){E[E.NONE=0]=\"NONE\",E[E.OPACITY=1]=\"OPACITY\",E[E.COLOR=2]=\"COLOR\",E[E.ROTATION=4]=\"ROTATION\",E[E.SIZE_MINMAX_VALUE=8]=\"SIZE_MINMAX_VALUE\",E[E.SIZE_SCALE_STOPS=16]=\"SIZE_SCALE_STOPS\",E[E.SIZE_FIELD_STOPS=32]=\"SIZE_FIELD_STOPS\",E[E.SIZE_UNIT_VALUE=64]=\"SIZE_UNIT_VALUE\"}(A||(A={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]=\"MINMAX_TARGETS_OUTLINE\",E[E.SCALE_TARGETS_OUTLINE=256]=\"SCALE_TARGETS_OUTLINE\",E[E.FIELD_TARGETS_OUTLINE=512]=\"FIELD_TARGETS_OUTLINE\",E[E.UNIT_TARGETS_OUTLINE=1024]=\"UNIT_TARGETS_OUTLINE\"}(_||(_={})),function(E){E[E.SPRITE=0]=\"SPRITE\",E[E.GLYPH=1]=\"GLYPH\"}(O||(O={}));export{O as MosaicType,L as VVType,I as WGLDrawPhase,T as WGLGeometryTransactionStatus,E as WGLGeometryType,A as WGLVVFlag,_ as WGLVVTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/ObjectPool.js\";class h{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(o,h,s,t,i,l,r,e,c){this.color=o,this.haloColor=h,this.haloSize=s,this.size=t,this.angle=i,this.offsetX=l,this.offsetY=r,this.hAnchor=e,this.vAnchor=c}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}h.pool=new o(h);export{h as TextProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import{copyAndPremultiply as i}from\"./color.js\";import{WGLGeometryType as o,VVType as s}from\"./enums.js\";import{TextProperties as a}from\"./SymbolProperties.js\";import c from\"../../../webgl/Texture.js\";const u=t.getLogger(\"esri.views.2d.engine.webgl.Utils\"),l=\"geometry\",f=\"per_instance\",d=\"per_instance_vv\",m=[{name:l,strideInBytes:36,divisor:0}],p=[{name:l,strideInBytes:32,divisor:0}],y=[{name:l,strideInBytes:20,divisor:0}],g=[{name:l,strideInBytes:12,divisor:0}],h=[{name:l,strideInBytes:40,divisor:0}],w=[{name:l,strideInBytes:36,divisor:0}],v=[{name:l,strideInBytes:36,divisor:0}];function S(e){const t={};for(const r of e)t[r.name]=r.strideInBytes;return t}const I=S(m),L=S(p),M=S(y),A=S(g),T=S(h),C=S(w),b=S(v);function z(e,{fill:t}){switch(e){case o.MARKER:return I;case o.FILL:return\"dot-density\"===t?A:\"simple\"===t?M:L;case o.LINE:return T;case o.TEXT:return C;case o.LABEL:return b}}const x=[l],E=[l],F=[l],B=[l],D=[l];function U(e){switch(e){case o.MARKER:return x;case o.FILL:return E;case o.LINE:return F;case o.TEXT:return B;case o.LABEL:return D}}function j(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function R(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function $(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function N(e){return a.pool.acquire(e.color?i(e.color):[255,255,255,255],e.haloColor?i(e.haloColor):[255,255,255,255],n(e.haloSize),n(e.font.size),e.angle*Math.PI/180,e.xoffset/e.font.size,e.yoffset/e.font.size,\"left\"===e.horizontalAlignment?0:\"right\"===e.horizontalAlignment?1:.5,\"top\"===e.verticalAlignment?0:\"bottom\"===e.verticalAlignment?1:.5)}function O(e){return null!=e}function P(e){return\"number\"==typeof e}function k(t){switch(t){case\"butt\":return 0;case\"round\":return 1;case\"square\":return 2;default:return u.error(new e(\"mapview-invalid-type\",`Cap type ${t} is not a valid option. Defaulting to round`)),1}}function V(t){switch(t){case\"miter\":return 2;case\"bevel\":return 0;case\"round\":return 1;default:return u.error(new e(\"mapview-invalid-type\",`Join type ${t} is not a valid option. Defaulting to round`)),1}}function q(e){switch(e){case\"opacity\":return s.OPACITY;case\"color\":return s.COLOR;case\"rotation\":return s.ROTATION;case\"size\":return s.SIZE;default:return u.error(`Cannot interpret unknown vv: ${e}`),null}}function K(e){const{transform:t,hasZ:r,hasM:n}=e;return{transform:t,hasZ:r,hasM:n}}function X(e,t,r,n,i,o,s){for(const c in o){const t=o[c].stride,n=j(t),s=o[c].data,a=r[c].data,u=t*i.vertexCount/n,l=t*e/n,f=t*i.vertexFrom/n;for(let e=0;e<u;++e)a[e+l]=s[e+f]}const a=i.indexCount;for(let c=0;c<a;++c)n[c+t]=s[c+i.indexFrom]-i.vertexFrom+e}const Z={[l]:35044};function _(e,t){const r=[];for(let n=0;n<5;++n){const i=U(n),o={};for(const e of i)o[e]={data:t(n,e)};r.push({data:e(n),buffers:o})}return r}function J(e,t){let n,i;return r(t.width)&&r(t.height)?(n=!0,i=9987):(n=!1,i=9729),new c(e,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,hasMipmap:n,samplingMode:i,wrapMode:33071,flipped:!0},t)}function Y(e){return{vertexFrom:void 0,vertexTo:void 0,geometry:e}}function G(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}function H(t){switch(t){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void u.error(new e(\"webgl-utils\",`Unable to handle type ${t}`))}}function Q(t){switch(t){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void u.error(new e(\"webgl-utils\",`Unable to handle type ${t}`))}}function W(e){const t={};for(const r in e){const n=e[r];let i=0;t[r]=n.map((e=>{const t={...e,normalized:e.normalized||!1,divisor:e.divisor||0,offset:i,stride:0};return i+=e.count*G(e.type),t})),t[r].forEach((e=>e.stride=i))}return t}const ee=e=>{const t=new Map;for(const r in e)for(const n of e[r])t.set(n.name,n.location);return t},te=e=>{const t={};for(const r in e){const n=e[r];t[r]=n.length?n[0].stride:0}return t},re=new Map,ne=(e,t)=>{if(!re.has(e)){const r=W(t),n={strides:te(r),bufferLayouts:r,attributes:ee(t)};re.set(e,n)}return re.get(e)};function ie(e){e(o.FILL),e(o.LINE),e(o.MARKER),e(o.TEXT),e(o.LABEL)}const oe=e=>\"path\"in e&&ge(e.path),se=e=>\"url\"in e&&e.url||\"imageData\"in e&&e.imageData,ae=e=>\"imageData\"in e&&e.imageData&&\"contentType\"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:\"url\"in e?e.url:null,ce=e=>\"url\"in e&&e.url&&e.url.includes(\".gif\")||\"contentType\"in e&&\"image/gif\"===e.contentType||\"imageData\"in e&&e.imageData.includes(\"data:image/gif\"),ue=e=>\"url\"in e&&e.url&&e.url.includes(\".png\")||\"contentType\"in e&&\"image/png\"===e.contentType||\"imageData\"in e&&e.imageData.includes(\"data:image/png\"),le=e=>e.type&&-1!==e.type.toLowerCase().indexOf(\"3d\");function fe(e){switch(e.type){case\"line\":{const t=e;return\"CIMSolidStroke\"===t.cim.type&&!t.dashTemplate}case\"fill\":return\"CIMSolidFill\"===e.cim.type;case\"esriSFS\":return\"esriSFSSolid\"===e.style||\"esriSFSNull\"===e.style;case\"esriSLS\":return\"esriSLSSolid\"===e.style||\"esriSLSNull\"===e.style;default:return!1}}const de=e=>e.includes(\"data:image/svg+xml\");function me(e){switch(\"cim\"in e?e.cim.type:e.type){case\"esriSMS\":case\"esriPMS\":case\"CIMPointSymbol\":case\"CIMVectorMarker\":case\"CIMPictureMarker\":case\"CIMCharacterMarker\":return!1;default:return!0}}function pe(e){const t=\"maxVVSize\"in e&&e.maxVVSize,r=\"width\"in e&&e.width||\"size\"in e&&e.size||0;return t||r}function ye(e){const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}const ge=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\\dz]$/i.test(e)&&e.length>4));export{L as C_FILL_STRIDE_SPEC,A as C_FILL_STRIDE_SPEC_DD,M as C_FILL_STRIDE_SPEC_SIMPLE,p as C_FILL_VERTEX_DEF,g as C_FILL_VERTEX_DEF_DD,y as C_FILL_VERTEX_DEF_SIMPLE,I as C_ICON_STRIDE_SPEC,m as C_ICON_VERTEX_DEF,b as C_LABEL_STRIDE_SPEC,v as C_LABEL_VERTEX_DEF,T as C_LINE_STRIDE_SPEC,h as C_LINE_VERTEX_DEF,C as C_TEXT_STRIDE_SPEC,w as C_TEXT_VERTEX_DEF,l as C_VBO_GEOMETRY,Z as C_VBO_INFO,f as C_VBO_PERINSTANCE,d as C_VBO_PERINSTANCE_VV,R as allocateTypedArrayBuffer,$ as allocateTypedArrayBufferwithData,ye as charCodes,X as copyMeshData,_ as createGeometryData,ne as createProgramDescriptor,J as createTextureFromTexelData,ie as forEachGeometryType,Y as geometryToMappedGeometry,G as getBytes,k as getCapType,V as getJoinType,U as getNamedBuffers,pe as getPMSResourceSize,Q as getPixelArrayCtor,H as getPixelBytes,z as getStrides,N as getTextProperties,K as getTransformParams,ae as getUrl,q as getVVType,le as is3D,O as isDefined,ce as isGIF,se as isImageResource,P as isNumber,ue as isPNG,de as isSVGImage,oe as isSVGResource,fe as isSimple,ge as isValidSVG,me as shouldRepeat,j as strideToPackingFactor};\n"],"sourceRoot":""}