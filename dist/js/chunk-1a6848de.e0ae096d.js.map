{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/layers/GraphicsView.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicLikeLayerView.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/GraphicsView3D.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","webpack:///./node_modules/@arcgis/core/layers/graphics/centroid.js"],"names":["t","p","super","arguments","this","graphics","renderer","prototype","items","e","push","type","objectStateId","object","s","renderGeometry","owner","remove","length","_removeObjectStateItem","splice","forEach","channel","removeHighlight","removeOcclude","removeRenderGeometryObjectState","i","stateType","objectIdField","objectStateSet","ids","Set","paused","graphic","attributes","has","uid","_graphicsCore","_stateSets","Array","removeAll","a","h","releaseSet","set","handle","indexOf","addObjectStateSet","removeObjectState","add","graphics3DGraphics","get","_addObjectStateSet","setUid","initializeSet","hasGraphic","_removeObjectStateSet","states","v","graphicsCore","elevationAlignment","watchUpdatingTracking","handles","suspendResumeExtent","scaleVisibilityEnabled","layer","preferredUpdatePolicy","graphicSymbolSupported","scaleVisibility","layerMinMaxScaleChangeHandler","addPromise","elevationInfoChange","spatialIndex","queryGraphicUIDsInExtent","setup","view","elevationProvider","basemapTerrain","_set","objectStates","destroyed","watch","updateClippingExtent","setupSuspendResumeExtent","startCreateGraphics","destroy","suspended","updating","loadedGraphics","find","whenGraphicBounds","Promise","reject","computeAttachmentOrigin","getSymbolLayerSize","acquireSet","x","highlight","toArray","isArray","map","setUids","setObjectIds","clippingArea","setClippingExtent","spatialReference","recreateAllGraphics","computedExtent","extentPadding","setExtent","updateSuspendResumeExtent","constructOnly","readOnly","aliasOf","E","c","r","graphics3d","slicePlaneEnabled","drapeSourceType","Date","now","toString","id","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","graphics3DGraphicsByObjectID","symbolUpdateType","getGraphicFromGraphicUid","graphicUpdateHandler","effectiveUpdatePolicy","resolve","clientGraphics","maskOccludee","Boolean","_extents","allocator","_tmpExtent","_dirty","clear","contains","removeContained","pushNew","mergeTight","pop","hasProgressed","o","sort","done","getItemAt","delete","g","m","d","madeProgress","some","filterInPlace","containsPoint","dirtyExtents","globalDirty","averageExtentUpdateSize","dirtyGraphicsSet","updateElevation","layerView","events","resourceController","scheduler","on","_elevationChanged","suspendedChange","registerTask","ELEVATION_ALIGNMENT","notifyChange","running","size","empty","markAllGraphicsElevationDirty","run","merge","_updateDirtyGraphics","_updateDirtyExtents","deconflictor","setDirty","renderCoordsHelper","keys","getGraphics3DGraphicById","alignWithElevation","emit","extent","needsElevationUpdates","context","elevationInfo","mode","xmin","xmax","ymin","ymax","n","u","l","N","lengths","originPosition","coords","f","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","T","I","b","Math","sqrt"],"mappings":"kHAAA,sHAImX,MAAMA,EAAEA,IAAI,IAAIC,EAAE,cAAc,cAAD,CAAGD,IAAI,cAAcE,SAASC,WAAWC,KAAKC,SAAS,KAAKD,KAAKE,SAAS,OAAO,OAAO,eAAE,CAAC,kBAAKL,EAAEM,UAAU,gBAAW,GAAQ,eAAE,CAAC,kBAAKN,EAAEM,UAAU,gBAAW,GAAQ,eAAE,CAAC,kBAAKN,EAAEM,UAAU,gBAAW,GAAQ,eAAE,CAAC,kBAAKN,EAAEM,UAAU,YAAO,GAAQN,EAAE,eAAE,CAAC,eAAE,mCAAmCA,GAAGA,I,sFCA/qB,MAAM,EAAE,cAAcG,KAAKI,MAAM,GAAG,UAAUC,EAAET,GAAGI,KAAKI,MAAME,KAAK,CAACC,KAAK,EAAEC,cAAcZ,EAAEa,OAAOJ,IAAI,kBAAkBA,EAAET,EAAEc,GAAGV,KAAKI,MAAME,KAAK,CAACC,KAAK,EAAEC,cAAcZ,EAAEe,eAAeN,EAAEO,MAAMF,IAAI,YAAYL,EAAET,GAAGI,KAAKI,MAAME,KAAK,CAACC,KAAK,EAAEC,cAAcZ,EAAEiB,OAAOR,IAAI,OAAOA,GAAG,IAAI,IAAIT,EAAEI,KAAKI,MAAMU,OAAO,EAAElB,GAAG,IAAIA,EAAE,CAAC,MAAMc,EAAEV,KAAKI,MAAMR,GAAGc,EAAEF,gBAAgBH,IAAIL,KAAKe,uBAAuBL,GAAGV,KAAKI,MAAMY,OAAOpB,EAAE,KAAK,aAAaS,GAAG,IAAI,IAAIT,EAAEI,KAAKI,MAAMU,OAAO,EAAElB,GAAG,IAAIA,EAAE,CAAC,MAAMc,EAAEV,KAAKI,MAAMR,GAAG,IAAIc,EAAEH,MAAMG,EAAED,SAASJ,IAAIL,KAAKe,uBAAuBL,GAAGV,KAAKI,MAAMY,OAAOpB,EAAE,KAAK,qBAAqBS,GAAG,IAAI,IAAIT,EAAEI,KAAKI,MAAMU,OAAO,EAAElB,GAAG,IAAIA,EAAE,CAAC,MAAMc,EAAEV,KAAKI,MAAMR,GAAG,IAAIc,EAAEH,MAAMG,EAAEC,iBAAiBN,IAAIL,KAAKe,uBAAuBL,GAAGV,KAAKI,MAAMY,OAAOpB,EAAE,KAAK,YAAYI,KAAKI,MAAMa,QAASZ,IAAIL,KAAKe,uBAAuBV,KAAML,KAAKI,MAAM,GAAG,uBAAuBC,GAAG,OAAOA,EAAEE,MAAM,KAAK,EAAE,IAAIF,EAAEG,cAAcU,QAAQb,EAAEI,OAAOU,gBAAgBd,EAAEG,eAAe,IAAIH,EAAEG,cAAcU,SAASb,EAAEI,OAAOW,cAAcf,EAAEG,eAAe,MAAM,KAAK,EAAEH,EAAEO,MAAMS,gCAAgChB,EAAEM,eAAeN,EAAEG,eAAe,MAAM,KAAK,EAAEH,EAAEQ,OAAOR,EAAEG,iBCA9hC,MAAM,EAAE,YAAYH,EAAEiB,GAAGtB,KAAKuB,UAAUlB,EAAEL,KAAKwB,cAAcF,EAAEtB,KAAKyB,eAAe,IAAI,EAAEzB,KAAK0B,IAAI,IAAIC,IAAI3B,KAAK4B,QAAO,EAAG,WAAWhC,GAAG,GAAGI,KAAKwB,cAAc,CAAC,MAAMnB,EAAET,EAAEiC,QAAQC,WAAW9B,KAAKwB,eAAe,OAAOxB,KAAK0B,IAAIK,IAAI1B,GAAG,OAAOL,KAAK0B,IAAIK,IAAInC,EAAEiC,QAAQG,MCA5M,MAAM,EAAE,YAAYpC,GAAGI,KAAKiC,cAAcrC,EAAEI,KAAKkC,WAAW,IAAIC,MAAM,UAAUnC,KAAKkC,YAAYlC,KAAKkC,WAAWjB,QAASrB,GAAGA,EAAE6B,eAAeW,aAAcpC,KAAKkC,WAAW,KAAK,WAAWxB,EAAE2B,GAAG,MAAMf,EAAE,IAAI,EAAEZ,EAAE2B,GAAGrC,KAAKkC,WAAW5B,KAAKgB,GAAG,MAAMgB,EAAE,eAAE,IAAKtC,KAAKuC,WAAWjB,IAAK,MAAM,CAACkB,IAAIlB,EAAEmB,OAAOH,GAAG,WAAW1C,GAAGA,EAAE6B,eAAeW,YAAY,MAAM/B,EAAEL,KAAKkC,WAAWlC,KAAKkC,WAAWQ,QAAQ9C,IAAI,GAAG,IAAIS,GAAGL,KAAKkC,WAAWlB,OAAOX,EAAE,GAAG,mBAAmBT,EAAES,GAAGT,EAAE+C,kBAAkBtC,EAAEkB,UAAUlB,EAAEoB,gBAAgB,sBAAsB7B,EAAES,GAAGT,EAAEgD,kBAAkBvC,EAAEoB,gBAAgB,OAAO7B,EAAES,GAAGT,EAAE8B,IAAImB,IAAIxC,GAAG,MAAMK,EAAEV,KAAKiC,cAAca,mBAAmBC,IAAI1C,GAAGK,GAAGV,KAAKgD,mBAAmBtC,EAAEd,GAAG,QAAQA,EAAES,GAAGA,EAAEY,QAASZ,GAAGL,KAAKiD,OAAOrD,EAAES,IAAK,aAAaT,EAAES,GAAGA,EAAEY,QAASZ,GAAGT,EAAE8B,IAAImB,IAAIxC,IAAKL,KAAKkD,cAActD,GAAG,WAAWA,GAAGI,KAAKkC,WAAWjB,QAASZ,KAAKA,EAAEuB,QAAQvB,EAAE8C,WAAWvD,IAAII,KAAKgD,mBAAmBpD,EAAES,KAAM,cAAcT,GAAGI,KAAKkC,WAAWjB,QAASZ,IAAIA,EAAE8C,WAAWvD,IAAII,KAAKoD,sBAAsBxD,EAAES,KAAM,qBAAqBL,KAAKkC,YAAYlC,KAAKkC,WAAWjB,QAASrB,GAAGA,EAAE6B,eAAeW,aAAc,cAAcxC,GAAG,MAAMS,EAAEL,KAAKiC,cAAca,mBAAmBlD,EAAE4B,cAAcnB,EAAEY,QAASZ,IAAIA,GAAGT,EAAEuD,WAAW9C,IAAIL,KAAKgD,mBAAmB3C,EAAET,KAAMA,EAAE8B,IAAIT,QAASP,IAAI,MAAM2B,EAAEhC,EAAE0C,IAAIrC,GAAG2B,GAAGrC,KAAKgD,mBAAmBX,EAAEzC,KAAM,WAAW,MAAM,CAACyD,OAAOrD,KAAKkC,e,oCCJ/7C,kUAIy1C,IAAIoB,EAAE,cAAc,OAAE,YAAY1D,GAAGE,MAAMF,GAAGI,KAAKuD,aAAa,KAAKvD,KAAKwD,mBAAmB,IAAI,OAAExD,KAAKyD,sBAAsB,IAAI,OAAEzD,KAAK0D,QAAQ,IAAI,OAAE1D,KAAK2D,oBAAoB,KAAK,kBAAkB/D,GAAG,IAAIS,EAAE,KAAKT,EAAEgE,gCAAgChE,EAAE,IAAIA,IAAIgE,uBAAuBvD,EAAE,IAAI,QAAG,MAAMiB,EAAE,IAAI,OAAE,CAACV,MAAMhB,EAAEgB,MAAMiD,MAAMjE,EAAEiE,MAAMC,sBAAsB,EAAEC,wBAAuB,IAAK,MAAM,IAAInE,EAAE2D,aAAajC,EAAE0C,gBAAgB3D,GAAG,aAAa,MAAMT,EAAEI,KAAKgE,gBAAgB,eAAEpE,IAAI,aAAaI,KAAK6D,OAAO7D,KAAKyD,sBAAsBZ,IAAI7C,KAAK6D,MAAM,eAAe,IAAKjE,EAAEqE,iCAAkC,kBAAkBjE,KAAK6D,OAAO7D,KAAKyD,sBAAsBZ,IAAI7C,KAAK6D,MAAM,gBAAgB,CAAEjE,EAAES,KAAK,eAAET,EAAES,IAAIL,KAAKyD,sBAAsBS,WAAWlE,KAAKuD,aAAaY,yBAA0B,cAAc,MAAMvE,EAAE,CAACA,EAAES,EAAEiB,IAAItB,KAAKuD,aAAaa,aAAaC,yBAAyBzE,EAAES,EAAEiB,GAAG,GAAGtB,KAAKwD,mBAAmBc,MAAMtE,KAAKY,MAAMhB,EAAEI,KAAKuD,aAAavD,KAAKuE,KAAKC,mBAAmB,eAAExE,KAAKgE,kBAAkB,aAAahE,KAAK6D,MAAM,CAAC,MAAMxD,EAAEL,KAAKY,MAAM2D,KAAKE,eAAezE,KAAKgE,gBAAgBM,MAAMtE,KAAKY,MAAMZ,KAAK6D,MAAMjE,EAAEI,KAAKuD,aAAalD,GAAGL,KAAK0E,KAAK,eAAe,IAAI,OAAE1E,KAAKuD,eAAe,UAAUvD,KAAKuD,aAAae,MAAM,CAACd,mBAAmBxD,KAAKwD,mBAAmBQ,gBAAgBhE,KAAKgE,gBAAgBW,aAAa3E,KAAK2E,eAAe,MAAMtE,GAAG,GAAG,eAAEA,GAAG,OAAO,MAAMA,EAAEL,KAAK4E,YAAY5E,KAAK0D,QAAQb,IAAI7C,KAAKuE,KAAKM,MAAM,eAAe,IAAK7E,KAAK8E,wBAAwB,IAAK9E,KAAK8E,uBAAuB9E,KAAK+E,2BAA2B/E,KAAKuD,aAAayB,uBAAuB,UAAUhF,KAAK0D,QAAQ,eAAE1D,KAAK0D,SAAS1D,KAAKyD,sBAAsBwB,UAAUjF,KAAK0E,KAAK,qBAAqB,eAAE1E,KAAKwD,qBAAqBxD,KAAK0E,KAAK,kBAAkB,eAAE1E,KAAKgE,kBAAkBhE,KAAK0E,KAAK,eAAe,eAAE1E,KAAK2E,eAAe3E,KAAK0E,KAAK,eAAe,eAAE1E,KAAKuD,eAAe,gBAAgB,SAAS,eAAEvD,KAAKgE,mBAAmBhE,KAAKgE,gBAAgBkB,WAAW,eAAe,IAAItF,EAAES,EAAE,SAAS,OAAOT,EAAEI,KAAKuD,eAAe3D,EAAEuF,UAAU,eAAEnF,KAAKgE,kBAAkBhE,KAAKgE,gBAAgBmB,UAAU,OAAO9E,EAAEL,KAAKyD,wBAAwBpD,EAAE8E,UAAU,yBAAyBvF,GAAG,GAAGI,KAAKY,MAAMwE,eAAe,CAAC,MAAM/E,EAAEL,KAAKY,MAAMwE,eAAeC,KAAMhF,GAAGA,EAAE2B,MAAMpC,GAAI,GAAGS,EAAE,CAAC,MAAMT,EAAEI,KAAK6D,iBAAiB,OAAE7D,KAAK6D,MAAM,KAAK,OAAO,eAAExD,EAAET,KAAK,kBAAkBA,EAAES,GAAG,OAAOL,KAAKuD,aAAavD,KAAKuD,aAAa+B,kBAAkB1F,EAAES,GAAGkF,QAAQC,SAAS,wBAAwB5F,EAAES,GAAG,OAAOL,KAAKuD,aAAavD,KAAKuD,aAAakC,wBAAwB7F,EAAES,GAAG,KAAK,mBAAmBT,EAAES,GAAG,OAAOL,KAAKuD,aAAavD,KAAKuD,aAAamC,mBAAmB9F,EAAES,GAAG,KAAK,aAAaT,GAAG,MAAM4C,IAAInC,EAAEoC,OAAOnB,GAAGtB,KAAK2E,aAAagB,WAAW,EAAE,MAAM,OAAO3F,KAAK2E,aAAa1B,OAAO5C,EAAET,EAAEoC,KAAKV,EAAE,UAAU1B,GAAG,GAAGA,aAAa,OAAE,OAAOgG,EAAE,GAAG,iBAAiBhG,EAAE,OAAOI,KAAK6F,UAAU,CAACjG,IAAI,GAAGA,aAAa,OAAE,OAAOI,KAAK6F,UAAU,CAACjG,IAAI,GAAGA,aAAa,SAAIA,EAAEA,EAAEkG,WAAW3D,MAAM4D,QAAQnG,IAAIA,EAAEkB,OAAO,EAAE,CAAC,GAAGlB,EAAE,aAAa,OAAE,CAAC,MAAMS,EAAET,EAAEoG,IAAKpG,GAAGA,EAAEoC,MAAOQ,IAAIlB,EAAEmB,OAAO/B,GAAGV,KAAK2E,aAAagB,WAAW,EAAE,MAAM,OAAO3F,KAAK2E,aAAasB,QAAQ3E,EAAEjB,GAAGK,EAAE,GAAG,iBAAiBd,EAAE,GAAG,CAAC,MAAMS,EAAET,GAAG4C,IAAIlB,EAAEmB,OAAO/B,GAAGV,KAAK2E,aAAagB,WAAW,EAAE,MAAM,OAAO3F,KAAK2E,aAAauB,aAAa5E,EAAEjB,GAAGK,GAAG,OAAOkF,EAAE,uBAAuB,MAAMhG,EAAEI,KAAKuE,KAAK4B,aAAanG,KAAKuD,aAAa6C,kBAAkBxG,EAAEI,KAAKuE,KAAK8B,mBAAmBrG,KAAKuD,aAAa+C,sBAAsB,4BAA4B,eAAEtG,KAAKgE,mBAAmBhE,KAAK2D,oBAAoB,eAAE3D,KAAKuD,aAAagD,eAAevG,KAAK2D,oBAAoB,OAAE3D,KAAKuD,aAAaiD,eAAexG,KAAKgE,gBAAgByC,UAAUzG,KAAK2D,sBAAsB,2BAA2B,eAAE3D,KAAKgE,mBAAmB,eAAEhE,KAAKuD,aAAa,iBAAkB3D,GAAGI,KAAK0G,6BAA6B,GAAI1G,KAAKuD,aAAasB,MAAM,gBAAiBjF,GAAGI,KAAK0G,gCAAiC,eAAE,CAAC,eAAE,CAACC,eAAc,KAAMrD,EAAEnD,UAAU,aAAQ,GAAQ,eAAE,CAAC,eAAE,CAACwG,eAAc,KAAMrD,EAAEnD,UAAU,aAAQ,GAAQ,eAAE,CAAC,eAAE,CAACyG,UAAS,EAAGC,QAAQ,gBAAgBvD,EAAEnD,UAAU,YAAO,GAAQ,eAAE,CAAC,eAAE,CAACwG,eAAc,KAAMrD,EAAEnD,UAAU,oBAAe,GAAQ,eAAE,CAAC,eAAE,CAACwG,eAAc,KAAMrD,EAAEnD,UAAU,uBAAkB,GAAQ,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAMtD,EAAEnD,UAAU,0BAAqB,GAAQ,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAMtD,EAAEnD,UAAU,oBAAe,GAAQ,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAMtD,EAAEnD,UAAU,6BAAwB,GAAQ,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAMtD,EAAEnD,UAAU,YAAY,MAAM,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAMtD,EAAEnD,UAAU,WAAW,MAAMmD,EAAE,eAAE,CAAC,eAAE,iEAAiEA,GAAG,MAAMsC,EAAE,CAAC,WAAW,UAAU,YAAYkB,EAAExD,G,oCCJnwL,uKAIuhB,IAAIyD,EAAE,cAAc,cAAD,CAAG,SAAI,YAAYC,GAAGlH,MAAMkH,GAAGhH,KAAKiH,WAAW,KAAKjH,KAAKkH,mBAAkB,EAAGlH,KAAKmH,gBAAgB,EAAE,aAAa,MAAMH,EAAE,wBAAwBI,KAAKC,MAAMC,SAAS,IAAIhG,EAAE,CAACiG,GAAGP,EAAEhF,IAAIgF,GAAGhH,KAAK0E,KAAK,aAAa,IAAI,OAAE,CAAC9D,MAAMZ,KAAK6D,MAAMvC,KAAKtB,KAAKiH,WAAW3C,QAAQ,UAAUtE,KAAKiH,aAAajH,KAAKiH,WAAWhC,UAAUjF,KAAK0E,KAAK,aAAa,OAAO,eAAe,IAAIsC,EAAE,QAAQ,OAAOA,EAAEhH,KAAKiH,cAAcD,EAAE7B,UAAU,6BAA6B6B,GAAGhH,KAAKiH,WAAW1D,aAAaiE,6BAA6BR,GAAG,+BAA+BA,GAAGhH,KAAKiH,WAAW1D,aAAakE,+BAA+BT,GAAG,yBAAyB,OAAOhH,KAAKiH,WAAW1D,aAAaT,mBAAmB,mCAAmC,OAAO9C,KAAKiH,WAAW1D,aAAamE,6BAA6B,uBAAuB,OAAO1H,KAAKiH,WAAW1D,aAAaoE,iBAAiB,yBAAyBX,GAAG,OAAOhH,KAAKiH,WAAWW,yBAAyBZ,GAAG,kBAAkBA,EAAE1F,GAAG,OAAOtB,KAAKiH,WAAW3B,kBAAkB0B,EAAE1F,GAAG,eAAe0F,GAAGhH,KAAKiH,WAAW1D,aAAasE,qBAAqBb,GAAG,mBAAmB,OAAOhH,KAAKiH,WAAW1D,aAAauE,sBAAsB,gBAAgB,OAAOvC,QAAQwC,QAAQ/H,KAAKoF,gBAAgB,yBAAyB4B,EAAE1F,GAAG,OAAO,eAAEA,GAAGA,EAAE0G,eAAe,KAAK,UAAUhB,GAAG,OAAOhH,KAAKiH,WAAWpB,UAAUmB,GAAG,aAAaA,GAAG,OAAOhH,KAAKiH,WAAWgB,aAAajB,KAAK,eAAE,CAAC,eAAE,CAACJ,UAAS,EAAGC,QAAQ,mBAAmBE,EAAE5G,UAAU,gBAAW,GAAQ,eAAE,CAAC,eAAE,CAAC0G,QAAQ,cAAcE,EAAE5G,UAAU,sBAAiB,GAAQ,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAMG,EAAE5G,UAAU,WAAW,MAAM,eAAE,CAAC,eAAE,CAACwG,eAAc,KAAMI,EAAE5G,UAAU,YAAO,GAAQ,eAAE,CAAC,kBAAK4G,EAAE5G,UAAU,kBAAa,GAAQ,eAAE,CAAC,eAAE,CAACI,KAAK2H,WAAWnB,EAAE5G,UAAU,yBAAoB,GAAQ4G,EAAE,eAAE,CAAC,eAAE,wCAAwCA,GAAG,MAAMzE,EAAEyE,G,gOCAxjE,MAAM,EAAE,IAAI,MAAM,EAAE,cAAc/G,KAAKmI,SAAS,IAAI,OAAE,CAACC,UAAUxI,GAAGA,GAAG,mBAAMI,KAAKqI,WAAW,iBAAIrI,KAAKsI,QAAO,EAAG,YAAY,OAAO,IAAItI,KAAKmI,SAASrH,OAAO,WAAW,OAAOd,KAAKmI,SAASrH,OAAO,QAAQd,KAAKmI,SAASI,QAAQ,IAAI3I,GAAGI,KAAKwI,SAAS5I,KAAKI,KAAKyI,gBAAgB7I,GAAG,eAAEI,KAAKmI,SAASO,UAAU9I,GAAGI,KAAKsI,QAAO,GAAI,MAAM,OAAOtI,KAAKsI,QAAQtI,KAAK2I,aAAa3I,KAAKmI,SAASS,MAAM,MAAMhJ,GAAG,OAAOI,KAAK2I,WAAW/I,GAAGA,EAAEiJ,cAAc,WAAWjJ,EAAE,QAAG,MAAMS,EAAEL,KAAKmI,SAASW,EAAE,IAAInH,IAAI,IAAIL,EAAE,EAAE,KAAKA,IAAIjB,EAAES,QAAQ,CAACT,EAAE0I,KAAK,CAAEnJ,EAAES,IAAIT,EAAE,GAAGS,EAAE,IAAKiB,EAAEjB,EAAES,OAAOgI,EAAEP,QAAQ,IAAI,IAAIjH,EAAE,EAAEA,EAAEjB,EAAES,SAASQ,EAAE,CAAC,GAAG1B,EAAEoJ,KAAK,OAAO,MAAM1G,EAAEjC,EAAE4I,UAAU3H,GAAG,IAAI,IAAI1B,EAAE0B,EAAE,EAAE1B,EAAES,EAAES,SAASlB,EAAE,CAAC,MAAMoH,EAAE3G,EAAE4I,UAAUrJ,GAAG,GAAGoH,EAAE,IAAI1E,EAAE,GAAG,MAAMwG,EAAEjG,IAAImE,GAAG8B,EAAE7H,QAASK,IAAI,GAAGgB,IAAIhB,EAAE,OAAO,GAAGA,EAAE,IAAIgB,EAAE,GAAG,YAAYwG,EAAEI,OAAO5H,GAAG,MAAMyF,EAAE,eAAEzE,GAAG6G,EAAE,eAAE7H,GAAG8H,EAAEpJ,KAAKqI,WAAW,eAAE/F,EAAEhB,EAAE8H,GAAG,MAAMC,EAAEtC,EAAEoC,GAAG,eAAEC,GAAGC,GAAGA,EAAE,IAAI,eAAE/G,EAAE8G,GAAGN,EAAEI,OAAO5H,GAAGjB,EAAEQ,OAAOS,GAAG1B,EAAE0J,kBAAmBR,EAAEjG,IAAIP,IAAItC,KAAKsI,QAAO,EAAG,SAAS1I,GAAG,OAAOI,KAAKmI,SAASoB,KAAMlJ,GAAG,eAAEA,EAAET,IAAK,gBAAgBA,GAAGI,KAAKmI,SAASqB,cAAenJ,IAAI,eAAET,EAAES,IAAK,WAAW,MAAMT,EAAEI,KAAK,MAAM,CAACyJ,cAAcpJ,GAAGT,EAAEuI,SAASoB,KAAM3J,GAAG,eAAEA,EAAES,MCArtB,IAAIR,EAAE,cAAc,OAAE,cAAcC,SAASC,WAAWC,KAAK0J,aAAa,IAAI,EAAE1J,KAAK2J,aAAY,EAAG3J,KAAK4J,wBAAwB,EAAE5J,KAAK6J,iBAAiB,IAAIlI,IAAI3B,KAAK0D,QAAQ,IAAI,OAAE1D,KAAK8J,iBAAgB,EAAG9J,KAAK+J,UAAU,KAAK/J,KAAKuD,aAAa,KAAKvD,KAAKgK,OAAO,IAAI,OAAE,MAAMpK,EAAES,EAAEiB,EAAEZ,GAAGV,KAAK+J,UAAUnK,EAAEI,KAAKqE,yBAAyBhE,EAAEL,KAAKuD,aAAajC,EAAEtB,KAAKwE,kBAAkB9D,EAAE,MAAMsG,EAAEhH,KAAK+J,UAAUxF,KAAK0F,mBAAmBC,UAAUlK,KAAK0D,QAAQb,IAAI,CAACnC,EAAEyJ,GAAG,mBAAoBvK,GAAGI,KAAKoK,kBAAkBxK,IAAKI,KAAK+J,UAAUlF,MAAM,YAAY,IAAK7E,KAAKqK,mBAAoBrD,EAAEsD,aAAa,OAAEC,oBAAoBvK,QAAQ,UAAUA,KAAK6J,iBAAiBtB,QAAQvI,KAAK0D,QAAQuB,UAAUjF,KAAK0D,QAAQ,KAAK1D,KAAK+J,UAAU,KAAK/J,KAAKuD,aAAa,KAAKvD,KAAKqE,yBAAyB,KAAK,QAAQrE,KAAK6J,iBAAiBtB,QAAQvI,KAAKwK,aAAa,YAAY,mBAAkB,IAAKxK,KAAK+J,UAAU7E,UAAUlF,KAAK8J,iBAAgB,GAAG,IAAK9J,KAAK+J,UAAU7E,WAAWlF,KAAK8J,kBAAkB9J,KAAK2J,aAAY,EAAG3J,KAAKwK,aAAa,aAAa,sBAAsBxK,KAAK2J,aAAY,EAAG3J,KAAKwK,aAAa,YAAY,eAAe,OAAOxK,KAAKyK,QAAQ,cAAc,OAAOzK,KAAK6J,iBAAiBa,KAAK,GAAG1K,KAAK0J,eAAe1J,KAAK0J,aAAaiB,OAAO3K,KAAK2J,YAAY,wBAAwB,OAAO3J,KAAK6J,iBAAiBa,KAAK1K,KAAK0J,aAAagB,KAAK1K,KAAK4J,wBAAwB,QAAQhK,GAAG,IAAII,KAAK2J,cAAc3J,KAAK4K,gCAAgC5K,KAAK2J,aAAY,EAAG/J,EAAE0J,gBAAgB1J,EAAEiL,IAAI,IAAK7K,KAAK0J,aAAaoB,MAAMlL,IAAKI,KAAKyK,UAAU7K,EAAEoJ,MAAMhJ,KAAK+K,qBAAqBnL,GAAGI,KAAKgL,oBAAoBpL,GAAGI,KAAK+J,UAAUxF,KAAK0G,aAAaC,WAAWlL,KAAKwK,aAAa,YAAY,qBAAqB5K,GAAG,MAAMS,EAAEL,KAAK+J,UAAUxF,KAAK4G,mBAAmB7J,EAAE,IAAItB,KAAKuD,aAAauE,sBAAsB,IAAI,MAAMpH,KAAKV,KAAK6J,iBAAiBuB,OAAO,CAAC,MAAM/I,EAAErC,KAAKuD,aAAa8H,yBAAyB3K,GAAG,GAAGV,KAAK6J,iBAAiBX,OAAOxI,GAAG,eAAE2B,KAAKA,EAAEiJ,mBAAmBtL,KAAKwE,kBAAkBnE,EAAEiB,GAAG1B,EAAE0J,gBAAgB1J,EAAEoJ,KAAK,QAAQ,oBAAoBpJ,GAAG,MAAMI,KAAK0J,aAAaiB,QAAQ/K,EAAEoJ,MAAM,CAAC,MAAM3I,EAAEL,KAAK0J,aAAad,MAAMtH,EAAEtB,KAAKwE,kBAAkB6B,iBAAiBrG,KAAKgK,OAAOuB,KAAK,uBAAuB,CAACC,OAAOnL,EAAEgG,iBAAiB/E,IAAI,MAAMZ,EAAEV,KAAK6J,iBAAiBa,KAAK1K,KAAKqE,yBAAyBhE,EAAEiB,EAAG1B,IAAI,MAAMS,EAAEL,KAAKuD,aAAa8H,yBAAyBzL,GAAG,eAAES,IAAIA,EAAEoL,yBAAyBzL,KAAK6J,iBAAiBhH,IAAIjD,KAAMI,KAAK4J,wBAAwB,IAAI5J,KAAK6J,iBAAiBa,KAAKhK,GAAG,GAAGV,KAAK4J,wBAAwBhK,EAAE0J,gBAAgB,gCAAgCtJ,KAAK0J,aAAanB,QAAQvI,KAAK6J,iBAAiBtB,QAAQvI,KAAKuD,aAAaT,mBAAmB7B,QAAQ,CAAErB,EAAES,IAAIL,KAAK6J,iBAAiBhH,IAAIxC,IAAK,kBAAkBT,GAAG,GAAG,UAAUA,EAAE8L,WAAW1L,KAAKuD,aAAaM,MAAM8H,eAAe,sBAAsB3L,KAAKuD,aAAaM,MAAM8H,cAAcC,MAAM,OAAO,MAAMJ,OAAOnL,EAAEgG,iBAAiB/E,GAAG1B,EAAE,GAAGI,KAAK+J,UAAU7E,UAAU,CAAC,IAAIlF,KAAK8J,gBAAgB,CAAC,MAAMlK,EAAEI,KAAKuD,aAAagD,eAAe3G,GAAGS,EAAE,GAAGT,EAAEiM,MAAMxL,EAAE,GAAGT,EAAEkM,MAAMzL,EAAE,GAAGT,EAAEmM,MAAM1L,EAAE,GAAGT,EAAEoM,OAAOhM,KAAK8J,iBAAgB,GAAI9J,KAAKgK,OAAOuB,KAAK,uBAAuB,CAACC,OAAOnL,EAAEgG,iBAAiB/E,SAASjB,EAAE,MAAK,IAAKL,KAAK2J,aAAY,EAAG3J,KAAK0J,aAAa7G,IAAIxC,GAAGL,KAAKwK,aAAa,cAAc,eAAE,CAAC,eAAE,CAAC5D,UAAS,KAAM/G,EAAEM,UAAU,WAAW,MAAM,eAAE,CAAC,eAAE,CAACyG,UAAS,KAAM/G,EAAEM,UAAU,oBAAoB,MAAMN,EAAE,eAAE,CAAC,eAAE,+DAA+DA,GAAG,MAAM,EAAEA,G,kCCJl8H,kDAI6C,SAASoM,EAAErM,EAAEqM,GAAG,OAAOrM,EAAEqM,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,SAAS5L,EAAEA,EAAEyI,EAAEoD,EAAEC,EAAEC,GAAG,GAAG,eAAEtD,KAAKA,EAAEuD,QAAQvL,OAAO,OAAO,KAAK,MAAMJ,EAAE,eAAe,MAAM0L,OAAE,EAAOA,EAAEE,iBAAiB,EAAE,EAAEjM,EAAEgM,QAAQvL,SAAST,EAAEgM,QAAQvL,OAAO,GAAGT,EAAEkM,OAAOzL,SAAST,EAAEkM,OAAOzL,OAAO,GAAG,MAAMiG,EAAE1G,EAAEkM,OAAOC,EAAE,GAAGlL,EAAE4K,EAAE,CAACO,OAAOC,kBAAkBD,OAAOE,kBAAkBF,OAAOC,kBAAkBD,OAAOE,kBAAkBF,OAAOC,kBAAkBD,OAAOE,mBAAmB,CAACF,OAAOC,kBAAkBD,OAAOE,kBAAkBF,OAAOC,kBAAkBD,OAAOE,oBAAoBN,QAAQO,EAAEL,OAAOjK,GAAGwG,EAAEK,EAAE8C,EAAEC,EAAEC,GAAG,IAAIrF,EAAE,EAAE,IAAI,MAAMlH,KAAKgN,EAAE,CAAC,MAAMX,EAAEjF,EAAE1F,EAAEgB,EAAEwE,EAAElH,EAAEsM,EAAEC,EAAEzL,GAAGuL,GAAGO,EAAElM,KAAK2L,GAAGnF,GAAGlH,EAAEuJ,EAAE,GAAGqD,EAAEzD,KAAK,CAAEnJ,EAAEqM,KAAK,IAAI5L,EAAEK,EAAEd,EAAE,GAAGc,EAAEuL,EAAE,GAAG,OAAO,IAAI5L,GAAG6L,IAAI7L,EAAET,EAAE,GAAGqM,EAAE,IAAI5L,IAAKmM,EAAE1L,OAAO,CAAC,IAAIlB,EAAE,EAAE4M,EAAE,GAAG,GAAGzF,EAAE,GAAGyF,EAAE,GAAG,GAAG5M,EAAEmH,EAAE,GAAGyF,EAAE,GAAG,GAAG5M,EAAEsM,IAAItM,EAAE,EAAE4M,EAAE,GAAG,GAAGzF,EAAE,GAAG,IAAInH,EAAE4M,EAAE,GAAG,GAAG5M,EAAE,IAAImH,EAAE,GAAGzF,EAAE,IAAIyF,EAAE,GAAGzF,EAAE,IAAIyF,EAAE,GAAGzF,EAAE,IAAIyF,EAAE,GAAGzF,EAAE,IAAI4K,IAAInF,EAAE,GAAGzF,EAAE,IAAIyF,EAAE,GAAGzF,EAAE,OAAOyF,EAAEjG,OAAO,GAAG,IAAIiG,EAAEjG,OAAO,CAAC,MAAMlB,EAAEkJ,EAAEuD,QAAQ,GAAGQ,EAAEvK,EAAE,EAAEsK,EAAE,GAAGV,EAAEC,GAAG,KAAK,IAAIvM,EAAE,OAAO,KAAKmH,EAAE,GAAGnH,EAAE,GAAGmH,EAAE,GAAGnH,EAAE,GAAGsM,GAAGtM,EAAEkB,OAAO,IAAIiG,EAAE,GAAGnH,EAAE,IAAI,OAAOS,EAAE,SAAS2G,EAAEpH,EAAES,EAAE2G,EAAE6F,EAAE/D,EAAEoD,EAAEC,EAAE,GAAG,MAAMC,EAAEH,EAAEnD,EAAEoD,GAAG,IAAIxL,EAAEsG,EAAED,EAAEC,EAAEoF,EAAEI,EAAE,EAAElL,EAAE,EAAEsL,EAAE,EAAEtK,EAAE,EAAE6G,EAAE,EAAE,IAAI,IAAI8C,EAAE,EAAE7C,EAAEyD,EAAE,EAAEZ,EAAE7C,EAAE6C,IAAIvL,GAAG0L,EAAErF,GAAGqF,EAAE,CAAC,MAAMH,EAAE5L,EAAEK,GAAGsG,EAAE3G,EAAEK,EAAE,GAAGmM,EAAExM,EAAEK,EAAE,GAAGwL,EAAE7L,EAAE0G,GAAGoF,EAAE9L,EAAE0G,EAAE,GAAGqF,EAAE/L,EAAE0G,EAAE,GAAG,IAAID,EAAEmF,EAAEE,EAAED,EAAElF,EAAE1E,GAAGwE,EAAE0F,IAAIP,EAAEC,GAAGpF,EAAExF,IAAI0F,EAAEmF,GAAGrF,EAAEgC,IAAIhC,EAAEmF,EAAEG,EAAEF,EAAEW,EAAED,IAAIC,EAAET,GAAGtF,EAAEqC,GAAGrC,GAAGmF,EAAErM,EAAE,KAAKA,EAAE,GAAGqM,GAAGA,EAAErM,EAAE,KAAKA,EAAE,GAAGqM,GAAGjF,EAAEpH,EAAE,KAAKA,EAAE,GAAGoH,GAAGA,EAAEpH,EAAE,KAAKA,EAAE,GAAGoH,GAAG8B,IAAI+D,EAAEjN,EAAE,KAAKA,EAAE,GAAGiN,GAAGA,EAAEjN,EAAE,KAAKA,EAAE,GAAGiN,IAAI,GAAGvK,EAAE6J,EAAE,IAAI7J,IAAI,GAAG6G,EAAEgD,EAAE,IAAIhD,IAAI,IAAI7G,EAAE,OAAO,KAAK,MAAMwE,EAAE,CAAC0F,EAAElL,EAAE,GAAGgB,GAAG,OAAOwG,IAAIhC,EAAE,GAAG8F,EAAE9F,EAAE,GAAG,GAAGqC,GAAGrC,EAAE,SAAS+F,EAAEjN,EAAES,EAAE2G,EAAE6F,EAAEnM,GAAG,MAAMqG,EAAEkF,EAAEY,EAAEnM,GAAG,IAAI8L,EAAEnM,EAAEiB,EAAEjB,EAAE0G,EAAE6F,EAAE,EAAEtK,EAAE,EAAE6G,EAAE,EAAErC,EAAE,EAAE,IAAI,IAAImF,EAAE,EAAE7C,EAAEpC,EAAE,EAAEiF,EAAE7C,EAAE6C,IAAIO,GAAGzF,EAAEzF,GAAGyF,EAAE,CAAC,MAAMkF,EAAErM,EAAE4M,GAAGnM,EAAET,EAAE4M,EAAE,GAAGxF,EAAEpH,EAAE4M,EAAE,GAAG9L,EAAEd,EAAE0B,GAAGyF,EAAEnH,EAAE0B,EAAE,GAAG8H,EAAExJ,EAAE0B,EAAE,GAAGwL,EAAED,EAAEX,EAAED,EAAE5L,EAAE2G,EAAEtG,EAAEqG,EAAEqC,GAAGN,EAAEmD,EAAE5L,EAAEK,EAAEqG,GAAG,GAAG+F,EAAE,GAAGF,GAAGE,EAAED,EAAE,CAAC,MAAMjN,EAAEwM,EAAEH,EAAE5L,EAAE2G,EAAEtG,EAAEqG,EAAEqC,GAAG9G,GAAGwK,EAAElN,EAAE,GAAGuJ,GAAG2D,EAAElN,EAAE,GAAGkH,GAAGgG,EAAElN,EAAE,OAAO,CAAC,MAAMA,EAAEuM,EAAEF,EAAE5L,EAAEK,EAAEqG,GAAGzE,GAAGwK,EAAElN,EAAE,GAAGuJ,GAAG2D,EAAElN,EAAE,IAAI,OAAOgN,EAAE,EAAEC,EAAE,CAACvK,EAAEsK,EAAEzD,EAAEyD,EAAE9F,EAAE8F,GAAG,CAACtK,EAAEsK,EAAEzD,EAAEyD,GAAG5F,EAAE,EAAE6F,EAAE,CAACjN,EAAES,GAAGT,EAAES,EAAE,GAAGT,EAAES,EAAE,IAAI,CAACT,EAAES,GAAGT,EAAES,EAAE,IAAI,KAAK,SAASyI,EAAElJ,EAAEqM,EAAE5L,EAAE2G,GAAG,MAAM6F,EAAExM,EAAET,EAAEkJ,EAAE9B,EAAEiF,EAAE,OAAOc,KAAKC,KAAKH,EAAEA,EAAE/D,EAAEA,GAAG,SAASoD,EAAEtM,EAAEqM,EAAE5L,EAAE2G,EAAE6F,EAAE/D,GAAG,MAAMoD,EAAElF,EAAEpH,EAAEuM,EAAEU,EAAEZ,EAAEG,EAAEtD,EAAEzI,EAAE,OAAO0M,KAAKC,KAAKd,EAAEA,EAAEC,EAAEA,EAAEC,EAAEA,GAAG,SAASD,EAAEvM,EAAEqM,EAAE5L,EAAE2G,GAAG,MAAM,CAACpH,EAAE,IAAIS,EAAET,GAAGqM,EAAE,IAAIjF,EAAEiF,IAAI,SAASG,EAAExM,EAAEqM,EAAE5L,EAAE2G,EAAE6F,EAAE/D,GAAG,MAAM,CAAClJ,EAAE,IAAIoH,EAAEpH,GAAGqM,EAAE,IAAIY,EAAEZ,GAAG5L,EAAE,IAAIyI,EAAEzI","file":"js/chunk-1a6848de.e0ae096d.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";const t=t=>{let p=class extends(o(t)){constructor(){super(...arguments),this.graphics=null,this.renderer=null}};return r([e()],p.prototype,\"graphics\",void 0),r([e()],p.prototype,\"renderer\",void 0),r([e()],p.prototype,\"updating\",void 0),r([e()],p.prototype,\"view\",void 0),p=r([s(\"esri.views.layers.GraphicsView\")],p),p};export{t as GraphicsView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.items=[]}addObject(e,t){this.items.push({type:0,objectStateId:t,object:e})}addRenderGeometry(e,t,s){this.items.push({type:1,objectStateId:t,renderGeometry:e,owner:s})}addExternal(e,t){this.items.push({type:2,objectStateId:t,remove:e})}remove(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];s.objectStateId===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeObject(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];0===s.type&&s.object===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeRenderGeometry(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];1===s.type&&s.renderGeometry===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeAll(){this.items.forEach((e=>{this._removeObjectStateItem(e)})),this.items=[]}_removeObjectStateItem(e){switch(e.type){case 0:0===e.objectStateId.channel?e.object.removeHighlight(e.objectStateId):1===e.objectStateId.channel&&e.object.removeOcclude(e.objectStateId);break;case 1:e.owner.removeRenderGeometryObjectState(e.renderGeometry,e.objectStateId);break;case 2:e.remove(e.objectStateId)}}}export{e as Object3DStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this.initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import s from\"../../../../core/Collection.js\";import r from\"../../../../core/Handles.js\";import{isSome as a,destroyMaybe as o,isNone as n}from\"../../../../core/maybe.js\";import{isAbortError as c}from\"../../../../core/promiseUtils.js\";import{init as h}from\"../../../../core/watchUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as d}from\"../../../../core/accessorSupport/diffUtils.js\";import u from\"../../../../layers/Layer.js\";import{hydrateGraphic as m}from\"../../../../layers/graphics/hydratedFeatures.js\";import g from\"../../../../rest/support/Query.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as y}from\"./constants.js\";import{Graphics3DCore as f}from\"./Graphics3DCore.js\";import b from\"./Graphics3DElevationAlignment.js\";import{Graphics3DObjectStates as j}from\"./Graphics3DObjectStates.js\";import w from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as C}from\"./graphicUtils.js\";import{WatchUpdatingTracking as S}from\"../../../support/WatchUpdatingTracking.js\";let v=class extends i{constructor(t){super(t),this.graphicsCore=null,this.elevationAlignment=new b,this.watchUpdatingTracking=new S,this.handles=new r,this.suspendResumeExtent=null}normalizeCtorArgs(t){let e=null;t.scaleVisibilityEnabled&&(delete(t={...t}).scaleVisibilityEnabled,e=new w);const i=new f({owner:t.owner,layer:t.layer,preferredUpdatePolicy:1,graphicSymbolSupported:!0});return{...t,graphicsCore:i,scaleVisibility:e}}initialize(){const t=this.scaleVisibility;a(t)&&\"minScale\"in this.layer&&this.watchUpdatingTracking.add(this.layer,\"scaleRangeId\",(()=>t.layerMinMaxScaleChangeHandler())),\"elevationInfo\"in this.layer&&this.watchUpdatingTracking.add(this.layer,\"elevationInfo\",((t,e)=>{d(t,e)&&this.watchUpdatingTracking.addPromise(this.graphicsCore.elevationInfoChange())}))}async setup(){const t=(t,e,i)=>this.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(t,e,i);if(this.elevationAlignment.setup(this.owner,t,this.graphicsCore,this.view.elevationProvider),a(this.scaleVisibility)&&\"minScale\"in this.layer){const e=this.owner.view.basemapTerrain;this.scaleVisibility.setup(this.owner,this.layer,t,this.graphicsCore,e)}this._set(\"objectStates\",new j(this.graphicsCore));try{await this.graphicsCore.setup({elevationAlignment:this.elevationAlignment,scaleVisibility:this.scaleVisibility,objectStates:this.objectStates})}catch(e){if(c(e))return;throw e}this.destroyed||(this.handles.add(this.view.watch(\"clippingArea\",(()=>this.updateClippingExtent()),!0)),this.updateClippingExtent(),this.setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this.handles=o(this.handles),this.watchUpdatingTracking.destroy(),this._set(\"elevationAlignment\",o(this.elevationAlignment)),this._set(\"scaleVisibility\",o(this.scaleVisibility)),this._set(\"objectStates\",o(this.objectStates)),this._set(\"graphicsCore\",o(this.graphicsCore))}get suspended(){return!(!a(this.scaleVisibility)||!this.scaleVisibility.suspended)}get updating(){var t,e;return!!(null!=(t=this.graphicsCore)&&t.updating||a(this.scaleVisibility)&&this.scaleVisibility.updating||null!=(e=this.watchUpdatingTracking)&&e.updating)}getGraphicFromGraphicUid(t){if(this.owner.loadedGraphics){const e=this.owner.loadedGraphics.find((e=>e.uid===t));if(e){const t=this.layer instanceof u?this.layer:null;return m(e,t)}}}whenGraphicBounds(t,e){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(t,e):Promise.reject()}computeAttachmentOrigin(t,e){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(t,e):null}getSymbolLayerSize(t,e){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(t,e):null}maskOccludee(t){const{set:e,handle:i}=this.objectStates.acquireSet(1,null);return this.objectStates.setUid(e,t.uid),i}highlight(t){if(t instanceof g)return x;if(\"number\"==typeof t)return this.highlight([t]);if(t instanceof e)return this.highlight([t]);if(t instanceof s&&(t=t.toArray()),Array.isArray(t)&&t.length>0){if(t[0]instanceof e){const e=t.map((t=>t.uid)),{set:i,handle:s}=this.objectStates.acquireSet(0,null);return this.objectStates.setUids(i,e),s}if(\"number\"==typeof t[0]){const e=t,{set:i,handle:s}=this.objectStates.acquireSet(0,null);return this.objectStates.setObjectIds(i,e),s}}return x}updateClippingExtent(){const t=this.view.clippingArea;this.graphicsCore.setClippingExtent(t,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}updateSuspendResumeExtent(){n(this.scaleVisibility)||(this.suspendResumeExtent=C(this.graphicsCore.computedExtent,this.suspendResumeExtent,y,this.graphicsCore.extentPadding),this.scaleVisibility.setExtent(this.suspendResumeExtent))}setupSuspendResumeExtent(){n(this.scaleVisibility)||(h(this.graphicsCore,\"computedExtent\",(t=>this.updateSuspendResumeExtent()),!0),this.graphicsCore.watch(\"extentPadding\",(t=>this.updateSuspendResumeExtent())))}};t([p({constructOnly:!0})],v.prototype,\"owner\",void 0),t([p({constructOnly:!0})],v.prototype,\"layer\",void 0),t([p({readOnly:!0,aliasOf:\"owner.view\"})],v.prototype,\"view\",void 0),t([p({constructOnly:!0})],v.prototype,\"graphicsCore\",void 0),t([p({constructOnly:!0})],v.prototype,\"scaleVisibility\",void 0),t([p({readOnly:!0})],v.prototype,\"elevationAlignment\",void 0),t([p({readOnly:!0})],v.prototype,\"objectStates\",void 0),t([p({readOnly:!0})],v.prototype,\"watchUpdatingTracking\",void 0),t([p({readOnly:!0})],v.prototype,\"suspended\",null),t([p({readOnly:!0})],v.prototype,\"updating\",null),v=t([l(\"esri.views.3d.layers.graphics.Graphics3DGraphicLikeLayerView\")],v);const x={remove(){},pause(){},resume(){}},E=v;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{isSome as s}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"./graphics/Graphics3DGraphicLikeLayerView.js\";import{GraphicsView as p}from\"../../layers/GraphicsView.js\";let c=class extends(p(i)){constructor(r){super(r),this.graphics3d=null,this.slicePlaneEnabled=!1,this.drapeSourceType=1}initialize(){const r=\"__sceneView.graphics-\"+Date.now().toString(16),i={id:r,uid:r};this._set(\"graphics3d\",new a({owner:this,layer:i})),this.graphics3d.setup()}destroy(){this.graphics3d&&(this.graphics3d.destroy(),this._set(\"graphics3d\",null))}get updating(){var r;return!(null==(r=this.graphics3d)||!r.updating)}notifyGraphicGeometryChanged(r){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(r)}notifyGraphicVisibilityChanged(r){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(r)}get graphics3DGraphics(){return this.graphics3d.graphicsCore.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphics3d.graphicsCore.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}getGraphicFromGraphicUid(r){return this.graphics3d.getGraphicFromGraphicUid(r)}whenGraphicBounds(r,i){return this.graphics3d.whenGraphicBounds(r,i)}graphicChanged(r){this.graphics3d.graphicsCore.graphicUpdateHandler(r)}get updatePolicy(){return this.graphics3d.graphicsCore.effectiveUpdatePolicy}queryGraphics(){return Promise.resolve(this.loadedGraphics)}async fetchPopupFeatures(r,i){return s(i)?i.clientGraphics:null}highlight(r){return this.graphics3d.highlight(r)}maskOccludee(r){return this.graphics3d.maskOccludee(r)}};r([e({readOnly:!0,aliasOf:\"view.graphics\"})],c.prototype,\"graphics\",void 0),r([e({aliasOf:\"graphics\"})],c.prototype,\"loadedGraphics\",void 0),r([e({readOnly:!0})],c.prototype,\"updating\",null),r([e({constructOnly:!0})],c.prototype,\"view\",void 0),r([e()],c.prototype,\"graphics3d\",void 0),r([e({type:Boolean})],c.prototype,\"slicePlaneEnabled\",void 0),c=r([t(\"esri.views.3d.layers.GraphicsView3D\")],c);const h=c;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const a=.05;class c{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this.contains(t)||(this.removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this.mergeTight(),this._extents.pop()}merge(t){return this.mergeTight(t),t.hasProgressed}mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const c=s(h),g=s(i),m=this._tmpExtent;n(h,i,m);const d=c+g;(s(m)-d)/d<a&&(r(h,m),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}this._dirty=!1}contains(t){return this._extents.some((e=>o(e,t)))}removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{c as ExtentSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as h}from\"./ExtentSet.js\";import{TaskPriority as o}from\"../../../support/Scheduler.js\";let p=class extends e{constructor(){super(...arguments),this.dirtyExtents=new h,this.globalDirty=!1,this.averageExtentUpdateSize=0,this.dirtyGraphicsSet=new Set,this.handles=new s,this.updateElevation=!1,this.layerView=null,this.graphicsCore=null,this.events=new i}setup(t,e,i,s){this.layerView=t,this.queryGraphicUIDsInExtent=e,this.graphicsCore=i,this.elevationProvider=s;const r=this.layerView.view.resourceController.scheduler;this.handles.add([s.on(\"elevation-change\",(t=>this._elevationChanged(t))),this.layerView.watch(\"suspended\",(()=>this.suspendedChange())),r.registerTask(o.ELEVATION_ALIGNMENT,this)])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.layerView=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}suspendedChange(){!0===this.layerView.suspended?this.updateElevation=!1:!1===this.layerView.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}get updatingRemaining(){return this.dirtyGraphicsSet.size+this.dirtyExtents.size*this.averageExtentUpdateSize}runTask(t){for(this.globalDirty&&(this.markAllGraphicsElevationDirty(),this.globalDirty=!1,t.madeProgress()),t.run((()=>this.dirtyExtents.merge(t)));this.running&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.layerView.view.deconflictor.setDirty(),this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.layerView.view.renderCoordsHelper,i=0===this.graphicsCore.effectiveUpdatePolicy;for(const s of this.dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(s);if(this.dirtyGraphicsSet.delete(s),r(a)&&(a.alignWithElevation(this.elevationProvider,e,i),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this.dirtyExtents.empty&&!t.done;){const e=this.dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const s=this.dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,(t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);r(e)&&e.needsElevationUpdates()&&this.dirtyGraphicsSet.add(t)})),this.averageExtentUpdateSize=.1*(this.dirtyGraphicsSet.size-s)+.9*this.averageExtentUpdateSize,t.madeProgress()}}markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((t,e)=>this.dirtyGraphicsSet.add(e)))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:e,spatialReference:i}=t;if(this.layerView.suspended){if(!this.updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this.updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i})}else e[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(e),this.notifyChange(\"updating\")}};t([a({readOnly:!0})],p.prototype,\"updating\",null),t([a({readOnly:!0})],p.prototype,\"updatingRemaining\",null),p=t([n(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],p);const d=p;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../core/maybe.js\";function n(t,n){return t?n?4:3:n?3:2}function e(e,o,u,l,N){if(t(o)||!o.lengths.length)return null;const s=\"upperLeft\"===(null==N?void 0:N.originPosition)?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const c=e.coords,f=[],i=u?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:T,coords:h}=o,g=n(u,l);let E=0;for(const t of T){const n=r(i,h,E,t,u,l,s);n&&f.push(n),E+=t*g}if(f.sort(((t,n)=>{let e=s*t[2]-s*n[2];return 0===e&&u&&(e=t[4]-n[4]),e})),f.length){let t=6*f[0][2];c[0]=f[0][0]/t,c[1]=f[0][1]/t,u&&(t=6*f[0][4],c[2]=0!==t?f[0][3]/t:0),(c[0]<i[0]||c[0]>i[1]||c[1]<i[2]||c[1]>i[3]||u&&(c[2]<i[4]||c[2]>i[5]))&&(c.length=0)}if(!c.length){const t=o.lengths[0]?I(h,0,T[0],u,l):null;if(!t)return null;c[0]=t[0],c[1]=t[1],u&&t.length>2&&(c[2]=t[2])}return e}function r(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,m=I-1;n<m;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function I(t,e,r,I,s){const c=n(I,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,m=r-1;n<m;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],m=t[i+2],b=I?u(n,e,r,s,c,m):o(n,e,s,c);if(b)if(T+=b,I){const t=N(n,e,r,s,c,m);h+=b*t[0],g+=b*t[1],E+=b*t[2]}else{const t=l(n,e,s,c);h+=b*t[0],g+=b*t[1]}}return T>0?I?[h/T,g/T,E/T]:[h/T,g/T]:r>0?I?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function o(t,n,e,r){const I=e-t,o=r-n;return Math.sqrt(I*I+o*o)}function u(t,n,e,r,I,o){const u=r-t,l=I-n,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function l(t,n,e,r){return[t+.5*(e-t),n+.5*(r-n)]}function N(t,n,e,r,I,o){return[t+.5*(r-t),n+.5*(I-n),e+.5*(o-e)]}export{e as getCentroidOptimizedGeometry,I as lineCentroid};\n"],"sourceRoot":""}