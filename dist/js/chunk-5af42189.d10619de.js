(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5af42189"],{"25f0":function(e,t,r){"use strict";var n=r("e330"),a=r("5e77").PROPER,o=r("6eeb"),i=r("825a"),s=r("3a9b"),c=r("577e"),u=r("d039"),l=r("ad6d"),d="toString",f=RegExp.prototype,p=f[d],g=n(l),m=u((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),v=a&&p.name!=d;(m||v)&&o(RegExp.prototype,d,(function(){var e=i(this),t=c(e.source),r=e.flags,n=c(void 0===r&&s(f,e)&&!("flags"in f)?g(e):r);return"/"+t+"/"+n}),{unsafe:!0})},"2c3e":function(e,t,r){var n=r("da84"),a=r("83ab"),o=r("9f7f").MISSED_STICKY,i=r("c6b6"),s=r("9bf2").f,c=r("69f3").get,u=RegExp.prototype,l=n.TypeError;a&&o&&s(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===i(this))return!!c(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},"466d":function(e,t,r){"use strict";var n=r("c65b"),a=r("d784"),o=r("825a"),i=r("50c4"),s=r("577e"),c=r("1d80"),u=r("dc4a"),l=r("8aa5"),d=r("14c3");a("match",(function(e,t,r){return[function(t){var r=c(this),a=void 0==t?void 0:u(t,e);return a?n(a,t,r):new RegExp(t)[e](s(r))},function(e){var n=o(this),a=s(e),c=r(t,n,a);if(c.done)return c.value;if(!n.global)return d(n,a);var u=n.unicode;n.lastIndex=0;var f,p=[],g=0;while(null!==(f=d(n,a))){var m=s(f[0]);p[g]=m,""===m&&(n.lastIndex=l(a,i(n.lastIndex),u)),g++}return 0===g?null:p}]}))},"498a":function(e,t,r){"use strict";var n=r("23e7"),a=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},"4d63":function(e,t,r){var n=r("83ab"),a=r("da84"),o=r("e330"),i=r("94ca"),s=r("7156"),c=r("9112"),u=r("9bf2").f,l=r("241c").f,d=r("3a9b"),f=r("44e7"),p=r("577e"),g=r("ad6d"),m=r("9f7f"),v=r("6eeb"),h=r("d039"),b=r("1a2d"),w=r("69f3").enforce,x=r("2626"),k=r("b622"),E=r("fce3"),y=r("107c"),R=k("match"),I=a.RegExp,V=I.prototype,C=a.SyntaxError,S=o(g),_=o(V.exec),O=o("".charAt),$=o("".replace),P=o("".indexOf),j=o("".slice),T=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,q=/a/g,D=/a/g,A=new I(q)!==q,F=m.MISSED_STICKY,L=m.UNSUPPORTED_Y,U=n&&(!A||F||E||y||h((function(){return D[R]=!1,I(q)!=q||I(D)==D||"/a/i"!=I(q,"i")}))),M=function(e){for(var t,r=e.length,n=0,a="",o=!1;n<=r;n++)t=O(e,n),"\\"!==t?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),a+=t):a+="[\\s\\S]":a+=t+O(e,++n);return a},Y=function(e){for(var t,r=e.length,n=0,a="",o=[],i={},s=!1,c=!1,u=0,l="";n<=r;n++){if(t=O(e,n),"\\"===t)t+=O(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:_(T,j(e,n+1))&&(n+=2,c=!0),a+=t,u++;continue;case">"===t&&c:if(""===l||b(i,l))throw new C("Invalid capture group name");i[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:a+=t}return[a,o]};if(i("RegExp",U)){for(var J=function(e,t){var r,n,a,o,i,u,l=d(V,this),g=f(e),m=void 0===t,v=[],h=e;if(!l&&g&&m&&e.constructor===J)return e;if((g||d(V,e))&&(e=e.source,m&&(t="flags"in h?h.flags:S(h))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),h=e,E&&"dotAll"in q&&(n=!!t&&P(t,"s")>-1,n&&(t=$(t,/s/g,""))),r=t,F&&"sticky"in q&&(a=!!t&&P(t,"y")>-1,a&&L&&(t=$(t,/y/g,""))),y&&(o=Y(e),e=o[0],v=o[1]),i=s(I(e,t),l?this:V,J),(n||a||v.length)&&(u=w(i),n&&(u.dotAll=!0,u.raw=J(M(e),r)),a&&(u.sticky=!0),v.length&&(u.groups=v)),e!==h)try{c(i,"source",""===h?"(?:)":h)}catch(b){}return i},K=function(e){e in J||u(J,e,{configurable:!0,get:function(){return I[e]},set:function(t){I[e]=t}})},B=l(I),N=0;B.length>N;)K(B[N++]);V.constructor=J,J.prototype=V,v(a,"RegExp",J)}x("RegExp")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("e330"),a=r("1d80"),o=r("577e"),i=r("5899"),s=n("".replace),c="["+i+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(e){return function(t){var r=o(a(t));return 1&e&&(r=s(r,u,"")),2&e&&(r=s(r,l,"")),r}};e.exports={start:d(1),end:d(2),trim:d(3)}},"73cf":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign-In"},[r("div",{staticClass:"sign-content"},[r("div",{staticClass:"signIn-left"}),r("div",{staticClass:"signIn-right"},[r("div",{staticClass:"sign-qr-code"}),e._m(0),r("div",{staticClass:"sign-center",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}}},[r("Form",{ref:"formValidate",attrs:{id:"form",model:e.formValidate,rules:e.ruleValidate}},[r("FormItem",{attrs:{label:"用户名",prop:"user"}},[r("i-input",{attrs:{id:"user",type:"text",placeholder:"请输入用户名"},model:{value:e.formValidate.user,callback:function(t){e.$set(e.formValidate,"user",t)},expression:"formValidate.user"}})],1),r("FormItem",{attrs:{label:"密码",prop:"password"}},[r("i-input",{attrs:{id:"password",type:"password",placeholder:"请输入密码"},model:{value:e.formValidate.password,callback:function(t){e.$set(e.formValidate,"password",t)},expression:"formValidate.password"}})],1),r("FormItem",{attrs:{label:"昵称",prop:"realname"}},[r("i-input",{attrs:{id:"realname",placeholder:"请输入昵称"},model:{value:e.formValidate.realname,callback:function(t){e.$set(e.formValidate,"realname",t)},expression:"formValidate.realname"}})],1),r("FormItem",[r("Button",{staticClass:"form-buttom",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("注册")])],1)],1),r("div",{staticClass:"login",attrs:{type:"‘button’"},on:{click:e.ToLogin}},[e._v(" 立即登录 ")])],1)])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign-title"},[e._v("上海市新冠疫情COVID-19"),r("br"),e._v("动态分布可视化系统")])}],o=r("1da1"),i=(r("96cf"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("466d"),r("498a"),r("7ded")),s={name:"Login",data:function(){return{loading:!1,formValidate:{user:"",password:"",realname:""},ruleValidate:{user:[{required:!0,message:"用户名不能为空",trigger:"blur"},{trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}],realname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{trigger:"blur"}]}}},mounted:function(){},methods:{setCookie:function(e,t,r){var n=new Date;n.setDate(n.getDate()+r),document.cookie=e+"="+t+";expires="+n},getCookie:function(e){var t=RegExp(e+"=([^;]+)"),r=document.cookie.match(t);return r?r[1]:""},handleSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.loading=!0,n=t.formValidate.user.trim(),a=t.formValidate.password,s=t.formValidate.realname.trim(),t.$refs[e].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return e.prev=1,e.next=4,Object(i["b"])({username:n,password:a,realname:s});case 4:o=e.sent,"200"===o.code?(t.$store.commit("set_token",s),t.$store.commit("set_token",o.data.token),t.setCookie("user",n,7),t.setCookie("password",a,7),t.$router.push("/daping")):alert("用户名已存在"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),alert("请求失败");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return r.stop()}}),r)})))()},ToLogin:function(){this.$router.push("/")}}},c=s,u=(r("df4a"),r("2877")),l=Object(u["a"])(c,n,a,!1,null,"116d86e0",null);t["default"]=l.exports},"7ded":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r("a27e");function a(e){return Object(n["b"])("/user/login","登录",e)}function o(e){return Object(n["b"])("/user/register","注册",e)}},"88b3":function(e,t,r){},a27e:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));r("d3b7"),r("d9e2");var n=r("bc3a"),a=r.n(n),o=r("4360"),i=r("65fb");console.log("/prod-api");var s=a.a.create({baseURL:"/prod-api",timeout:1e4});s.interceptors.request.use((function(e){return window.localStorage.getItem("token")&&(e.headers.common["Access-Token"]=window.localStorage.getItem("token"),Object(i["a"])()&&o["a"].dispatch("logout")),e}),(function(e){return Promise.reject(e)}));var c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"未知服务",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return new Promise((function(o,i){e({url:t,method:"get",params:n,showErrorMessage:a}).then((function(e){o(e.data)})).catch((function(e){throw i(e),new Error("请求---".concat(r,"---接口失败"))}))}))},u=function(e,t,r,n){return c(s,e,t,r,n)},l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"未知服务",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6?arguments[6]:void 0;return new Promise((function(s,c){e({url:t,method:"post",data:n,headers:a,withCredentials:o,onUploadProgress:i}).then((function(e){s(e.data)})).catch((function(e){throw c(e),new Error("请求---".concat(r,"---接口失败"))}))}))},d=function(e,t,r,n,a){return l(s,e,t,r,n,!0,a)}},c607:function(e,t,r){var n=r("da84"),a=r("83ab"),o=r("fce3"),i=r("c6b6"),s=r("9bf2").f,c=r("69f3").get,u=RegExp.prototype,l=n.TypeError;a&&o&&s(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===i(this))return!!c(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},c8d2:function(e,t,r){var n=r("5e77").PROPER,a=r("d039"),o=r("5899"),i="​᠎";e.exports=function(e){return a((function(){return!!o[e]()||i[e]()!==i||n&&o[e].name!==e}))}},df4a:function(e,t,r){"use strict";r("88b3")}}]);