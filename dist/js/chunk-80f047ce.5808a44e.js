(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80f047ce","chunk-00b02611"],{"0dfa":function(e,a,t){"use strict";function n(e,a){return!!e.typeKeywords&&e.typeKeywords.indexOf(a)>-1}t.d(a,"a",(function(){return n}))},"15ec":function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t("e041"),r=t("0224");function l(e){return{origin:"portal-item",url:Object(n["K"])(e.itemUrl),portal:e.portal||r["a"].getDefault(),portalItem:e,readResourcePaths:[]}}},"3b92":function(e,a,t){"use strict";t.r(a),t.d(a,"getFirstLayerOrTableId",(function(){return L})),t.d(a,"getNumLayersAndTables",(function(){return v})),t.d(a,"load",(function(){return s})),t.d(a,"preprocessFSItemData",(function(){return m}));var n=t("ce50"),r=t("a0b4"),l=t("0224"),u=t("15ec"),c=t("60ec"),i=t("a0aa");async function s(e,a){const t=e.instance.portalItem;return t&&t.id?(await t.load(a),o(e),d(e,a)):Promise.resolve()}function o(e){const a=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(a.type))throw new n["a"]("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:a.type,expectedType:e.supportedTypes.join(", ")})}async function d(e,a){const t=e.instance,n=t.portalItem,{url:r,title:l}=n,i=Object(u["a"])(n);if("group"===t.type)return t.read({title:l},i),y(t,e);r&&t.read({url:r},i);const s=await b(e,a);return s&&t.read(s,i),t.resourceReferences={portalItem:n,paths:i.readResourcePaths},t.read({title:l},i),Object(c["a"])(t,i)}function y(e,a){let t;const l=e.portalItem.type;switch(l){case"Feature Service":case"Feature Collection":t=r["a"].FeatureLayer;break;case"Stream Service":t=r["a"].StreamLayer;break;case"Scene Service":t=r["a"].SceneLayer;break;default:throw new n["a"]("portal:unsupported-item-type-as-group",`The item type '${l}' is not supported as a 'IGroupLayer'`)}let u;return t().then(e=>(u=e,b(a))).then(async a=>"Feature Service"===l?(a=await m(a,e.portalItem.url),p(e,u,a)):v(a)>0?p(e,u,a):f(e,u))}function f(e,a){return e.portalItem.url?Object(i["a"])(e.portalItem.url).then(t=>{var n,r;function l(e){return{id:e.id,name:e.name}}t&&p(e,a,{layers:null==(n=t.layers)?void 0:n.map(l),tables:null==(r=t.tables)?void 0:r.map(l)})}):Promise.resolve()}function p(e,a,t){let n=t.layers||[];const r=t.tables||[];"Feature Collection"===e.portalItem.type&&(n.forEach(e=>{var a;"Table"===(null==e||null==(a=e.layerDefinition)?void 0:a.type)&&r.push(e)}),n=n.filter(e=>{var a;return"Table"!==(null==e||null==(a=e.layerDefinition)?void 0:a.type)})),n.reverse().forEach(n=>{const r=h(e,a,t,n);e.add(r)}),r.reverse().forEach(n=>{const r=h(e,a,t,n);e.tables.add(r)})}function h(e,a,t,n){const r=new a({portalItem:e.portalItem.clone(),layerId:n.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const a={origin:"portal-item",portal:e.portalItem.portal||l["a"].getDefault()};r.read(n,a);const u=t.showLegend;null!=u&&r.read({showLegend:u},a)}return r}function b(e,a){if(!1===e.supportsData)return Promise.resolve(void 0);const t=e.instance;return t.portalItem.fetchData("json",a).catch(()=>null).then(async e=>{if(I(t)){let a,n=!0;return e&&v(e)>0&&(null==t.layerId&&(t.layerId=L(e)),a=w(e,t.layerId),a&&(1===v(e)&&(n=!1),null!=e.showLegend&&(a.showLegend=e.showLegend))),n&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),a}return e})}async function m(e,a){var t,n;if(null==(null==(t=e)?void 0:t.layers)||null==(null==(n=e)?void 0:n.tables)){const t=await Object(i["a"])(a);(e=e||{}).layers=e.layers||(null==t?void 0:t.layers),e.tables=e.tables||(null==t?void 0:t.tables)}return e}function L(e){const a=e.layers;if(a&&a.length)return a[0].id;const t=e.tables;return t&&t.length?t[0].id:null}function w(e,a){const t=e.layers;if(t)for(let r=0;r<t.length;r++)if(t[r].id===a)return t[r];const n=e.tables;if(n)for(let r=0;r<n.length;r++)if(n[r].id===a)return n[r];return null}function v(e){var a,t,n,r;return(null!=(a=null==e||null==(t=e.layers)?void 0:t.length)?a:0)+(null!=(n=null==e||null==(r=e.tables)?void 0:r.length)?n:0)}function I(e){return"stream"!==e.type&&"layerId"in e}},"5c92":function(e,a,t){"use strict";t.r(a),t.d(a,"fromItem",(function(){return s})),t.d(a,"selectLayerClassPath",(function(){return d}));var n=t("ce50"),r=t("a0b4"),l=t("a7e1"),u=t("3b92"),c=t("0dfa"),i=t("a0aa");function s(e){return!e.portalItem||e.portalItem instanceof l["default"]||(e={...e,portalItem:new l["default"](e.portalItem)}),o(e.portalItem).then(a=>{const t={portalItem:e.portalItem,...a.properties},n=a.constructor;return Promise.resolve(new n(t))})}function o(e){return e.load().then(d).then(y)}function d(e){switch(e.type){case"Map Service":return f(e);case"Feature Service":return p(e);case"Feature Collection":return b(e);case"Scene Service":return h(e);case"Image Service":return m(e);case"Stream Service":return L();case"Vector Tile Service":return w();case"KML":return v();case"WFS":return I();case"WMTS":return g();case"WMS":return S();case"Feed":return k();default:return Promise.reject(new n["a"]("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function y(e){return(0,r["a"][e.className])().then(a=>({constructor:a,properties:e.properties}))}function f(e){return T(e).then(e=>e?{className:"TileLayer"}:{className:"MapImageLayer"})}function p(e){return N(e).then(e=>{if("object"==typeof e){const a={};return null!=e.id&&(a.layerId=e.id),{className:"FeatureLayer",properties:a}}return{className:"GroupLayer"}})}function h(e){return N(e).then(a=>{if("object"==typeof a){const t={};let n;if(null!=a.id?(t.layerId=a.id,n=`${e.url}/layers/${a.id}`):n=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const a={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const t of Object.keys(a))if(-1!==e.typeKeywords.indexOf(t))return{className:a[t]}}return Object(i["a"])(n).then(e=>{let a="SceneLayer";const n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&n[e.layerType]&&(a=n[e.layerType]),{className:a,properties:t}})}return!1===a?Object(i["a"])(e.url).then(e=>"Voxel"===(null==e?void 0:e.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}async function b(e){if(await e.load(),Object(c["a"])(e,"Map Notes"))return{className:"MapNotesLayer"};if(Object(c["a"])(e,"Route Layer"))return{className:"RouteLayer"};const a=await e.fetchData();return 1===Object(u["getNumLayersAndTables"])(a)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function m(e){var a,t,n;await e.load();const r=null!=(a=null==(t=e.typeKeywords)?void 0:t.map(e=>e.toLowerCase()))?a:[];if(r.indexOf("elevation 3d layer")>-1)return{className:"ElevationLayer"};if(r.indexOf("tiled imagery")>-1)return{className:"ImageryTileLayer"};const l=await e.fetchData(),u=null==l?void 0:l.layerType;return"ArcGISTiledImageServiceLayer"===u?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===u?{className:"ImageryLayer"}:"map"===(null==(n=(await Object(i["a"])(e.url)).cacheType)?void 0:n.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function L(){return{className:"StreamLayer"}}function w(){return{className:"VectorTileLayer"}}function v(){return{className:"KMLLayer"}}function I(){return{className:"WFSLayer"}}function S(){return{className:"WMSLayer"}}function g(){return{className:"WMTSLayer"}}function k(){return{className:"StreamLayer"}}function T(e){return Object(i["a"])(e.url).then(e=>e.tileInfo)}function N(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then(()=>e.fetchData()).then(async a=>"Feature Service"===e.type?O(a=await Object(u["preprocessFSItemData"])(a,e.url)):Object(u["getNumLayersAndTables"])(a)>0?O(a):Object(i["a"])(e.url).then(O))}function O(e){return 1===Object(u["getNumLayersAndTables"])(e)&&{id:Object(u["getFirstLayerOrTableId"])(e)}}},a0aa:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t("2eab");async function r(e){const{data:a}=await Object(n["default"])(e,{responseType:"json",query:{f:"json"}});return a}},a0b4:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));const n={BingMapsLayer:async()=>(await t.e("chunk-2d0a4f14").then(t.bind(null,"091f"))).default,BuildingSceneLayer:async()=>(await t.e("chunk-6ef9b55d").then(t.bind(null,"4d64e"))).default,CSVLayer:async()=>(await t.e("chunk-e4fd0ad0").then(t.bind(null,"2a7d"))).default,ElevationLayer:async()=>(await t.e("chunk-2d22c0b7").then(t.bind(null,"f20e"))).default,FeatureLayer:async()=>(await Promise.resolve().then(t.bind(null,"5bd5"))).default,GroupLayer:async()=>(await t.e("chunk-2d0c8892").then(t.bind(null,"54fc"))).default,GeoRSSLayer:async()=>(await t.e("chunk-2d0a33b6").then(t.bind(null,"00ff"))).default,GeoJSONLayer:async()=>(await t.e("chunk-1f92628b").then(t.bind(null,"785c"))).default,ImageryLayer:async()=>(await Promise.all([t.e("chunk-0284c2e9"),t.e("chunk-1e759e79"),t.e("chunk-2d237932")]).then(t.bind(null,"fc65"))).default,ImageryTileLayer:async()=>(await Promise.all([t.e("chunk-0284c2e9"),t.e("chunk-1e759e79"),t.e("chunk-6bbbfd2f")]).then(t.bind(null,"9917"))).default,IntegratedMeshLayer:async()=>(await t.e("chunk-d049b2b0").then(t.bind(null,"cafc"))).default,KMLLayer:async()=>(await t.e("chunk-161078e6").then(t.bind(null,"f5fc"))).default,MapImageLayer:async()=>(await t.e("chunk-2d0c84a6").then(t.bind(null,"53f8"))).default,MapNotesLayer:async()=>(await t.e("chunk-6b3eda79").then(t.bind(null,"5afa"))).default,OGCFeatureLayer:async()=>(await t.e("chunk-ef0d75d0").then(t.bind(null,"1f69"))).default,OpenStreetMapLayer:async()=>(await t.e("chunk-2d0e9004").then(t.bind(null,"8c58"))).default,PointCloudLayer:async()=>(await t.e("chunk-5084825c").then(t.bind(null,"44bb"))).default,RouteLayer:async()=>(await t.e("chunk-2d20f003").then(t.bind(null,"b285"))).default,SceneLayer:async()=>(await t.e("chunk-55a2b5c0").then(t.bind(null,"d321"))).default,StreamLayer:async()=>(await t.e("chunk-2d21a92d").then(t.bind(null,"bba8"))).default,TileLayer:async()=>(await Promise.resolve().then(t.bind(null,"2650"))).default,UnknownLayer:async()=>(await t.e("chunk-2d209b4c").then(t.bind(null,"a9ca"))).default,UnsupportedLayer:async()=>(await t.e("chunk-2d0ac5dd").then(t.bind(null,"18dd"))).default,VectorTileLayer:async()=>(await Promise.all([t.e("chunk-5bd13c4b"),t.e("chunk-5ffdb83c")]).then(t.bind(null,"173c"))).default,VoxelLayer:async()=>(await t.e("chunk-5b5540ce").then(t.bind(null,"a347"))).default,WebTileLayer:async()=>(await Promise.resolve().then(t.bind(null,"9dc3"))).default,WFSLayer:async()=>(await t.e("chunk-41b20229").then(t.bind(null,"fa4e"))).default,WMSLayer:async()=>(await t.e("chunk-435aa026").then(t.bind(null,"8760"))).default,WMTSLayer:async()=>(await t.e("chunk-6a0cc414").then(t.bind(null,"b039"))).default}}}]);