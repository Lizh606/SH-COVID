{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/support/Display.js","webpack:///./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js"],"names":["r","t","s","a","SIZE_FIELD_STOPS","SIZE_MINMAX_VALUE","SIZE_SCALE_STOPS","SIZE_UNIT_VALUE","FIELD_TARGETS_OUTLINE","MINMAX_TARGETS_OUTLINE","SCALE_TARGETS_OUTLINE","UNIT_TARGETS_OUTLINE","isOutline","isOutlinedFill","n","v","o","l","h","S","u","d","V","c","p","g","z","m","y","E","T","M","L","e","FILL","x","from","LINE","B","MARKER","U","TEXT","R","LABEL","b","Error","F","_","load","geometryType","this","_data","shared","data","bits","setBits","bit","setBit","i","mapAligned","pattern","sdf","textureBinding","I","super","hasVV","vvSizeMinMaxValue","vvSizeScaleStops","vvSizeFieldStops","vvSizeUnitValue","setVV","O","vvRotation","ROTATION","A","vvColor","COLOR","f","vvOpacity","OPACITY","dotDensity","stride","fill","simple","outlinedFill","vvFlags","getVariation","placement","_tiles","Map","_tileCache","dispose","_viewSize","_visibleTiles","acquireTile","releaseTile","tileInfoView","_container","clear","_updateCacheSize","getTileCoverage","state","spans","lodInfo","level","Set","row","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","add","processed","_addToContainer","isCoverage","has","_findPlaceholdersForMissingTiles","neededForCoverage","isHoldingForFade","intersects","key","isFading","_releaseTile","pool","release","_addPlaceholderChild","reduce","Math","abs","_addPlaceholderParent","id","hasData","push","get","pop","set","_removeFromContainer","delete","put","contains","_canConnectDirectly","childrenTiles","parentTile","addChild","removeChild","col","world","size","ceil","maxSize","split","parseInt","styleRepository","_tileToHandle","_viewState","scale","rotation","center","_declutterViewState","_completed","_symbolRepository","_symbolDeclutterer","_zoom","allSymbolsFadingOut","lastOpacityUpdate","decluttered","requestRender","getStyleLayerByUID","styleLayerUID","minzoom","maxzoom","getLayoutProperty","getValue","on","restartDeclutter","removeTile","remove","_continueDeclutter","restart","_notifyUnstable","forEach","_declutterZoom","deleteStyleLayers","stale","running","setScreenSize","continue","_scheduleNotifyStable","_stableNotificationHandle","clearTimeout","setTimeout","emit","dvs","tileMat3","_backgroundTiles","_pointToCallbacks","removeAllChildren","_spriteMosaic","_glyphMosaic","_symbolFader","_styleRepository","children","promise","invalidating","createRenderParams","renderPass","styleLayer","glyphMosaic","spriteMosaic","hasClipping","_clippingInfos","visible","drawPhase","MAP","DEBUG","doRender","addTile","_doRender","HITTEST","painter","effects","hittest","bind","draw","unbind","renderChildren","length","filter","context","layers","backgroundBucketIds","_renderBackgroundLayers","_fade","displayLevel","bindVAO","setStencilTestEnabled","setBlendingEnabled","triangleCount","setStencilWriteMask","setColorMask","setStencilOp","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setClearDepth","gl","DEPTH_BUFFER_BIT","_renderStyleLayer","setBlendFunctionSeparate","update","type","uid","layerData","renderObjects","getLayerById","_tileInfoView","_renderPasses","brushes","prepareState","drawMany","C","getTileBounds","setTransform","getTileResolution","setStencilFunction","k","_layerView","_canvas","document","createElement","_context","getContext","_bitmap","_createCustomRenderParams","window","devicePixelRatio","width","height","resolution","clone","pixelRatio","viewpoint","targetGeometry","extent","xmax","xmin","ymax","ymin","render","source","globalOpacity","stationary","arguments","_fullCacheLodInfos","_levelByScale","acquire","_initializeFullCacheLODs","_lodInfos","map","tileInfo","spatialReference","create","lods","H","getLogger","_styleChanges","_fetchQueue","_parseQueue","_isTileHandlerReady","fading","layer","equals","view","addResolvingPromise","Promise","reject","style","currentStyleInfo","fullExtent","_vectorTileContainer","_tileHandler","container","handles","notifyChange","requestUpdate","_collisionBoxesDisplay","_renderCollisionBoxes","_stop","destroy","_tileHandlerPromise","hitTest","getStyleLayerIndex","attributes","layerId","layerName","layerUID","sourceLayer","_start","_applyStyleChanges","pause","_tileManager","resume","isDataDriven","setPaintProperties","paint","layout","setLayoutProperties","setStyleLayerVisibility","visibility","_loadStyle","declaredClass","canResume","layerDefinition","minScale","maxScale","updating","_createVectorTile","then","once","setData","catch","error","abort","AbortController","start","signal","process","_getTileData","concurrency","_parseTileData","setStyleResources","_tileHandlerAbortController","fetchTileData","parseTileData","clearCache","updateStyle","message","deleteStyleLayer","setStyleLayer","index","deleteLayerData","styleLayerUIDs","all","setStyle","aborted","symbols","Object","keys","diff","max","oldValue","newValue","added","changed","removed","prototype","j","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","textTranslateAnchor","colliders","partIndex","minLod","maxLod","enabled","xScreen","xTile","yTile","yScreen","dxScreen","dxPixels","dyScreen","dyPixels","unique","show","_symbols","_currentLayerCursor","_currentSymbolCursor","_styleProps","_allNeededMatrices","_gridIndex","_si","sin","PI","_co","cos","tile","transforms","tileUnitsToPixels","getCellSpan","cells","performance","now","_getProperties","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","parts","hard","getLayoutValue","getPaintValue","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","scaleToZoom","prepareRenderPasses","registerRenderPass","name","HIGHLIGHT","target","getStencilTarget","stencilRef","_width","_height","_free","w","splice","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","_glyphSource","_binPack","Uint8Array","floor","getRange","rect","metrics","page","code","getGlyph","allocate","isEmpty","bitmap","tileIDs","pixelFormat","dataType","setSamplingMode","bindTexture","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","left","top","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","resolve","replace","responseType","addRange","DataView","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","console","Uint32Array","_sprites","loadStatus","startsWith","_rasterizeDash","getSpriteInfo","_allocateImage","_copy","simplePattern","getSpriteItem","repeat","tl","br","wrapMode","buffer","image","_copyBits","match","Number","slice","lastIndexOf","rasterizeDash","_layer","_connection","close","_spriteSourcePromise","loadSpriteSource","setSpriteSource","glyphsUrl","customParameters","token","apiKey","_broadcastPromise","client","schedule","broadcast","vectorTileLayerMaxBuffers","_getRefKeys","sourceNameToSource","_getSourcesData","sourceName2DataAndRefKey","transferList","getAvailableClient","invoke","getSpriteItems","getGlyphItems","font","codePoints","milliseconds","getSourceTileUrl","protobuff","request","sourceName","Array","getRefKey","value","_getTilePayload","byteLength","refKey","priority","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","tileSymbols","selectedForRendering","sort","targetOpacity","startOpacity","startTime","min","fillStyle","fillRect","strokeStyle","strokeRect","COLLISION_XRAY","globalAlpha","PERFORMANCE_RECORDING_STORAGE","perf","time","samples","unit","tileCoordRange","_createUnique","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","_removeSymbols","flat","getCell","_addSymbols","_matchSymbols","symbol","xTransformed","yTransformed","hash"],"mappings":"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","file":"js/chunk-2e290144.24da124f.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import{WGLVVFlag as e,WGLVVTarget as i,WGLGeometryType as s}from\"../enums.js\";import{isMapAligned as a}from\"../mesh/templates/meshUtils.js\";function r(t,s){const a=e.SIZE_FIELD_STOPS|e.SIZE_MINMAX_VALUE|e.SIZE_SCALE_STOPS|e.SIZE_UNIT_VALUE,r=(t&(i.FIELD_TARGETS_OUTLINE|i.MINMAX_TARGETS_OUTLINE|i.SCALE_TARGETS_OUTLINE|i.UNIT_TARGETS_OUTLINE))>>>4;return s.isOutline||s.isOutlinedFill?a&r:a&~r}const n=0,v=8,o=7,l=8,h=11,S=11,u=12,d=13,V=14,c=15,p=15,g=16,z=17,m=18,y=19,E=20,T=21,M=22;function L(t,e){switch(t){case s.FILL:return x.from(e);case s.LINE:return B.from(e);case s.MARKER:return U.from(e);case s.TEXT:return R.from(e);case s.LABEL:return b.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function F(t){switch(_.load(t).geometryType){case s.MARKER:return new U(t);case s.FILL:return new x(t);case s.LINE:return new B(t);case s.TEXT:return new R(t);case s.LABEL:return new b(t)}}class _{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(l,h)}set geometryType(t){this.setBits(t,l,h)}get mapAligned(){return!!this.bit(E)}set mapAligned(t){this.setBit(E,t)}get sdf(){return!!this.bit(S)}set sdf(t){this.setBit(S,t)}get pattern(){return!!this.bit(u)}set pattern(t){this.setBit(u,t)}get textureBinding(){return this.bits(n,v)}set textureBinding(t){this.setBits(t,n,v)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return\"fill\";case s.MARKER:return\"marker\";case s.LINE:return\"line\";case s.TEXT:return\"text\";case s.LABEL:return\"label\";default:throw new t(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,a=0;s<i;s++,a++)this.setBit(s,0!=(t&1<<a))}bits(t,e){let i=0;for(let s=t,a=0;s<e;s++,a++)i|=this.bit(s)<<a;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(o&this.textureBinding)}}_.shared=new _(0);const I=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(g)}set vvSizeMinMaxValue(t){this.setBit(g,t)}get vvSizeScaleStops(){return 0!==this.bit(z)}set vvSizeScaleStops(t){this.setBit(z,t)}get vvSizeFieldStops(){return 0!==this.bit(m)}set vvSizeFieldStops(t){this.setBit(m,t)}get vvSizeUnitValue(){return 0!==this.bit(y)}set vvSizeUnitValue(t){this.setBit(y,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=r(t,i)&t;this.vvSizeMinMaxValue=!!(s&e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&e.SIZE_SCALE_STOPS)}},O=t=>class extends t{get vvRotation(){return 0!==this.bit(c)}set vvRotation(t){this.setBit(c,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i.isOutline&&!!(t&e.ROTATION)}},A=t=>class extends t{get vvColor(){return 0!==this.bit(d)}set vvColor(t){this.setBit(d,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i.isOutline&&!!(t&e.COLOR)}},f=t=>class extends t{get vvOpacity(){return 0!==this.bit(V)}set vvOpacity(t){this.setBit(V,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i.isOutline&&!!(t&e.OPACITY)}};class x extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.FILL,e.dotDensity=\"dot-density\"===t.stride.fill,e.simple=\"simple\"===t.stride.fill,e.outlinedFill=t.isOutlinedFill,e.dotDensity||e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(p)}set dotDensity(t){this.setBit(p,t)}get simple(){return!!this.bit(M)}set simple(t){this.setBit(M,t)}get outlinedFill(){return!!this.bit(T)}set outlinedFill(t){this.setBit(T,t)}}x.shared=new x(0);class U extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class B extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LINE,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0);class R extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.TEXT,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}R.shared=new R(0);class b extends(I(_)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LABEL,e.setVV(t.vvFlags,t),e.mapAligned=a(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);export{x as FillMaterialKey,b as LabelMaterialKey,B as LineMaterialKey,U as MarkerMaterialKey,_ as MaterialKeyBase,R as TextMaterialKey,L as createMaterialKey,r as getSizeFlagsMask,F as hydrateMaterialKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/LRUCache.js\";import{isNone as i,isSome as t}from\"../../../../core/maybe.js\";import s from\"../../tiling/TileCoverage.js\";import l from\"../../tiling/TileKey.js\";const r=512,o=1e-6,n=(e,i)=>e+1/(1<<2*i);class a{constructor(i,t){this._tiles=new Map,this._tileCache=new e(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=i.acquireTile,this.releaseTile=i.releaseTile,this.tileInfoView=i.tileInfoView,this._container=t}destroy(){for(const[e,i]of this._tiles)i.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,\"smallest\"),{spans:r,lodInfo:o}=t,{level:n}=o,a=this._tiles,c=new Set,h=new Set;for(const{row:s,colFrom:_,colTo:f}of r)for(let e=_;e<=f;e++){const i=l.getId(n,s,o.normalizeCol(e),o.getWorldForColumn(e)),t=this._getOrAcquireTile(i);c.add(i),t.processed()?this._addToContainer(t):h.add(new l(i))}for(const[s,l]of a)l.isCoverage=c.has(s);for(const s of h)this._findPlaceholdersForMissingTiles(s,c);let d=!1;for(const[s,l]of a)l.neededForCoverage=c.has(s),l.neededForCoverage||l.isHoldingForFade&&i.intersects(t,l.key)&&c.add(s),l.isFading&&(d=!0);for(const[s,l]of this._tiles)c.has(s)||this._releaseTile(s);return s.pool.release(t),!d}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const[l,r]of this._tiles)this._addPlaceholderChild(t,r,e,i);const s=t.reduce(n,0);Math.abs(1-s)<o||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,s){i.key.level<=t.level||!i.hasData()||h(t,i.key)&&(this._addToContainer(i),s.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){const t=this._tiles;let s=e;for(;;){if(s=c(s),!s||i.has(s))return;const e=t.get(s);if(e&&e.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new l(e))),this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(e){let s;const l=[],r=this._container;if(r.contains(e))return;const o=this._visibleTiles;for(const[t,n]of o)this._canConnectDirectly(e,n)&&l.push(n),i(s)&&this._canConnectDirectly(n,e)&&(s=n);if(t(s)){for(const i of l)s.childrenTiles.delete(i),e.childrenTiles.add(i),i.parentTile=e;s.childrenTiles.add(e),e.parentTile=s}else for(const i of l)e.childrenTiles.add(i),i.parentTile=e;o.set(e.id,e),r.addChild(e)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),t(e.parentTile)){e.parentTile.childrenTiles.delete(e);for(const i of e.childrenTiles)t(e.parentTile)&&e.parentTile.childrenTiles.add(i)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:s,row:l,col:r,world:o}=i.key;const n=this._visibleTiles;for(;s>0;){if(s--,l>>=1,r>>=1,t.level===s&&t.row===l&&t.col===r&&t.world===o)return!0;if(n.has(`${s}/${l}/${r}/${o}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/r)+1,s=Math.ceil(i[1]/r)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function c(e){const[i,t,s,l]=e.split(\"/\"),r=parseInt(i,10);return 0===r?null:`${r-1}/${parseInt(t,10)>>1}/${parseInt(s,10)>>1}/${parseInt(l,10)}`}function h(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}export{a as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";import{isSome as e}from\"../../../../../core/maybe.js\";import{DECLUTTER_BUDGET as i,FADE_DURATION as s}from\"./config.js\";import{VTLUniqueSymbol as o}from\"./core.js\";import{CollisionJob as r}from\"./jobs.js\";import{SymbolDeclutterer as l}from\"./SymbolDeclutterer.js\";import{SymbolRepository as a}from\"./SymbolRepository.js\";import{writeOpacityToBuffers as h}from\"./util.js\";const c=.5,n=1e-6;class _ extends t{constructor(t,e){super(),this.styleRepository=t,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._completed=!1,this._symbolRepository=new a(4096,e,(()=>new o)),this._symbolDeclutterer=new l(e,this._symbolRepository,((t,e,i)=>new r(t,e,i,this.styleRepository,this._zoom,this._viewState.rotation)),((t,e)=>{t.allSymbolsFadingOut=!0,t.lastOpacityUpdate=e,h(t,e,!0),t.decluttered=!0,t.requestRender()}),((t,e)=>this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z-this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z),(t=>{const e=this.styleRepository.getStyleLayerByUID(t);if(this._zoom+n<e.minzoom||this._zoom-n>=e.maxzoom)return!1;const i=e.getLayoutProperty(\"visibility\");return!i||1!==i.getValue()}))}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on(\"symbols-changed\",(()=>{this._symbolRepository.add(t),this.restartDeclutter()}))),this._symbolRepository.add(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.removeTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){return this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]},this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(i),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){e(this._stableNotificationHandle)&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this.emit(\"fade-complete\")}),(1+c)*s)}_notifyUnstable(){e(this._stableNotificationHandle)&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this.emit(\"fade-start\")}}export{_ as SymbolFader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as s}from\"../../../../chunks/mat3f32.js\";import{TiledDisplayObject as r}from\"./TiledDisplayObject.js\";class t extends r{_createTransforms(){return{dvs:s(),tileMat3:s()}}}export{t as RenderableTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as s}from\"../../../../core/maybe.js\";import{createResolver as r}from\"../../../../core/promiseUtils.js\";import{create as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{SymbolFader as o}from\"./decluttering/SymbolFader.js\";import{WGLDrawPhase as l}from\"../webgl/enums.js\";import{RenderableTile as n}from\"../webgl/RenderableTile.js\";import a from\"../webgl/TileContainer.js\";import d from\"../../tiling/TileCoverage.js\";import h from\"../../tiling/TileKey.js\";const c=1e-6;function y(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||1!==s.getValue()&&(void 0===e.minzoom||e.minzoom<t+c)&&(void 0===e.maxzoom||e.maxzoom>=t-c))return!0}return!1}class p extends a{constructor(e){super(e),this._backgroundTiles=[],this._pointToCallbacks=new Map}destroy(){this.removeAllChildren(),this._spriteMosaic&&(this._spriteMosaic.dispose(),this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic.dispose(),this._glyphMosaic=null),e(this._symbolFader)&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[],this._pointToCallbacks.clear()}setStyleResources(e,r,i){if(this._spriteMosaic=e,this._glyphMosaic=r,this._styleRepository=i,t(this._symbolFader)){const e=new o(this._styleRepository,this.children);e.on(\"fade-start\",(()=>{this.emit(\"fade-start\"),this.requestRender()})),e.on(\"fade-complete\",(()=>{this.emit(\"fade-complete\"),this.requestRender()})),this._symbolFader=e}s(this._symbolFader).styleRepository=i}deleteStyleLayers(t){e(this._symbolFader)&&this._symbolFader.deleteStyleLayers(t)}async hitTest(e){const t=r();return this._pointToCallbacks.set(e,t),this.requestRender(),t.promise}enterTileInvalidation(){for(const e of this.children)e.invalidating=!0}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==l.MAP&&e.drawPhase!==l.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(t){return super.addChild(t),e(this._symbolFader)?this._symbolFader.addTile(t):t.decluttered=!0,this.requestRender(),t}removeChild(t){return e(this._symbolFader)&&this._symbolFader.removeTile(t),this.requestRender(),super.removeChild(t)}renderChildren(e){const{drawPhase:t}=e;if(t!==l.DEBUG){if(this._doRender(e),this._pointToCallbacks.size>0){e.drawPhase=l.HITTEST;const s=e.painter.effects.hittest;s.bind(e),this._doRender(e),s.draw(e,this._pointToCallbacks),s.unbind(e),e.drawPhase=t}}else super.renderChildren(e)}removeAllChildren(){for(let t=0;t<this.children.length;t++){const s=this.children[t];e(this._symbolFader)&&this._symbolFader.removeTile(s),s.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){e(this._symbolFader)&&this._symbolFader.restartDeclutter()}_doRender(e){const{context:t}=e,s=this._styleRepository;if(!s)return;const r=s.layers;let i=!0;e.drawPhase===l.HITTEST&&(i=!1),s.backgroundBucketIds.length>0&&(e.renderPass=\"background\",this._renderBackgroundLayers(e,s.backgroundBucketIds)),super.renderChildren(e),e.drawPhase===l.MAP&&this._fade(e.displayLevel,e.state);const o=this.children.filter((e=>e.visible&&e.hasData()));if(!o||0===o.length)return t.bindVAO(),t.setStencilTestEnabled(!0),void t.setBlendingEnabled(!0);for(const l of o)l.triangleCount=0;t.setStencilWriteMask(0),t.setColorMask(!0,!0,!0,!0),t.setStencilOp(7680,7680,7681),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setDepthTestEnabled(!0),t.setDepthWriteEnabled(!0),t.setDepthFunction(515),t.setClearDepth(1),t.clear(t.gl.DEPTH_BUFFER_BIT),e.renderPass=\"opaque\";for(let l=r.length-1;l>=0;l--)this._renderStyleLayer(r[l],e,o);t.setDepthWriteEnabled(!1),t.setBlendingEnabled(i),t.setBlendFunctionSeparate(1,771,1,771),e.renderPass=\"translucent\";for(let l=0;l<r.length;l++)this._renderStyleLayer(r[l],e,o);t.setDepthTestEnabled(!1),e.renderPass=\"symbol\";for(let l=0;l<r.length;l++)this._renderStyleLayer(r[l],e,o);t.bindVAO(),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!0)}_fade(t,s){e(this._symbolFader)&&(this._symbolFader.update(t,s)||this.requestRender())}_renderStyleLayer(e,t,s){const{painter:r,renderPass:i}=t;if(void 0===e)return;const o=e.getLayoutProperty(\"visibility\");if(o&&1===o.getValue())return;let l;switch(e.type){case 0:return;case 1:if(\"opaque\"!==i&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==i)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==i)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==i)return;l=\"vtlSymbol\"}if(s=3===e.type?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),\"vtlSymbol\"!==l){const r=t.displayLevel;if(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+c||void 0!==e.maxzoom&&e.maxzoom<r-c)return}const n=e.uid;t.styleLayerUID=n,t.styleLayer=e;for(const a of s)if(a.layerData.has(n)){r.renderObjects(t,s,l);break}}_renderBackgroundLayers(t,s){const{context:r,displayLevel:o,painter:a,state:c}=t,p=this._styleRepository;let u=!1;for(const e of s){if(0===p.getLayerById(e).type&&y(p.getLayerById(e),o)){u=!0;break}}if(!u)return;const m=this._tileInfoView.getTileCoverage(t.state,0,\"smallest\"),{spans:b,lodInfo:f}=m,{level:_}=f,g=i(),T=[];if(this._renderPasses){const s=this._renderPasses[0];e(this._clippingInfos)&&(s.brushes[0].prepareState(t,this._clippingInfos[0]),s.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let C,F=0;for(const{row:e,colFrom:l,colTo:d}of b)for(let t=l;t<=d;t++){if(F<v.length)C=v[F],C.key.set(_,e,f.normalizeCol(t),f.getWorldForColumn(t)),this._tileInfoView.getTileBounds(g,C.key,!1),C.x=g[0],C.y=g[3];else{const s=new h(_,e,f.normalizeCol(t),f.getWorldForColumn(t)),r=this._tileInfoView.getTileBounds(i(),s);C=new n(s,r[0],r[3],512,512,4096,4096),v.push(C)}C.setTransform(c,this._tileInfoView.getTileResolution(C.key)),T.push(C),F++}r.setStencilWriteMask(0),r.setColorMask(!0,!0,!0,!0),r.setStencilOp(7680,7680,7681),r.setStencilFunction(514,0,255);let k=!0;t.drawPhase===l.HITTEST&&(k=!1),r.setStencilTestEnabled(k);for(const e of s){const s=p.getLayerById(e);0===s.type&&y(s,o)&&(t.styleLayerUID=s.uid,t.styleLayer=s,a.renderObjects(t,T,\"vtlBackground\"))}d.pool.release(m)}}export{p as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Bitmap as t}from\"../../engine/Bitmap.js\";import{BitmapContainer as e}from\"../../engine/BitmapContainer.js\";class i extends e{constructor(e){super(),this.requestRender=this.requestRender.bind(this),this._layerView=e,this._canvas=document.createElement(\"canvas\"),this._context=this._canvas.getContext(\"2d\"),this._bitmap=new t(null,\"standard\",!1),this.addChild(this._bitmap)}doRender(t){const e=t.state,i=this._createCustomRenderParams(t),a=this._canvas,s=this._bitmap,n=window.devicePixelRatio;a.width=e.size[0]*n,a.height=e.size[1]*n,s.resolution=e.resolution;const o=e.clone();o.pixelRatio=n,s.pixelRatio=n,i.state=o,s.x=e.viewpoint.targetGeometry.x-Math.abs(e.extent.xmax-e.extent.xmin)/2,s.y=e.viewpoint.targetGeometry.y+Math.abs(e.extent.ymax-e.extent.ymin)/2,this._layerView.render(i),s.source=a,s.rotation=e.rotation,super.doRender({...t,state:o})}_createCustomRenderParams(t){return{globalOpacity:t.globalOpacity,state:t.state,stationary:t.stationary,pixelRatio:window.devicePixelRatio,context:this._context}}}export{i as Display,i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileInfoView.js\";import s from\"./TileKey.js\";class t extends l{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const l=s.pool.acquire(e),t=0===l.level?null:s.getId(l.level-1,l.row>>1,l.col>>1,l.world);return s.pool.release(l),t}getTileCoverage(e,l,s){const t=super.getTileCoverage(e,l,s);if(!t)return t;const o=1<<t.lodInfo.level;return t.spans=t.spans.filter((e=>e.row>=0&&e.row<o)),t}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Error.js\";import{clone as s}from\"../../../core/lang.js\";import r from\"../../../core/Logger.js\";import{isNone as a}from\"../../../core/maybe.js\";import{isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as o}from\"../../../core/watchUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as u,hasDiff as c}from\"../../../core/accessorSupport/diffUtils.js\";import{create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{TileHandler as d}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as p}from\"../engine/vectorTiles/TileManager.js\";import{VectorTile as _}from\"../engine/vectorTiles/VectorTile.js\";import{VectorTileContainer as f}from\"../engine/vectorTiles/VectorTileContainer.js\";import{drawColliders as g}from\"../engine/vectorTiles/decluttering/debugging.js\";import m from\"../engine/vectorTiles/style/StyleRepository.js\";import{LayerView2DMixin as T}from\"./LayerView2D.js\";import{Display as C}from\"./support/Display.js\";import v from\"../tiling/TileInfoViewPOT.js\";import w from\"../tiling/TileQueue.js\";import Q from\"../../layers/LayerView.js\";const H=r.getLogger(\"esri.views.2d.layers.VectorTileLayerView2D\");let R=class extends(T(Q)){constructor(){super(...arguments),this._styleChanges=[],this._fetchQueue=null,this._parseQueue=null,this._isTileHandlerReady=!1,this.fading=!1}initialize(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference).equals(this.view.spatialReference))return void this.addResolvingPromise(Promise.reject(new i(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer})));const{style:t}=this.layer.currentStyleInfo;this._styleRepository=new m(t),this._tileInfoView=new v(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new f(this._tileInfoView),this._tileHandler=new d(this.layer,this._styleRepository,window.devicePixelRatio||1),this.container.addChild(this._vectorTileContainer),this.handles.add([this._vectorTileContainer.on(\"fade-start\",(()=>{this.fading=!0,this.notifyChange(\"updating\"),this.requestUpdate()})),this._vectorTileContainer.on(\"fade-complete\",(()=>{this._collisionBoxesDisplay&&this._collisionBoxesDisplay.requestRender(),this.fading=!1,this.notifyChange(\"updating\"),this.requestUpdate()})),o(this.layer,\"symbolCollisionBoxesVisible\",(e=>{e?(this._collisionBoxesDisplay=new C({render:e=>this._renderCollisionBoxes(e.context)}),this.container.addChild(this._collisionBoxesDisplay)):(this.container.removeChild(this._collisionBoxesDisplay),this._collisionBoxesDisplay=null)}))])}destroy(){var e;this._stop(),this.container.removeAllChildren(),this._vectorTileContainer&&(this._vectorTileContainer.destroy(),this._vectorTileContainer=null),null==(e=this._tileHandler)||e.destroy(),this._tileHandler=null}async hitTest(e,i){if(!this._tileHandlerPromise)return null;await this._tileHandlerPromise;const s=await this._vectorTileContainer.hitTest(i);if(!s||0===s.length)return null;const r=s[0]-1,a=this._styleRepository,l=a.getStyleLayerByUID(r);if(!l)return null;const o=a.getStyleLayerIndex(l.id),n=new t({attributes:{layerId:o,layerName:l.id,layerUID:r}});return n.layer=this.layer,n.sourceLayer=this.layer,[n]}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._start(),void(this._tileHandler.devicePixelRatio=e.pixelRatio)):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._parseQueue.resume(),this._fetchQueue.resume()))}attach(){this._start(),this.handles.add([this.layer.on(\"paint-change\",(e=>{if(e.isDataDriven)this._styleChanges.push({type:0,data:e}),this.notifyChange(\"updating\"),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=3===i.type;t.setPaintProperties(e.layer,e.paint),s&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender()}})),this.layer.on(\"layout-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=u(i.layout,e.layout);if(!a(s)){if(c(s,\"visibility\")&&1===b(s))return t.setLayoutProperties(e.layer,e.layout),3===i.type&&this._vectorTileContainer.restartDeclutter(),void this._vectorTileContainer.requestRender();this._styleChanges.push({type:1,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()}})),this.layer.on(\"style-layer-visibility-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(t.setStyleLayerVisibility(e.layer,e.visibility),3===i.type&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender())})),this.layer.on(\"style-layer-change\",(e=>{this._styleChanges.push({type:2,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"delete-style-layer\",(e=>{this._styleChanges.push({type:3,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"load-style\",(()=>this._loadStyle()))],this.declaredClass)}detach(){this._stop(),this.handles.remove(this.declaredClass)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this._collisionBoxesDisplay&&this._vectorTileContainer.restartDeclutter(),this.requestUpdate()}canResume(){let e=super.canResume();const t=this.layer;if(e&&t.currentStyleInfo){const i=this.view.scale,s=t.currentStyleInfo;if(s&&s.layerDefinition){const t=s.layerDefinition;t.minScale&&t.minScale<i&&(e=!1),t.maxScale&&t.maxScale>i&&(e=!1)}}return e}isUpdating(){const e=this._vectorTileContainer.children;return!this._isTileHandlerReady||!this._fetchQueue||!this._parseQueue||this._fetchQueue.updating||this._parseQueue.updating||e.length>0&&e.filter((e=>e.invalidating)).length>0||this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._tileHandlerPromise.then((()=>{this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once(\"attach\",(()=>this.requestUpdate())),t.setData(e),this.requestUpdate(),this.notifyChange(\"updating\")})).catch((e=>{this.notifyChange(\"updating\"),l(e)||H.error(e)}))})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new p({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new w({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15}),this._parseQueue=new w({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue&&(this._fetchQueue.destroy(),this._fetchQueue=null),this._parseQueue&&(this._parseQueue.destroy(),this._parseQueue=null),this._tileManager&&(this._tileManager.destroy(),this._tileManager=null),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){const i=await this._tileHandler.fetchTileData(e,t);return this.notifyChange(\"updating\"),i}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(l){H.error(\"error applying vector-tiles style update\",l.message),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0}const t=this._styleRepository,i=[];e.forEach((e=>{if(3!==e.type)return;const s=e.data,r=t.getLayerById(s.layer);r&&i.push(r.uid)}));const s=[];let r;e.forEach((e=>{const i=e.type,a=e.data;switch(i){case 0:t.setPaintProperties(a.layer,a.paint),r=a.layer;break;case 1:t.setLayoutProperties(a.layer,a.layout),r=a.layer;break;case 3:return void t.deleteStyleLayer(a.layer);case 2:t.setStyleLayer(a.layer,a.index),r=a.layer.id}const l=t.getLayerById(r);l&&s.push(l.uid)}));const a=this._vectorTileContainer.children;if(i.length>0){this._vectorTileContainer.deleteStyleLayers(i);for(const e of a)e.deleteLayerData(i)}if(this._fetchQueue.resume(),this._parseQueue.resume(),s.length>0){const e=[];for(const t of a){const i=this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e,styleLayerUIDs:s}))).then((e=>t.setData(e)));e.push(i)}await Promise.all(e)}this._styleChanges=[],this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}async _loadStyle(){const{style:e}=this.layer.currentStyleInfo,t=s(e);this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this.notifyChange(\"updating\"),this._styleRepository=new m(t),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=new AbortController;const{signal:i}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,t),await this._tileHandlerPromise}catch(a){if(!l(a))throw a}if(i.aborted)return this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),void this.requestUpdate();const r=await this._tileHandler.spriteMosaic;this._vectorTileContainer.setStyleResources(r,this._tileHandler.glyphMosaic,this._styleRepository),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(y(),e);return new _(e,t[0],t[3],512,512,this._styleRepository)}_renderCollisionBoxes(e){for(const t of this._vectorTileContainer.children)if(t.symbols){const i=[];for(const[e,s]of t.symbols)i.push(...s);g(e,i)}}};function b(e){if(a(e))return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}e([n()],R.prototype,\"_fetchQueue\",void 0),e([n()],R.prototype,\"_parseQueue\",void 0),e([n()],R.prototype,\"_isTileHandlerReady\",void 0),e([n()],R.prototype,\"fading\",void 0),R=e([h(\"esri.views.2d.layers.VectorTileLayerView2D\")],R);const j=R;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const y of e.colliders){const[e,o]=0===y.partIndex?a:h,x=0===y.partIndex?c:u,g=y.minLod<=s&&s<=y.maxLod;d+=g?0:1,y.enabled=g,y.xScreen=y.xTile*r[0]+y.yTile*r[3]+r[6],y.yScreen=y.xTile*r[1]+y.yTile*r[4]+r[7],0===x?(y.xScreen+=n*e-t*o,y.yScreen+=t*e+n*o):(y.xScreen+=e,y.yScreen+=o),1===(0===y.partIndex?i:l)?(y.dxScreen=y.dxPixels,y.dyScreen=y.dyPixels):(y.dxScreen=n*(y.dxPixels+y.width/2)-t*(y.dyPixels+y.height/2)-y.width/2,y.dyScreen=t*(y.dxPixels+y.width/2)+n*(y.dyPixels+y.height/2)-y.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let h=l;h<=c;h++)for(let e=i;e<=a;e++){const i=t.cells[h][e];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let l=i;l<=h;l++)for(let t=s;t<=a;t++){this._gridIndex.cells[l][t].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import i from\"../webgl/Rect.js\";class s{constructor(t,i,s){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=i,this._glyphSource=s,this._binPack=new e(t-4,i-4),this._glyphData.push(new Uint8Array(t*i)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(t,s){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const e of s){const t=Math.floor(e*o);n.add(t)}const a=[];return n.forEach((e=>{if(e<=256){const i=t+e;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=r.getRange(t,e).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),Promise.all(a).then((()=>{let n=this._glyphIndex[t];n||(n={},this._glyphIndex[t]=n);for(const o of s){const s=n[o];if(s){h[o]={sdf:!0,rect:s.rect,metrics:s.metrics,page:s.page,code:o};continue}const a=r.getGlyph(t,o);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new i(0,0,0,0);else{const t=3,i=c.width+2*t,s=c.height+2*t;let h=i%4?4-i%4:4,r=s%4?4-s%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(i+h,s+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new e(this.width-4,this.height-4),l=this._binPack.allocate(i+h,s+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,p;if(o)for(let e=0;e<s;e++){g=i*e,p=this.width*(l.y+e+1)+l.x;for(let t=0;t<i;t++)n[p+t+1]=o[g+t]}}n[o]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(e,i,s,h=0){this._textures[s]||(this._textures[s]=new t(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),e.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../request.js\";import e from\"../../../../core/pbf.js\";class s{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class a{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255,g=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return t(g,{responseType:\"array-buffer\"}).then((t=>{n.addRange(r,new s(new e(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{n.addRange(r,new s)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{SymbolHelper as t}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import i from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import s from\"../webgl/Rect.js\";const h=\"dasharray-\";class r{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}getPageSize(t){return t>=this._size.length?null:this._size[t]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e,s,r=this._mosaicRects[t];if(r)return r;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;if(t&&t.startsWith(h)?([e,s]=this._rasterizeDash(t),i=!0):e=this._sprites.getSpriteInfo(t),!e||!e.width||!e.height||e.width<0||e.height<0)return null;const a=e.width,o=e.height,[n,_,g]=this._allocateImage(a,o);return n.width<=0?null:(this._copy(n,e,_,g,i,s),r={rect:n,width:a,height:o,sdf:e.sdf,simplePattern:!1,pixelRatio:e.pixelRatio,page:_},this._mosaicRects[t]=r,r)}getSpriteItems(t){const i={};for(const e of t)i[e.name]=this.getSpriteItem(e.name,e.repeat);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,r=e.height,a=2;return{tl:[s.x+a,s.y+a],br:[s.x+a+h,s.y+a+r],page:e.page}}bind(t,e,s=0,h=0){this._textures[s]||(this._textures[s]=new i(t,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const r=this._textures[s];r.setSamplingMode(e),this._dirties[s]&&r.setData(new Uint8Array(this._mosaicsData[s].buffer)),t.bindTexture(r,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,r,a,o,n,_,g){let c=s*i+e,p=o*r+a;if(g){p-=r;for(let a=-1;a<=_;a++,c=((a+_)%_+s)*i+e,p+=r)for(let i=-1;i<=n;i++)h[p+i]=t[c+(i+n)%n]}else for(let l=0;l<_;l++){for(let i=0;i<n;i++)h[p+i]=t[c+i];c+=i,p+=r}}_copy(t,i,e,s,h,a){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(a?a.buffer:this._sprites.image.buffer),n=this._mosaicsData[e];n&&o||console.error(\"Source or target images are uninitialized!\");const _=2,g=a?i.width:this._sprites.width;r._copyBits(o,g,i.x,i.y,n,s[0],t.x+_,t.y+_,i.width,i.height,h),this._dirties[e]=!0}_allocateImage(t,i){t+=2,i+=2;const h=Math.max(t,i);if(this._maxItemSize&&this._maxItemSize<h){const e=new s(0,0,t,i);return this._mosaicsData.push(new Uint32Array(t*i)),this._dirties.push(!0),this._size.push([t,i]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,i]]}let r=t%4?4-t%4:4,a=i%4?4-i%4:4;1===r&&(r=5),1===a&&(a=5);const o=this._binPack.allocate(t+r,i+a);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,i)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}_rasterizeDash(i){const e=/\\[(.*?)\\]/,s=i.match(e);if(!s)return null;const h=s[1].split(\",\").map(Number),r=i.slice(i.lastIndexOf(\"-\")+1),[a,o,n]=t.rasterizeDash(h,r);return[{x:0,y:0,width:o,height:n,sdf:!0,pixelRatio:1},new Uint8Array(a.buffer)]}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/has.js\";import{isAbortError as s,eachAlways as r}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as i}from\"../../../../core/urlUtils.js\";import{open as o}from\"../../../../core/workers/workers.js\";import a from\"./GlyphMosaic.js\";import l from\"./GlyphSource.js\";import n from\"./SpriteMosaic.js\";import{perfAdd as c}from\"./decluttering/debugging.js\";import h from\"../../tiling/TileKey.js\";class u{constructor(e,t,s){this._layer=e,this._styleRepository=t,this.devicePixelRatio=s,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null}destroy(){this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._layer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(e){this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,e),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new n(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const s=new l(this._layer.currentStyleInfo.glyphsUrl?i(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);this._glyphMosaic=new a(1024,1024,s),this._broadcastPromise=o(\"WorkerTileHandler\",{client:this,schedule:e.schedule,signal:e.signal}).then((s=>(this._connection=s,Promise.all(this._connection.broadcast(\"setStyle\",{style:this._layer.currentStyleInfo.style,vectorTileLayerMaxBuffers:t(\"vectortilelayer-max-buffers\")},e)))))}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=Promise.all(this._connection.broadcast(\"updateStyle\",e)),this._broadcastPromise}async setStyle(e,s){await this._broadcastPromise,this._styleRepository=e,this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new n(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const r=new l(this._layer.currentStyleInfo.glyphsUrl?i(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);return this._glyphMosaic=new a(1024,1024,r),this._broadcastPromise=Promise.all(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:t(\"vectortilelayer-max-buffers\")})),this._broadcastPromise}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._layer.sourceNameToSource,r=[];for(const t in s)r.push(t);return this._getSourcesData(r,e,t)}))}parseTileData(e,t){const s=e&&e.data;if(!s)return Promise.resolve(null);const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((s=>s.invoke(\"createTileAndParse\",{key:e.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:e.styleLayerUIDs},{...t,transferList:i})))))}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){c(e,t,\"ms\")}async _getTilePayload(e,t,r){const i=h.pool.acquire(e.id),o=this._layer.sourceNameToSource[t].getSourceTileUrl(i.level,i.row,i.col);h.pool.release(i);try{return{protobuff:await this.request(o,r),sourceName:t}}catch(a){if(s(a))throw a;return{protobuff:null,sourceName:t}}}request(t,s){return e(t,{responseType:\"array-buffer\",...s}).then((({data:e})=>e))}_getRefKeys(e,t){const s=this._layer.sourceNameToSource,i=new Array;for(const r in s){const o=s[r].getRefKey(e,t);i.push(o)}return r(i)}_getSourcesData(e,t,s){const i=[];for(let r=0;r<t.length;r++)if(null==t[r].value||null==e[r])i.push(null);else{const o=this._getTilePayload(t[r].value,e[r],s);i.push(o)}return r(i).then((e=>{const s={},r=[];for(let i=0;i<e.length;i++)if(e[i].value&&e[i].value&&e[i].value.protobuff&&e[i].value.protobuff.byteLength>0){const o=t[i].value.id;s[e[i].value.sourceName]={refKey:o,protobuff:e[i].value.protobuff},r.push(e[i].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:r}}))}}export{u as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"above-along\":case\"below-along\":case\"center-along\":case\"esriServerLinePlacementAboveAlong\":case\"esriServerLinePlacementBelowAlong\":case\"esriServerLinePlacementCenterAlong\":return!0;default:return!1}}export{e as isMapAligned};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/maybe.js\";import{FADE_DURATION as e}from\"./config.js\";function t(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class i{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols;for(let t=0;t<o.length;t++){const e=o[t];for(let o=0;o<e.uniqueSymbols.length;o++){const t=e.uniqueSymbols[o];for(const o of t.tileSymbols)o.selectedForRendering=!1}}const e=[];let i=0,s=0;const r=this._isLayerVisible;function n(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const t=o[s],h=t.styleLayerUID;if(!r(h)){e[s]||(e[s]={styleLayerUID:h,symbols:[]});continue}e[s]=e[s]||{styleLayerUID:h,symbols:[]};const a=e[s];for(;i<t.uniqueSymbols.length;i++){if(l=t.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,e=!1,s=!1;for(const t of l.tileSymbols)if(!s||!e){const i=t.tile;(!o||i.isCoverage||i.neededForCoverage&&!e)&&(o=t,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(e=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of e)o.symbols.sort(t);return!0}const l=this._symbolLayerSorter;return{work:n,get sortedSymbols(){return e.sort(l)}}}_createOpacityJob(){const e=this._assignTileSymbolsOpacity,t=this._visibleTiles;let i=0;function r(o,t){const i=o.symbols;for(const[e,r]of i)s(r,t);e(o,t);for(const e of o.childrenTiles)r(e,t)}return{work(e){const s=performance.now();for(;i<t.length;i++){if(performance.now()-s>e)return!1;const n=t[i];if(o(n.parentTile))continue;r(n,performance.now())}return!0}}}}function s(o,t){for(const i of o){const o=i.unique;for(const i of o.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/e),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=o.show&&i.show?1:0}}}export{i as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf,l=50;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (${l} bins)</td></tr>`;const i=[];for(const r in o)i.push({name:r,value:o[r].time/o[r].samples.length,sortkey:o[r].max});i.sort(((t,e)=>-(t.sortkey-e.sortkey)));const s=i.map((t=>t.name));for(const m of s)n+=\"<tr>\",n+=`<td>${m}</td>`,n+=`<td>${r(o[m].time,o[m].unit)}</td>`,n+=`<td>${o[m].samples.length}</td>`,n+=`<td>${r(o[m].time/o[m].samples.length,o[m].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[m].min,o[m].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[m].max,o[m].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const d=e.querySelectorAll(\"td[data-distribution='1']\"),a=e.querySelectorAll(\"td[data-histogram='1']\");for(let r=0;r<d.length;r++){let e=d[r];{const n=document.createElement(\"canvas\");n.height=10,n.width=100;const l=n.getContext(\"2d\");if(l.strokeStyle=t,l.beginPath(),l.moveTo(0,5),l.lineTo(100,5),o[s[r]].max>o[s[r]].min+.001)for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);l.moveTo(100*e,3),l.lineTo(100*e,7)}l.stroke(),l.strokeRect((i[r].value-o[s[r]].min)/(o[s[r]].max-o[s[r]].min)*100-2,0,4,9),e.appendChild(n)}e=a[r];{const n=new Array(l);for(let t=0;t<n.length;t++)n[t]=0;for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);n[1===e?n.length-1:Math.floor(e*n.length)]++}const i=document.createElement(\"canvas\");i.height=30,i.width=120;const d=i.getContext(\"2d\");d.strokeStyle=t,d.fillStyle=t;let a=0;for(let t=0;t<n.length;t++){const e=n[t];a=Math.max(a,e)}for(let t=0;t<n.length;t++){const e=n[t];d.fillRect(t*i.width/n.length,i.height*(1-e/a),i.width/n.length,i.height*(e/a))}d.beginPath(),d.moveTo(0,i.height),d.lineTo(i.width,i.height),d.stroke(),e.appendChild(i)}}const c=e.querySelectorAll(\"td\");for(let r=0;r<c.length;r++)c[r].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";const l=32,i=8,n=64;class r{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const r=new Map;if(s)for(const o of s)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));else for(const[o,l]of e.layerData)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));this._removeSymbols(r);const y=e.symbols,a=new Map;for(const[f,c]of y){let e=c.length;if(e>=l){let s=this.tileCoordRange;do{s/=2,e/=4}while(e>i&&s>n);const l=new o(this.tileCoordRange,this.tileCoordRange,s);a.set(f,{flat:c,index:l}),t.symbols.set(f,{flat:c,index:l});for(const e of c)l.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),t.symbols.set(f,{flat:c})}this._addSymbols(e.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[l,i]of o)for(const s of i)if(e(s.unique)){const e=this._createUnique();s.unique=e,e.tileSymbols.push(s);let o=this._uniqueSymbolsReferences.get(l);o||(o=new Set,this._uniqueSymbolsReferences.set(l,o)),o.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,c=r.hash;for(const e of t)if(c===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{r as SymbolRepository};\n"],"sourceRoot":""}