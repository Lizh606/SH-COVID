{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SchemaHelper.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/sources/shaderRepository.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/sources/resolver.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/Programs.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/VTLMaterialManager.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/color.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/SymbolProperties.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobsUtil.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler3D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VTLPainter3D.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/VectorTileLayerView3D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/webgl/number.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js"],"names":["r","t","s","a","SIZE_FIELD_STOPS","SIZE_MINMAX_VALUE","SIZE_SCALE_STOPS","SIZE_UNIT_VALUE","FIELD_TARGETS_OUTLINE","MINMAX_TARGETS_OUTLINE","SCALE_TARGETS_OUTLINE","UNIT_TARGETS_OUTLINE","isOutline","isOutlinedFill","n","v","o","l","h","S","u","d","V","c","p","g","z","m","y","E","T","M","L","e","FILL","x","from","LINE","B","MARKER","U","TEXT","R","LABEL","b","Error","F","_","load","geometryType","this","_data","shared","data","bits","setBits","bit","setBit","i","mapAligned","pattern","sdf","textureBinding","I","super","hasVV","vvSizeMinMaxValue","vvSizeScaleStops","vvSizeFieldStops","vvSizeUnitValue","setVV","O","vvRotation","ROTATION","A","vvColor","COLOR","f","vvOpacity","OPACITY","dotDensity","stride","fill","simple","outlinedFill","vvFlags","getVariation","placement","lockedSchemaPixelSize","isGCS","size","spatialReference","isGeographic","lods","length","resolution","push","level","scale","dpi","format","compressionQuality","origin","background","circle","icon","line","outline","text","util","split","forEach","resolveIncludes","ID","id","PATTERN","shaders","vertexShader","fragmentShader","SDF","_programByKey","Map","dispose","clear","key","_getMaterialOptionsValue","type","has","get","_getProgramTemplate","getShaderHeader","getShaderMain","replace","getAttributeLocations","set","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","textTranslateAnchor","colliders","partIndex","minLod","maxLod","enabled","xScreen","xTile","yTile","yScreen","dxScreen","dxPixels","dyScreen","dyPixels","width","height","unique","show","_symbols","_styleRepository","_zoom","_currentLayerCursor","_currentSymbolCursor","_styleProps","_allNeededMatrices","_gridIndex","_si","Math","sin","PI","_co","cos","symbols","tile","transforms","tileUnitsToPixels","getCellSpan","cells","performance","now","_getProperties","styleLayerUID","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","parts","hard","getStyleLayerByUID","getLayoutValue","getPaintValue","_width","_height","_free","w","splice","release","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","_glyphSource","_binPack","Uint8Array","Set","floor","add","getRange","then","delete","Promise","all","rect","metrics","page","code","getGlyph","allocate","isEmpty","bitmap","tileIDs","pixelFormat","dataType","setSamplingMode","setData","bindTexture","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","left","top","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","resolve","responseType","addRange","DataView","catch","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","pixelRatio","console","error","devicePixelRatio","Uint32Array","_sprites","loadStatus","startsWith","_rasterizeDash","getSpriteInfo","_allocateImage","_copy","simplePattern","name","getSpriteItem","repeat","tl","br","wrapMode","buffer","image","_copyBits","max","match","map","Number","slice","lastIndexOf","rasterizeDash","_layer","_spriteMosaic","_glyphMosaic","_connection","close","_spriteSourcePromise","loadSpriteSource","setSpriteSource","currentStyleInfo","glyphsUrl","customParameters","token","apiKey","_broadcastPromise","client","schedule","signal","broadcast","style","vectorTileLayerMaxBuffers","_getRefKeys","sourceNameToSource","_getSourcesData","sourceName2DataAndRefKey","transferList","Object","keys","getAvailableClient","invoke","styleLayerUIDs","getSpriteItems","getGlyphItems","font","codePoints","milliseconds","pool","acquire","getSourceTileUrl","row","col","protobuff","request","sourceName","Array","getRefKey","value","_getTilePayload","byteLength","refKey","isArray","priority","world","_visibleTiles","_symbolRepository","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","restart","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","tileSymbols","selectedForRendering","isCoverage","neededForCoverage","sort","childrenTiles","parentTile","targetOpacity","startOpacity","startTime","min","fillStyle","fillRect","strokeStyle","strokeRect","window","COLLISION_XRAY","globalAlpha","PERFORMANCE_RECORDING_STORAGE","perf","start","time","samples","unit","SUCCEEDED","FAILED_OUT_OF_MEMORY","NONE","MAP","LABEL_ALPHA","HITTEST","HIGHLIGHT","CLIP","DEBUG","NUM_DRAW_PHASES","SIZE","SPRITE","GLYPH","color","haloColor","haloSize","angle","offsetX","offsetY","hAnchor","vAnchor","getLogger","strideInBytes","divisor","C","D","j","$","P","k","q","X","vertexCount","vertexFrom","indexCount","indexFrom","Z","buffers","G","H","Q","Uint16Array","Float32Array","W","normalized","offset","count","ee","location","te","re","ne","strides","bufferLayouts","attributes","ie","oe","ge","path","se","url","imageData","ae","contentType","ce","includes","ue","le","toLowerCase","indexOf","fe","cim","dashTemplate","de","me","pe","maxVVSize","ye","charCodeAt","trim","test","styleRepository","getLayoutProperty","getValue","setScreenSize","continue","_memCache","_loader","_ongoingTileRequests","_ongoingRequestToController","abort","retain","_getVectorTileData","tileInfo","getTileBounds","put","memoryUsage","referenced","AbortController","_getParsedVectorTileData","fetchTileData","parseTileData","spriteMosaic","glyphMosaic","_brushCache","_vtlMaterialManager","context","layers","backgroundBucketIds","renderPass","_renderStyleLayer","getLayerById","setBlendingEnabled","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setBlendFunctionSeparate","bindVAO","layerData","uid","displayLevel","minzoom","maxzoom","styleLayer","drawWithBrush","drawMany","arguments","layer","fullExtent","addResolvingPromise","reject","force512VTL","compatibleTileInfo256","_getTileInfoSupportError","basemapTerrain","view","tilingScheme","pixelSize","schemaHelper","compatibleTileInfo512","_getTileInfoCompatibilityError","_set","_tileHandlerController","resourceController","memoryController","newCache","mapTileRequester","_tileHandler","painter","updatingHandles","addPromise","emit","destroy","levelRangeFromScaleRange","minLevel","getVectorTile","aliasOf","prototype","tileCoordRange","_createUnique","_tiles","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","_removeSymbols","flat","index","getCell","_addSymbols","equals","_matchSymbols","symbol","xTransformed","yTransformed","hash","abs"],"mappings":"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","file":"js/chunk-7458a43c.659e56ff.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import{WGLVVFlag as e,WGLVVTarget as i,WGLGeometryType as s}from\"../enums.js\";import{isMapAligned as a}from\"../mesh/templates/meshUtils.js\";function r(t,s){const a=e.SIZE_FIELD_STOPS|e.SIZE_MINMAX_VALUE|e.SIZE_SCALE_STOPS|e.SIZE_UNIT_VALUE,r=(t&(i.FIELD_TARGETS_OUTLINE|i.MINMAX_TARGETS_OUTLINE|i.SCALE_TARGETS_OUTLINE|i.UNIT_TARGETS_OUTLINE))>>>4;return s.isOutline||s.isOutlinedFill?a&r:a&~r}const n=0,v=8,o=7,l=8,h=11,S=11,u=12,d=13,V=14,c=15,p=15,g=16,z=17,m=18,y=19,E=20,T=21,M=22;function L(t,e){switch(t){case s.FILL:return x.from(e);case s.LINE:return B.from(e);case s.MARKER:return U.from(e);case s.TEXT:return R.from(e);case s.LABEL:return b.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function F(t){switch(_.load(t).geometryType){case s.MARKER:return new U(t);case s.FILL:return new x(t);case s.LINE:return new B(t);case s.TEXT:return new R(t);case s.LABEL:return new b(t)}}class _{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(l,h)}set geometryType(t){this.setBits(t,l,h)}get mapAligned(){return!!this.bit(E)}set mapAligned(t){this.setBit(E,t)}get sdf(){return!!this.bit(S)}set sdf(t){this.setBit(S,t)}get pattern(){return!!this.bit(u)}set pattern(t){this.setBit(u,t)}get textureBinding(){return this.bits(n,v)}set textureBinding(t){this.setBits(t,n,v)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return\"fill\";case s.MARKER:return\"marker\";case s.LINE:return\"line\";case s.TEXT:return\"text\";case s.LABEL:return\"label\";default:throw new t(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,a=0;s<i;s++,a++)this.setBit(s,0!=(t&1<<a))}bits(t,e){let i=0;for(let s=t,a=0;s<e;s++,a++)i|=this.bit(s)<<a;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(o&this.textureBinding)}}_.shared=new _(0);const I=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(g)}set vvSizeMinMaxValue(t){this.setBit(g,t)}get vvSizeScaleStops(){return 0!==this.bit(z)}set vvSizeScaleStops(t){this.setBit(z,t)}get vvSizeFieldStops(){return 0!==this.bit(m)}set vvSizeFieldStops(t){this.setBit(m,t)}get vvSizeUnitValue(){return 0!==this.bit(y)}set vvSizeUnitValue(t){this.setBit(y,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=r(t,i)&t;this.vvSizeMinMaxValue=!!(s&e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&e.SIZE_SCALE_STOPS)}},O=t=>class extends t{get vvRotation(){return 0!==this.bit(c)}set vvRotation(t){this.setBit(c,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i.isOutline&&!!(t&e.ROTATION)}},A=t=>class extends t{get vvColor(){return 0!==this.bit(d)}set vvColor(t){this.setBit(d,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i.isOutline&&!!(t&e.COLOR)}},f=t=>class extends t{get vvOpacity(){return 0!==this.bit(V)}set vvOpacity(t){this.setBit(V,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i.isOutline&&!!(t&e.OPACITY)}};class x extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.FILL,e.dotDensity=\"dot-density\"===t.stride.fill,e.simple=\"simple\"===t.stride.fill,e.outlinedFill=t.isOutlinedFill,e.dotDensity||e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(p)}set dotDensity(t){this.setBit(p,t)}get simple(){return!!this.bit(M)}set simple(t){this.setBit(M,t)}get outlinedFill(){return!!this.bit(T)}set outlinedFill(t){this.setBit(T,t)}}x.shared=new x(0);class U extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class B extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LINE,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0);class R extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.TEXT,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}R.shared=new R(0);class b extends(I(_)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LABEL,e.setVV(t.vvFlags,t),e.mapAligned=a(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);export{x as FillMaterialKey,b as LabelMaterialKey,B as LineMaterialKey,U as MarkerMaterialKey,_ as MaterialKeyBase,R as TextMaterialKey,L as createMaterialKey,r as getSizeFlagsMask,F as hydrateMaterialKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/LOD.js\";import i from\"../../../../layers/support/TileInfo.js\";class s{constructor(e,i){this.lockedSchemaPixelSize=e,this.isGCS=i}getLevelRowColumn(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}adjustLevel(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}getShift(e,i){let s=0,t=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(s=i),e[1]%2&&(t=i)),[s,t]}getScale(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}static create256x256CompatibleTileInfo(s){if(!s)return null;if(256===s.size[0]&&256===s.size[1])return s;const t=256,l=s.spatialReference.isGeographic,r=[],o=s.lods.length;for(let i=0;i<o;i++){const t=s.lods[i],o=l?t.resolution:2*t.resolution;r.push(new e({level:t.level,scale:t.scale,resolution:o}))}return new i({size:[t,t],dpi:s.dpi,format:s.format,compressionQuality:s.compressionQuality,origin:s.origin,spatialReference:s.spatialReference,lods:r})}static create512x512CompatibleTileInfo(s){if(!s)return null;if(256===s.size[0]||256===s.size[1])return null;const t=512,l=[],r=s.lods.length;for(let i=0;i<r;i++){const t=s.lods[i],r=.5*t.resolution;l.push(new e({level:t.level,scale:t.scale,resolution:r}))}return new i({size:[t,t],dpi:s.dpi,format:s.format,compressionQuality:s.compressionQuality,origin:s.origin,spatialReference:s.spatialReference,lods:l})}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst e={background:{\"background.frag\":\"#ifdef PATTERN\\nuniform lowp float u_opacity;\\nuniform lowp sampler2D u_texture;\\nvarying mediump vec4 v_tlbr;\\nvarying mediump vec2 v_tileTextureCoord;\\n#else\\nuniform lowp vec4 u_color;\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main() {\\n#ifdef PATTERN\\nmediump vec2 normalizedTextureCoord = mod(v_tileTextureCoord, 1.0);\\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\\nlowp vec4 color = texture2D(u_texture, samplePos);\\ngl_FragColor = u_opacity * color;\\n#else\\ngl_FragColor = u_color;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"background.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform mediump float u_coord_range;\\nuniform mediump float u_depth;\\n#ifdef PATTERN\\nuniform mediump mat3 u_pattern_matrix;\\nvarying mediump vec2 v_tileTextureCoord;\\nuniform mediump vec4 u_tlbr;\\nuniform mediump vec2 u_mosaicSize;\\nvarying mediump vec4 v_tlbr;\\n#endif\\nvoid main() {\\ngl_Position = vec4((u_dvsMat3 * vec3(u_coord_range * a_pos, 1.0)).xy, u_depth, 1.0);\\n#ifdef PATTERN\\nv_tileTextureCoord = (u_pattern_matrix * vec3(a_pos, 1.0)).xy;\\nv_tlbr             = u_tlbr / u_mosaicSize.xyxy;\\n#endif\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\n}\"},circle:{\"circle.frag\":\"precision lowp float;\\nvarying lowp vec4 v_color;\\nvarying lowp vec4 v_stroke_color;\\nvarying mediump float v_blur;\\nvarying mediump float v_stroke_width;\\nvarying mediump float v_radius;\\nvarying mediump vec2 v_offset;\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nmediump float dist = length(v_offset);\\nmediump float alpha = smoothstep(0.0, -v_blur, dist - 1.0);\\nlowp float color_mix_ratio = v_stroke_width < 0.01 ? 0.0 : smoothstep(-v_blur, 0.0, dist - v_radius / (v_radius + v_stroke_width));\\ngl_FragColor = alpha * mix(v_color, v_stroke_color, color_mix_ratio);\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"circle.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\n#pragma header\\nvarying lowp vec4 v_color;\\nvarying lowp vec4 v_stroke_color;\\nvarying mediump float v_blur;\\nvarying mediump float v_stroke_width;\\nvarying mediump float v_radius;\\nvarying mediump vec2 v_offset;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform mediump vec2 u_circleTranslation;\\nuniform mediump float u_depth;\\nuniform mediump float u_antialiasingWidth;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\nv_stroke_color = stroke_color * stroke_opacity;\\nv_stroke_width = stroke_width;\\nv_radius = radius;\\nv_blur = max(blur, u_antialiasingWidth / (radius + stroke_width));\\nmediump vec2 offset = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\\nv_offset = offset;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos * 0.5, 1.0) + u_displayMat3 * vec3((v_radius + v_stroke_width) * offset + u_circleTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n}\"},fill:{\"fill.frag\":\"precision lowp float;\\n#ifdef PATTERN\\nuniform lowp sampler2D u_texture;\\nvarying mediump vec2 v_tileTextureCoord;\\nvarying mediump vec4 v_tlbr;\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\nvec4 mixColors(vec4 color1, vec4 color2) {\\nfloat compositeAlpha = color2.a + color1.a * (1.0 - color2.a);\\nvec3 compositeColor = color2.rgb + color1.rgb * (1.0 - color2.a);\\nreturn vec4(compositeColor, compositeAlpha);\\n}\\nvoid main()\\n{\\n#ifdef PATTERN\\nmediump vec2 normalizedTextureCoord = fract(v_tileTextureCoord);\\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\\nlowp vec4 color = texture2D(u_texture, samplePos);\\ngl_FragColor = v_color[3] * color;\\n#else\\ngl_FragColor = v_color;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"fill.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\n#pragma header\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform mediump float u_depth;\\nuniform mediump vec2 u_fillTranslation;\\n#ifdef PATTERN\\n#include <util/util.glsl>\\nuniform mediump vec2 u_mosaicSize;\\nuniform mediump float u_patternFactor;\\nvarying mediump vec2 v_tileTextureCoord;\\nvarying mediump vec4 v_tlbr;\\n#endif\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\n#ifdef PATTERN\\nfloat patternWidth = nextPOT(tlbr.z - tlbr.x);\\nfloat patternHeight = nextPOT(tlbr.w - tlbr.y);\\nfloat scaleX = 1.0 / (patternWidth * u_patternFactor);\\nfloat scaleY = 1.0 / (patternHeight * u_patternFactor);\\nmat3 patterMat = mat3(scaleX, 0.0,    0.0,\\n0.0,    -scaleY, 0.0,\\n0.0,    0.0,    1.0);\\nv_tileTextureCoord = (patterMat * vec3(a_pos, 1.0)).xy;\\nv_tlbr             = tlbr / u_mosaicSize.xyxy;\\n#endif\\nvec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayMat3 * vec3(u_fillTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n}\"},icon:{\"icon.frag\":\"precision mediump float;\\nuniform lowp sampler2D u_texture;\\n#ifdef SDF\\nuniform lowp vec4 u_color;\\nuniform lowp vec4 u_outlineColor;\\n#endif\\nvarying mediump vec2 v_tex;\\nvarying lowp float v_opacity;\\nvarying mediump vec2 v_size;\\nvarying lowp vec4 v_color;\\n#ifdef SDF\\nvarying mediump flaot v_halo_width;\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\n#include <util/encoding.glsl>\\nvec4 mixColors(vec4 color1, vec4 color2) {\\nfloat compositeAlpha = color2.a + color1.a * (1.0 - color2.a);\\nvec3 compositeColor = color2.rgb + color1.rgb * (1.0 - color2.a);\\nreturn vec4(compositeColor, compositeAlpha);\\n}\\nvoid main()\\n{\\n#ifdef SDF\\nlowp vec4 fillPixelColor = v_color;\\nfloat d = rgba2float(texture2D(u_texture, v_tex)) - 0.5;\\nconst float softEdgeRatio = 0.248062016;\\nfloat size = max(v_size.x, v_size.y);\\nfloat dist = d * softEdgeRatio * size;\\nfillPixelColor *= clamp(0.5 - dist, 0.0, 1.0);\\nif (v_halo_width > 0.25) {\\nlowp vec4 outlinePixelColor = u_outlineColor;\\nconst float outlineLimitRatio = (16.0 / 86.0);\\nfloat clampedOutlineSize = softEdgeRatio * min(v_halo_width, outlineLimitRatio * max(v_size.x, v_size.y));\\noutlinePixelColor *= clamp(0.5 - (abs(dist) - clampedOutlineSize), 0.0, 1.0);\\ngl_FragColor = v_opacity * mixColors(fillPixelColor, outlinePixelColor);\\n}\\nelse {\\ngl_FragColor = v_opacity * fillPixelColor;\\n}\\n#else\\nlowp vec4 texColor = texture2D(u_texture, v_tex);\\ngl_FragColor = v_opacity * texColor;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"icon.vert\":\"attribute vec2 a_pos;\\nattribute vec2 a_vertexOffset;\\nattribute vec4 a_texAngleRange;\\nattribute vec4 a_levelInfo;\\nattribute float a_opacityInfo;\\n#pragma header\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\n#ifdef SDF\\nvarying mediump float v_halo_width;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform highp mat3 u_displayViewMat3;\\nuniform mediump vec2 u_iconTranslation;\\nuniform vec2 u_mosaicSize;\\nuniform mediump float u_depth;\\nuniform mediump float u_mapRotation;\\nuniform mediump float u_level;\\nuniform lowp float u_keepUpright;\\nuniform mediump float u_fadeDuration;\\nvarying mediump vec2 v_tex;\\nvarying lowp float v_opacity;\\nvarying mediump vec2 v_size;\\nconst float C_OFFSET_PRECISION = 1.0 / 8.0;\\nconst float C_256_TO_RAD = 3.14159265359 / 128.0;\\nconst float C_DEG_TO_RAD = 3.14159265359 / 180.0;\\nconst float tileCoordRatio = 1.0 / 8.0;\\nuniform highp float u_time;\\nvoid main()\\n{\\n#pragma main\\nv_color = color;\\nv_opacity = opacity;\\n#ifdef SDF\\nv_halo_width = halo_width;\\n#endif\\nfloat modded = mod(a_opacityInfo, 128.0);\\nfloat targetOpacity = (a_opacityInfo - modded) / 128.0;\\nfloat startOpacity = modded / 127.0;\\nfloat interpolatedOpacity = clamp(startOpacity + 2.0 * (targetOpacity - 0.5) * u_time / u_fadeDuration, 0.0, 1.0);\\nv_opacity *= interpolatedOpacity;\\nmediump float a_angle         = a_levelInfo[1];\\nmediump float a_minLevel      = a_levelInfo[2];\\nmediump float a_maxLevel      = a_levelInfo[3];\\nmediump vec2 a_tex            = a_texAngleRange.xy;\\nmediump float delta_z = 0.0;\\nmediump float rotated = mod(a_angle + u_mapRotation, 256.0);\\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * step(64.0, rotated) * (1.0 - step(192.0, rotated));\\ndelta_z += 1.0 - step(a_minLevel, u_level);\\ndelta_z += step(a_maxLevel, u_level);\\ndelta_z += step(v_opacity, 0.0);\\nvec2 offset = C_OFFSET_PRECISION * a_vertexOffset;\\nv_size = abs(offset);\\n#ifdef SDF\\noffset = (120.0 / 86.0) * offset;\\n#endif\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayViewMat3 * vec3(size * offset, 0.0) + u_displayMat3 * vec3(u_iconTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth + delta_z, 1.0);\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nv_tex = a_tex.xy / u_mosaicSize;\\n}\"},line:{\"line.frag\":\"precision lowp float;\\nvarying mediump vec2 v_normal;\\nvarying highp float v_accumulatedDistance;\\nvarying mediump float v_lineHalfWidth;\\nvarying lowp vec4 v_color;\\nvarying mediump float v_blur;\\n#if defined (PATTERN) || defined(SDF)\\nvarying mediump vec4 v_tlbr;\\nvarying mediump vec2 v_patternSize;\\nvarying mediump float v_widthRatio;\\nuniform sampler2D u_texture;\\nuniform mediump float u_antialiasing;\\n#endif\\n#ifdef SDF\\n#include <util/encoding.glsl>\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nmediump float fragDist = length(v_normal) * v_lineHalfWidth;\\nlowp float alpha = clamp((v_lineHalfWidth - fragDist) / v_blur, 0.0, 1.0);\\n#ifdef PATTERN\\nmediump float relativeTexX = mod(v_accumulatedDistance / (v_patternSize.x * v_widthRatio), 1.0);\\nmediump float relativeTexY = 0.5 + v_normal.y * v_lineHalfWidth / (v_patternSize.y * v_widthRatio);\\nmediump vec2 texCoord = mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\\nlowp vec4 color = texture2D(u_texture, texCoord);\\ngl_FragColor = alpha * v_color[3] * color;\\n#elif defined(SDF)\\nmediump float relativeTexX = mod((v_accumulatedDistance * 0.5) / (v_patternSize.x * v_widthRatio), 1.0);\\nmediump float relativeTexY =  0.5 + 0.25 * v_normal.y;\\nmediump vec2 texCoord = mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\\nmediump float d = rgba2float(texture2D(u_texture, texCoord)) - 0.5;\\nfloat dist = d * v_lineHalfWidth;\\ngl_FragColor = alpha * clamp(0.5 - dist, 0.0, 1.0) * v_color;\\n#else\\ngl_FragColor = alpha * v_color;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"line.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\nattribute vec4 a_extrude_offset;\\nattribute vec4 a_dir_normal;\\nattribute vec2 a_accumulatedDistance;\\n#pragma header\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform highp mat3 u_displayViewMat3;\\nuniform mediump float u_zoomFactor;\\nuniform mediump vec2 u_lineTranslation;\\nuniform mediump float u_antialiasing;\\nuniform mediump float u_depth;\\nvarying mediump vec2 v_normal;\\nvarying highp float v_accumulatedDistance;\\nconst float scale = 1.0 / 31.0;\\nconst mediump float tileCoordRatio = 8.0;\\n#if defined (SDF)\\nconst mediump float sdfPatternHalfWidth = 15.5;\\n#endif\\n#if defined (PATTERN) || defined(SDF)\\nuniform mediump vec2 u_mosaicSize;\\nvarying mediump vec4 v_tlbr;\\nvarying mediump vec2 v_patternSize;\\nvarying mediump float v_widthRatio;\\n#endif\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\nvarying mediump float v_lineHalfWidth;\\nvarying mediump float v_blur;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\nv_blur = blur + u_antialiasing;\\nv_normal = a_dir_normal.zw * scale;\\n#if defined (PATTERN) || defined(SDF)\\nv_tlbr          = tlbr / u_mosaicSize.xyxy;\\nv_patternSize   = vec2(tlbr.z - tlbr.x, tlbr.y - tlbr.w);\\n#if defined (PATTERN)\\nv_widthRatio = width / v_patternSize.y;\\n#else\\nv_widthRatio = width / sdfPatternHalfWidth / 2.0;\\n#endif\\n#endif\\nv_lineHalfWidth = (width + u_antialiasing) * 0.5;\\nmediump vec2 dir = a_dir_normal.xy * scale;\\nmediump vec2 offset_ = a_extrude_offset.zw * scale * offset;\\nmediump vec2 dist = v_lineHalfWidth * scale * a_extrude_offset.xy;\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos + offset_ * tileCoordRatio / u_zoomFactor, 1.0) + u_displayViewMat3 * vec3(dist, 0.0) + u_displayMat3 * vec3(u_lineTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n#if defined (PATTERN) || defined(SDF)\\nv_accumulatedDistance = a_accumulatedDistance.x * u_zoomFactor / tileCoordRatio + dot(dir, dist + offset_);\\n#endif\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\n}\"},outline:{\"outline.frag\":\"varying lowp vec4 v_color;\\nvarying mediump vec2 v_normal;\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nlowp float dist = abs(v_normal.y);\\nlowp float alpha = smoothstep(1.0, 0.0, dist);\\ngl_FragColor = alpha * v_color;\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"outline.vert\":\"attribute vec2 a_pos;\\nattribute vec2 a_offset;\\nattribute vec2 a_xnormal;\\n#pragma header\\nvarying lowp vec4 v_color;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform mediump vec2 u_fillTranslation;\\nuniform mediump float u_depth;\\nuniform mediump float u_outline_width;\\nvarying lowp vec2 v_normal;\\nconst float scale = 1.0 / 15.0;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nv_normal = a_xnormal;\\nmediump vec2 dist = u_outline_width * scale * a_offset;\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayMat3 * vec3(dist + u_fillTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n}\"},text:{\"text.frag\":\"uniform lowp sampler2D u_texture;\\nvarying lowp vec2 v_tex;\\nvarying lowp vec4 v_color;\\nvarying mediump float v_edgeWidth;\\nvarying mediump float v_edgeDistance;\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nlowp float dist = texture2D(u_texture, v_tex).a;\\nmediump float alpha = smoothstep(v_edgeDistance - v_edgeWidth, v_edgeDistance + v_edgeWidth, dist);\\ngl_FragColor = alpha * v_color;\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"text.vert\":\"attribute vec2 a_pos;\\nattribute vec2 a_vertexOffset;\\nattribute vec4 a_texAngleRange;\\nattribute vec4 a_levelInfo;\\nattribute float a_opacityInfo;\\n#pragma header\\nvarying lowp vec4 v_color;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform highp mat3 u_displayViewMat3;\\nuniform mediump vec2 u_textTranslation;\\nuniform vec2 u_mosaicSize;\\nuniform mediump float u_depth;\\nuniform mediump float u_mapRotation;\\nuniform mediump float u_level;\\nuniform lowp float u_keepUpright;\\nuniform mediump float u_fadeDuration;\\nvarying lowp vec2 v_tex;\\nconst float offsetPrecision = 1.0 / 8.0;\\nconst mediump float edgePos = 0.75;\\nuniform mediump float u_antialiasingWidth;\\nvarying mediump float v_edgeDistance;\\nvarying mediump float v_edgeWidth;\\nuniform lowp float u_halo;\\nconst float sdfFontScale = 1.0 / 24.0;\\nconst float sdfPixel = 3.0;\\nuniform highp float u_time;\\nvoid main()\\n{\\n#pragma main\\nif (u_halo > 0.5)\\n{\\nv_color = halo_color * opacity;\\nhalo_width *= sdfPixel;\\nhalo_blur *= sdfPixel;\\n}\\nelse\\n{\\nv_color = color * opacity;\\nhalo_width = 0.0;\\nhalo_blur = 0.0;\\n}\\nfloat modded = mod(a_opacityInfo, 128.0);\\nfloat targetOpacity = (a_opacityInfo - modded) / 128.0;\\nfloat startOpacity = modded / 127.0;\\nfloat interpolatedOpacity = clamp(startOpacity + 2.0 * (targetOpacity - 0.5) * u_time / u_fadeDuration, 0.0, 1.0);\\nv_color *= interpolatedOpacity;\\nmediump float a_angle       = a_levelInfo[1];\\nmediump float a_minLevel    = a_levelInfo[2];\\nmediump float a_maxLevel    = a_levelInfo[3];\\nmediump vec2 a_tex          = a_texAngleRange.xy;\\nmediump float a_visMinAngle    = a_texAngleRange.z;\\nmediump float a_visMaxAngle    = a_texAngleRange.w;\\nmediump float delta_z = 0.0;\\nmediump float angle = mod(a_angle + u_mapRotation, 256.0);\\nif (a_visMinAngle < a_visMaxAngle)\\n{\\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * (step(a_visMaxAngle, angle) + (1.0 - step(a_visMinAngle, angle)));\\n}\\nelse\\n{\\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * (step(a_visMaxAngle, angle) * (1.0 - step(a_visMinAngle, angle)));\\n}\\ndelta_z += 1.0 - step(a_minLevel, u_level);\\ndelta_z += step(a_maxLevel, u_level);\\ndelta_z += step(v_color[3], 0.0);\\nv_tex = a_tex.xy / u_mosaicSize;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nv_edgeDistance = edgePos - halo_width / size;\\nv_edgeWidth = (u_antialiasingWidth + halo_blur) / size;\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + sdfFontScale * u_displayViewMat3 * vec3(offsetPrecision * size * a_vertexOffset, 0.0) + u_displayMat3 * vec3(u_textTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth + delta_z, 1.0);\\n}\"},util:{\"encoding.glsl\":\"const vec4 rgba2float_factors = vec4(\\n255.0 / (256.0),\\n255.0 / (256.0 * 256.0),\\n255.0 / (256.0 * 256.0 * 256.0),\\n255.0 / (256.0 * 256.0 * 256.0 * 256.0)\\n);\\nfloat rgba2float(vec4 rgba) {\\nreturn dot(rgba, rgba2float_factors);\\n}\",\"util.glsl\":\"float nextPOT(in float x) {\\nreturn pow(2.0, ceil(log2(abs(x))));\\n}\"}};export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../../webgl/BufferObject.js\";import\"../../../../../webgl/FramebufferObject.js\";import\"../../../../../../core/has.js\";import\"../../../../../webgl/checkWebGLError.js\";import\"../../../../../webgl/enums.js\";import\"../../../../../../chunks/builtins.js\";import r from\"../../../../../webgl/ShaderCompiler.js\";import\"../../../../../webgl/Texture.js\";import\"../../../../../webgl/VertexArrayObject.js\";import e from\"./shaderRepository.js\";function t(r){let t=e;return r.split(\"/\").forEach((r=>{t&&(t=t[r])})),t}const o=new r(t);function s(r){return o.resolveIncludes(r)}export{s as resolveIncludes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import\"../../../../../core/has.js\";import\"../../../../webgl/checkWebGLError.js\";import\"../../../../webgl/enums.js\";import\"../../../../../chunks/builtins.js\";import{glslifyDefineMap as e}from\"../../../../webgl/programUtils.js\";import\"../../../../webgl/Texture.js\";import\"../../../../webgl/VertexArrayObject.js\";import{resolveIncludes as r}from\"./sources/resolver.js\";const t=r=>e({ID:r.id,PATTERN:r.pattern}),a={shaders:e=>({vertexShader:t(e)+r(\"background/background.vert\"),fragmentShader:t(e)+r(\"background/background.frag\")})},i=r=>e({ID:r.id}),s={shaders:e=>({vertexShader:i(e)+r(\"circle/circle.vert\"),fragmentShader:i(e)+r(\"circle/circle.frag\")})},d=r=>e({ID:r.id,PATTERN:r.pattern}),o={shaders:e=>({vertexShader:d(e)+r(\"fill/fill.vert\"),fragmentShader:d(e)+r(\"fill/fill.frag\")})},l=r=>e({ID:r.id}),n={shaders:e=>({vertexShader:l(e)+r(\"outline/outline.vert\"),fragmentShader:l(e)+r(\"outline/outline.frag\")})},f=r=>e({ID:r.id,SDF:r.sdf}),g={shaders:e=>({vertexShader:f(e)+r(\"icon/icon.vert\"),fragmentShader:f(e)+r(\"icon/icon.frag\")})},c=r=>e({ID:r.id,PATTERN:r.pattern,SDF:r.sdf}),h={shaders:e=>({vertexShader:c(e)+r(\"line/line.vert\"),fragmentShader:c(e)+r(\"line/line.frag\")})},m=r=>e({ID:r.id}),b={shaders:e=>({vertexShader:m(e)+r(\"text/text.vert\"),fragmentShader:m(e)+r(\"text/text.frag\")})};export{a as background,s as circle,o as fill,g as icon,h as line,n as outline,b as text};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import{Program as e}from\"../../../../webgl/Program.js\";import\"../../../../webgl/enums.js\";import\"../../../../webgl/Texture.js\";import\"../../../../webgl/VertexArrayObject.js\";import{text as r,outline as t,line as a,icon as s,fill as n,circle as i,background as o}from\"./Programs.js\";class c{constructor(){this._programByKey=new Map}dispose(){this._programByKey.forEach((e=>e.dispose())),this._programByKey.clear()}getMaterialProgram(r,t,a){const s=t.key<<3|this._getMaterialOptionsValue(t.type,a);if(this._programByKey.has(s))return this._programByKey.get(s);const n=this._getProgramTemplate(t.type),{shaders:i}=n,{vertexShader:o,fragmentShader:c}=i(a),p=t.getShaderHeader(),u=t.getShaderMain(),g=o.replace(\"#pragma header\",p).replace(\"#pragma main\",u),m=new e(r,g,c,t.getAttributeLocations());return this._programByKey.set(s,m),m}_getMaterialOptionsValue(e,r){switch(e){case 0:{const e=r;return(e.pattern?1:0)<<1|(e.id?1:0)}case 1:{const e=r;return(e.pattern?1:0)<<1|(e.id?1:0)}case 2:return r.id?1:0;case 3:{const e=r;return(e.sdf?1:0)<<2|(e.pattern?1:0)<<1|(e.id?1:0)}case 4:{const e=r;return(e.sdf?1:0)<<1|(e.id?1:0)}case 5:return r.id?1:0;case 6:return r.id?1:0;default:return 0}}_getProgramTemplate(e){switch(e){case 0:return o;case 5:return i;case 1:return n;case 4:return s;case 3:return a;case 2:return t;case 6:return r;default:return null}}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const y of e.colliders){const[e,o]=0===y.partIndex?a:h,x=0===y.partIndex?c:u,g=y.minLod<=s&&s<=y.maxLod;d+=g?0:1,y.enabled=g,y.xScreen=y.xTile*r[0]+y.yTile*r[3]+r[6],y.yScreen=y.xTile*r[1]+y.yTile*r[4]+r[7],0===x?(y.xScreen+=n*e-t*o,y.yScreen+=t*e+n*o):(y.xScreen+=e,y.yScreen+=o),1===(0===y.partIndex?i:l)?(y.dxScreen=y.dxPixels,y.dyScreen=y.dyPixels):(y.dxScreen=n*(y.dxPixels+y.width/2)-t*(y.dyPixels+y.height/2)-y.width/2,y.dyScreen=t*(y.dxPixels+y.width/2)+n*(y.dyPixels+y.height/2)-y.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let h=l;h<=c;h++)for(let e=i;e<=a;e++){const i=t.cells[h][e];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let l=i;l<=h;l++)for(let t=s;t<=a;t++){this._gridIndex.cells[l][t].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import i from\"../webgl/Rect.js\";class s{constructor(t,i,s){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=i,this._glyphSource=s,this._binPack=new e(t-4,i-4),this._glyphData.push(new Uint8Array(t*i)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(t,s){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const e of s){const t=Math.floor(e*o);n.add(t)}const a=[];return n.forEach((e=>{if(e<=256){const i=t+e;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=r.getRange(t,e).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),Promise.all(a).then((()=>{let n=this._glyphIndex[t];n||(n={},this._glyphIndex[t]=n);for(const o of s){const s=n[o];if(s){h[o]={sdf:!0,rect:s.rect,metrics:s.metrics,page:s.page,code:o};continue}const a=r.getGlyph(t,o);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new i(0,0,0,0);else{const t=3,i=c.width+2*t,s=c.height+2*t;let h=i%4?4-i%4:4,r=s%4?4-s%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(i+h,s+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new e(this.width-4,this.height-4),l=this._binPack.allocate(i+h,s+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,p;if(o)for(let e=0;e<s;e++){g=i*e,p=this.width*(l.y+e+1)+l.x;for(let t=0;t<i;t++)n[p+t+1]=o[g+t]}}n[o]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(e,i,s,h=0){this._textures[s]||(this._textures[s]=new t(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),e.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../request.js\";import e from\"../../../../core/pbf.js\";class s{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class a{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255,g=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return t(g,{responseType:\"array-buffer\"}).then((t=>{n.addRange(r,new s(new e(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{n.addRange(r,new s)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{SymbolHelper as t}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import i from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import s from\"../webgl/Rect.js\";const h=\"dasharray-\";class r{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}getPageSize(t){return t>=this._size.length?null:this._size[t]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e,s,r=this._mosaicRects[t];if(r)return r;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;if(t&&t.startsWith(h)?([e,s]=this._rasterizeDash(t),i=!0):e=this._sprites.getSpriteInfo(t),!e||!e.width||!e.height||e.width<0||e.height<0)return null;const a=e.width,o=e.height,[n,_,g]=this._allocateImage(a,o);return n.width<=0?null:(this._copy(n,e,_,g,i,s),r={rect:n,width:a,height:o,sdf:e.sdf,simplePattern:!1,pixelRatio:e.pixelRatio,page:_},this._mosaicRects[t]=r,r)}getSpriteItems(t){const i={};for(const e of t)i[e.name]=this.getSpriteItem(e.name,e.repeat);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,r=e.height,a=2;return{tl:[s.x+a,s.y+a],br:[s.x+a+h,s.y+a+r],page:e.page}}bind(t,e,s=0,h=0){this._textures[s]||(this._textures[s]=new i(t,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const r=this._textures[s];r.setSamplingMode(e),this._dirties[s]&&r.setData(new Uint8Array(this._mosaicsData[s].buffer)),t.bindTexture(r,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,r,a,o,n,_,g){let c=s*i+e,p=o*r+a;if(g){p-=r;for(let a=-1;a<=_;a++,c=((a+_)%_+s)*i+e,p+=r)for(let i=-1;i<=n;i++)h[p+i]=t[c+(i+n)%n]}else for(let l=0;l<_;l++){for(let i=0;i<n;i++)h[p+i]=t[c+i];c+=i,p+=r}}_copy(t,i,e,s,h,a){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(a?a.buffer:this._sprites.image.buffer),n=this._mosaicsData[e];n&&o||console.error(\"Source or target images are uninitialized!\");const _=2,g=a?i.width:this._sprites.width;r._copyBits(o,g,i.x,i.y,n,s[0],t.x+_,t.y+_,i.width,i.height,h),this._dirties[e]=!0}_allocateImage(t,i){t+=2,i+=2;const h=Math.max(t,i);if(this._maxItemSize&&this._maxItemSize<h){const e=new s(0,0,t,i);return this._mosaicsData.push(new Uint32Array(t*i)),this._dirties.push(!0),this._size.push([t,i]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,i]]}let r=t%4?4-t%4:4,a=i%4?4-i%4:4;1===r&&(r=5),1===a&&(a=5);const o=this._binPack.allocate(t+r,i+a);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,i)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}_rasterizeDash(i){const e=/\\[(.*?)\\]/,s=i.match(e);if(!s)return null;const h=s[1].split(\",\").map(Number),r=i.slice(i.lastIndexOf(\"-\")+1),[a,o,n]=t.rasterizeDash(h,r);return[{x:0,y:0,width:o,height:n,sdf:!0,pixelRatio:1},new Uint8Array(a.buffer)]}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/has.js\";import{isAbortError as s,eachAlways as r}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as i}from\"../../../../core/urlUtils.js\";import{open as o}from\"../../../../core/workers/workers.js\";import a from\"./GlyphMosaic.js\";import l from\"./GlyphSource.js\";import n from\"./SpriteMosaic.js\";import{perfAdd as c}from\"./decluttering/debugging.js\";import h from\"../../tiling/TileKey.js\";class u{constructor(e,t,s){this._layer=e,this._styleRepository=t,this.devicePixelRatio=s,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null}destroy(){this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._layer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(e){this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,e),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new n(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const s=new l(this._layer.currentStyleInfo.glyphsUrl?i(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);this._glyphMosaic=new a(1024,1024,s),this._broadcastPromise=o(\"WorkerTileHandler\",{client:this,schedule:e.schedule,signal:e.signal}).then((s=>(this._connection=s,Promise.all(this._connection.broadcast(\"setStyle\",{style:this._layer.currentStyleInfo.style,vectorTileLayerMaxBuffers:t(\"vectortilelayer-max-buffers\")},e)))))}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=Promise.all(this._connection.broadcast(\"updateStyle\",e)),this._broadcastPromise}async setStyle(e,s){await this._broadcastPromise,this._styleRepository=e,this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new n(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const r=new l(this._layer.currentStyleInfo.glyphsUrl?i(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);return this._glyphMosaic=new a(1024,1024,r),this._broadcastPromise=Promise.all(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:t(\"vectortilelayer-max-buffers\")})),this._broadcastPromise}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._layer.sourceNameToSource,r=[];for(const t in s)r.push(t);return this._getSourcesData(r,e,t)}))}parseTileData(e,t){const s=e&&e.data;if(!s)return Promise.resolve(null);const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((s=>s.invoke(\"createTileAndParse\",{key:e.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:e.styleLayerUIDs},{...t,transferList:i})))))}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){c(e,t,\"ms\")}async _getTilePayload(e,t,r){const i=h.pool.acquire(e.id),o=this._layer.sourceNameToSource[t].getSourceTileUrl(i.level,i.row,i.col);h.pool.release(i);try{return{protobuff:await this.request(o,r),sourceName:t}}catch(a){if(s(a))throw a;return{protobuff:null,sourceName:t}}}request(t,s){return e(t,{responseType:\"array-buffer\",...s}).then((({data:e})=>e))}_getRefKeys(e,t){const s=this._layer.sourceNameToSource,i=new Array;for(const r in s){const o=s[r].getRefKey(e,t);i.push(o)}return r(i)}_getSourcesData(e,t,s){const i=[];for(let r=0;r<t.length;r++)if(null==t[r].value||null==e[r])i.push(null);else{const o=this._getTilePayload(t[r].value,e[r],s);i.push(o)}return r(i).then((e=>{const s={},r=[];for(let i=0;i<e.length;i++)if(e[i].value&&e[i].value&&e[i].value.protobuff&&e[i].value.protobuff.byteLength>0){const o=t[i].value.id;s[e[i].value.sourceName]={refKey:o,protobuff:e[i].value.protobuff},r.push(e[i].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:r}}))}}export{u as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"above-along\":case\"below-along\":case\"center-along\":case\"esriServerLinePlacementAboveAlong\":case\"esriServerLinePlacementBelowAlong\":case\"esriServerLinePlacementCenterAlong\":return!0;default:return!1}}export{e as isMapAligned};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{i8888to32 as r}from\"./number.js\";const n=[255,255,255,1],t=[0,0,0,0];function u(r,n){return Array.isArray(n)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3]):(r[0]=n.r,r[1]=n.g,r[2]=n.b,r[3]=n.a),r}function o(r,n=0,t=!1){const u=r[n+3];return r[n+0]*=u,r[n+1]*=u,r[n+2]*=u,t||(r[n+3]*=255),r}function c(r){return o(u([],r))}function e(n){return o(u(t,n)),r(t[0],t[1],t[2],t[3])}function i(n){if(!n)return 0;const{r:t,g:u,b:o,a:c}=n;return r(t*c,u*c,o*c,255*c)}function f(n){if(!n)return 0;const[t,u,o,c]=n;return r(t*(c/255),u*(c/255),o*(c/255),c)}export{c as copyAndPremultiply,o as premultiplyAlpha,i as premultiplyAlphaRGBA,f as premultiplyAlphaRGBAArray,e as premultiplyAlphaUint32,n as white};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/maybe.js\";import{FADE_DURATION as e}from\"./config.js\";function t(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class i{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols;for(let t=0;t<o.length;t++){const e=o[t];for(let o=0;o<e.uniqueSymbols.length;o++){const t=e.uniqueSymbols[o];for(const o of t.tileSymbols)o.selectedForRendering=!1}}const e=[];let i=0,s=0;const r=this._isLayerVisible;function n(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const t=o[s],h=t.styleLayerUID;if(!r(h)){e[s]||(e[s]={styleLayerUID:h,symbols:[]});continue}e[s]=e[s]||{styleLayerUID:h,symbols:[]};const a=e[s];for(;i<t.uniqueSymbols.length;i++){if(l=t.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,e=!1,s=!1;for(const t of l.tileSymbols)if(!s||!e){const i=t.tile;(!o||i.isCoverage||i.neededForCoverage&&!e)&&(o=t,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(e=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of e)o.symbols.sort(t);return!0}const l=this._symbolLayerSorter;return{work:n,get sortedSymbols(){return e.sort(l)}}}_createOpacityJob(){const e=this._assignTileSymbolsOpacity,t=this._visibleTiles;let i=0;function r(o,t){const i=o.symbols;for(const[e,r]of i)s(r,t);e(o,t);for(const e of o.childrenTiles)r(e,t)}return{work(e){const s=performance.now();for(;i<t.length;i++){if(performance.now()-s>e)return!1;const n=t[i];if(o(n.parentTile))continue;r(n,performance.now())}return!0}}}}function s(o,t){for(const i of o){const o=i.unique;for(const i of o.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/e),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=o.show&&i.show?1:0}}}export{i as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf,l=50;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (${l} bins)</td></tr>`;const i=[];for(const r in o)i.push({name:r,value:o[r].time/o[r].samples.length,sortkey:o[r].max});i.sort(((t,e)=>-(t.sortkey-e.sortkey)));const s=i.map((t=>t.name));for(const m of s)n+=\"<tr>\",n+=`<td>${m}</td>`,n+=`<td>${r(o[m].time,o[m].unit)}</td>`,n+=`<td>${o[m].samples.length}</td>`,n+=`<td>${r(o[m].time/o[m].samples.length,o[m].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[m].min,o[m].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[m].max,o[m].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const d=e.querySelectorAll(\"td[data-distribution='1']\"),a=e.querySelectorAll(\"td[data-histogram='1']\");for(let r=0;r<d.length;r++){let e=d[r];{const n=document.createElement(\"canvas\");n.height=10,n.width=100;const l=n.getContext(\"2d\");if(l.strokeStyle=t,l.beginPath(),l.moveTo(0,5),l.lineTo(100,5),o[s[r]].max>o[s[r]].min+.001)for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);l.moveTo(100*e,3),l.lineTo(100*e,7)}l.stroke(),l.strokeRect((i[r].value-o[s[r]].min)/(o[s[r]].max-o[s[r]].min)*100-2,0,4,9),e.appendChild(n)}e=a[r];{const n=new Array(l);for(let t=0;t<n.length;t++)n[t]=0;for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);n[1===e?n.length-1:Math.floor(e*n.length)]++}const i=document.createElement(\"canvas\");i.height=30,i.width=120;const d=i.getContext(\"2d\");d.strokeStyle=t,d.fillStyle=t;let a=0;for(let t=0;t<n.length;t++){const e=n[t];a=Math.max(a,e)}for(let t=0;t<n.length;t++){const e=n[t];d.fillRect(t*i.width/n.length,i.height*(1-e/a),i.width/n.length,i.height*(e/a))}d.beginPath(),d.moveTo(0,i.height),d.lineTo(i.width,i.height),d.stroke(),e.appendChild(i)}}const c=e.querySelectorAll(\"td\");for(let r=0;r<c.length;r++)c[r].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nvar E,T,I,L,A,_,O;!function(E){E[E.FILL=0]=\"FILL\",E[E.LINE=1]=\"LINE\",E[E.MARKER=2]=\"MARKER\",E[E.TEXT=3]=\"TEXT\",E[E.LABEL=4]=\"LABEL\"}(E||(E={})),function(E){E[E.SUCCEEDED=0]=\"SUCCEEDED\",E[E.FAILED_OUT_OF_MEMORY=1]=\"FAILED_OUT_OF_MEMORY\"}(T||(T={})),function(E){E[E.NONE=0]=\"NONE\",E[E.MAP=1]=\"MAP\",E[E.LABEL=2]=\"LABEL\",E[E.LABEL_ALPHA=4]=\"LABEL_ALPHA\",E[E.HITTEST=8]=\"HITTEST\",E[E.HIGHLIGHT=16]=\"HIGHLIGHT\",E[E.CLIP=32]=\"CLIP\",E[E.DEBUG=64]=\"DEBUG\",E[E.NUM_DRAW_PHASES=9]=\"NUM_DRAW_PHASES\"}(I||(I={})),function(E){E[E.SIZE=0]=\"SIZE\",E[E.COLOR=1]=\"COLOR\",E[E.OPACITY=2]=\"OPACITY\",E[E.ROTATION=3]=\"ROTATION\"}(L||(L={})),function(E){E[E.NONE=0]=\"NONE\",E[E.OPACITY=1]=\"OPACITY\",E[E.COLOR=2]=\"COLOR\",E[E.ROTATION=4]=\"ROTATION\",E[E.SIZE_MINMAX_VALUE=8]=\"SIZE_MINMAX_VALUE\",E[E.SIZE_SCALE_STOPS=16]=\"SIZE_SCALE_STOPS\",E[E.SIZE_FIELD_STOPS=32]=\"SIZE_FIELD_STOPS\",E[E.SIZE_UNIT_VALUE=64]=\"SIZE_UNIT_VALUE\"}(A||(A={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]=\"MINMAX_TARGETS_OUTLINE\",E[E.SCALE_TARGETS_OUTLINE=256]=\"SCALE_TARGETS_OUTLINE\",E[E.FIELD_TARGETS_OUTLINE=512]=\"FIELD_TARGETS_OUTLINE\",E[E.UNIT_TARGETS_OUTLINE=1024]=\"UNIT_TARGETS_OUTLINE\"}(_||(_={})),function(E){E[E.SPRITE=0]=\"SPRITE\",E[E.GLYPH=1]=\"GLYPH\"}(O||(O={}));export{O as MosaicType,L as VVType,I as WGLDrawPhase,T as WGLGeometryTransactionStatus,E as WGLGeometryType,A as WGLVVFlag,_ as WGLVVTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/ObjectPool.js\";class h{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(o,h,s,t,i,l,r,e,c){this.color=o,this.haloColor=h,this.haloSize=s,this.size=t,this.angle=i,this.offsetX=l,this.offsetY=r,this.hAnchor=e,this.vAnchor=c}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}h.pool=new o(h);export{h as TextProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import{copyAndPremultiply as i}from\"./color.js\";import{WGLGeometryType as o,VVType as s}from\"./enums.js\";import{TextProperties as a}from\"./SymbolProperties.js\";import c from\"../../../webgl/Texture.js\";const u=t.getLogger(\"esri.views.2d.engine.webgl.Utils\"),l=\"geometry\",f=\"per_instance\",d=\"per_instance_vv\",m=[{name:l,strideInBytes:36,divisor:0}],p=[{name:l,strideInBytes:32,divisor:0}],y=[{name:l,strideInBytes:20,divisor:0}],g=[{name:l,strideInBytes:12,divisor:0}],h=[{name:l,strideInBytes:40,divisor:0}],w=[{name:l,strideInBytes:36,divisor:0}],v=[{name:l,strideInBytes:36,divisor:0}];function S(e){const t={};for(const r of e)t[r.name]=r.strideInBytes;return t}const I=S(m),L=S(p),M=S(y),A=S(g),T=S(h),C=S(w),b=S(v);function z(e,{fill:t}){switch(e){case o.MARKER:return I;case o.FILL:return\"dot-density\"===t?A:\"simple\"===t?M:L;case o.LINE:return T;case o.TEXT:return C;case o.LABEL:return b}}const x=[l],E=[l],F=[l],B=[l],D=[l];function U(e){switch(e){case o.MARKER:return x;case o.FILL:return E;case o.LINE:return F;case o.TEXT:return B;case o.LABEL:return D}}function j(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function R(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function $(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function N(e){return a.pool.acquire(e.color?i(e.color):[255,255,255,255],e.haloColor?i(e.haloColor):[255,255,255,255],n(e.haloSize),n(e.font.size),e.angle*Math.PI/180,e.xoffset/e.font.size,e.yoffset/e.font.size,\"left\"===e.horizontalAlignment?0:\"right\"===e.horizontalAlignment?1:.5,\"top\"===e.verticalAlignment?0:\"bottom\"===e.verticalAlignment?1:.5)}function O(e){return null!=e}function P(e){return\"number\"==typeof e}function k(t){switch(t){case\"butt\":return 0;case\"round\":return 1;case\"square\":return 2;default:return u.error(new e(\"mapview-invalid-type\",`Cap type ${t} is not a valid option. Defaulting to round`)),1}}function V(t){switch(t){case\"miter\":return 2;case\"bevel\":return 0;case\"round\":return 1;default:return u.error(new e(\"mapview-invalid-type\",`Join type ${t} is not a valid option. Defaulting to round`)),1}}function q(e){switch(e){case\"opacity\":return s.OPACITY;case\"color\":return s.COLOR;case\"rotation\":return s.ROTATION;case\"size\":return s.SIZE;default:return u.error(`Cannot interpret unknown vv: ${e}`),null}}function K(e){const{transform:t,hasZ:r,hasM:n}=e;return{transform:t,hasZ:r,hasM:n}}function X(e,t,r,n,i,o,s){for(const c in o){const t=o[c].stride,n=j(t),s=o[c].data,a=r[c].data,u=t*i.vertexCount/n,l=t*e/n,f=t*i.vertexFrom/n;for(let e=0;e<u;++e)a[e+l]=s[e+f]}const a=i.indexCount;for(let c=0;c<a;++c)n[c+t]=s[c+i.indexFrom]-i.vertexFrom+e}const Z={[l]:35044};function _(e,t){const r=[];for(let n=0;n<5;++n){const i=U(n),o={};for(const e of i)o[e]={data:t(n,e)};r.push({data:e(n),buffers:o})}return r}function J(e,t){let n,i;return r(t.width)&&r(t.height)?(n=!0,i=9987):(n=!1,i=9729),new c(e,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,hasMipmap:n,samplingMode:i,wrapMode:33071,flipped:!0},t)}function Y(e){return{vertexFrom:void 0,vertexTo:void 0,geometry:e}}function G(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}function H(t){switch(t){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void u.error(new e(\"webgl-utils\",`Unable to handle type ${t}`))}}function Q(t){switch(t){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void u.error(new e(\"webgl-utils\",`Unable to handle type ${t}`))}}function W(e){const t={};for(const r in e){const n=e[r];let i=0;t[r]=n.map((e=>{const t={...e,normalized:e.normalized||!1,divisor:e.divisor||0,offset:i,stride:0};return i+=e.count*G(e.type),t})),t[r].forEach((e=>e.stride=i))}return t}const ee=e=>{const t=new Map;for(const r in e)for(const n of e[r])t.set(n.name,n.location);return t},te=e=>{const t={};for(const r in e){const n=e[r];t[r]=n.length?n[0].stride:0}return t},re=new Map,ne=(e,t)=>{if(!re.has(e)){const r=W(t),n={strides:te(r),bufferLayouts:r,attributes:ee(t)};re.set(e,n)}return re.get(e)};function ie(e){e(o.FILL),e(o.LINE),e(o.MARKER),e(o.TEXT),e(o.LABEL)}const oe=e=>\"path\"in e&&ge(e.path),se=e=>\"url\"in e&&e.url||\"imageData\"in e&&e.imageData,ae=e=>\"imageData\"in e&&e.imageData&&\"contentType\"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:\"url\"in e?e.url:null,ce=e=>\"url\"in e&&e.url&&e.url.includes(\".gif\")||\"contentType\"in e&&\"image/gif\"===e.contentType||\"imageData\"in e&&e.imageData.includes(\"data:image/gif\"),ue=e=>\"url\"in e&&e.url&&e.url.includes(\".png\")||\"contentType\"in e&&\"image/png\"===e.contentType||\"imageData\"in e&&e.imageData.includes(\"data:image/png\"),le=e=>e.type&&-1!==e.type.toLowerCase().indexOf(\"3d\");function fe(e){switch(e.type){case\"line\":{const t=e;return\"CIMSolidStroke\"===t.cim.type&&!t.dashTemplate}case\"fill\":return\"CIMSolidFill\"===e.cim.type;case\"esriSFS\":return\"esriSFSSolid\"===e.style||\"esriSFSNull\"===e.style;case\"esriSLS\":return\"esriSLSSolid\"===e.style||\"esriSLSNull\"===e.style;default:return!1}}const de=e=>e.includes(\"data:image/svg+xml\");function me(e){switch(\"cim\"in e?e.cim.type:e.type){case\"esriSMS\":case\"esriPMS\":case\"CIMPointSymbol\":case\"CIMVectorMarker\":case\"CIMPictureMarker\":case\"CIMCharacterMarker\":return!1;default:return!0}}function pe(e){const t=\"maxVVSize\"in e&&e.maxVVSize,r=\"width\"in e&&e.width||\"size\"in e&&e.size||0;return t||r}function ye(e){const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}const ge=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\\dz]$/i.test(e)&&e.length>4));export{L as C_FILL_STRIDE_SPEC,A as C_FILL_STRIDE_SPEC_DD,M as C_FILL_STRIDE_SPEC_SIMPLE,p as C_FILL_VERTEX_DEF,g as C_FILL_VERTEX_DEF_DD,y as C_FILL_VERTEX_DEF_SIMPLE,I as C_ICON_STRIDE_SPEC,m as C_ICON_VERTEX_DEF,b as C_LABEL_STRIDE_SPEC,v as C_LABEL_VERTEX_DEF,T as C_LINE_STRIDE_SPEC,h as C_LINE_VERTEX_DEF,C as C_TEXT_STRIDE_SPEC,w as C_TEXT_VERTEX_DEF,l as C_VBO_GEOMETRY,Z as C_VBO_INFO,f as C_VBO_PERINSTANCE,d as C_VBO_PERINSTANCE_VV,R as allocateTypedArrayBuffer,$ as allocateTypedArrayBufferwithData,ye as charCodes,X as copyMeshData,_ as createGeometryData,ne as createProgramDescriptor,J as createTextureFromTexelData,ie as forEachGeometryType,Y as geometryToMappedGeometry,G as getBytes,k as getCapType,V as getJoinType,U as getNamedBuffers,pe as getPMSResourceSize,Q as getPixelArrayCtor,H as getPixelBytes,z as getStrides,N as getTextProperties,K as getTransformParams,ae as getUrl,q as getVVType,le as is3D,O as isDefined,ce as isGIF,se as isImageResource,P as isNumber,ue as isPNG,de as isSVGImage,oe as isSVGResource,fe as isSimple,ge as isValidSVG,me as shouldRepeat,j as strideToPackingFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{VTLUniqueSymbol as t}from\"./core.js\";import{CollisionJob as e}from\"./jobs.js\";import{SymbolDeclutterer as r}from\"./SymbolDeclutterer.js\";import{SymbolRepository as o}from\"./SymbolRepository.js\";import{writeOpacityToBuffers as s}from\"./util.js\";function i(i,p){const a=[],y=new o(4096,a,(()=>{const e=new t;return e.show=!1,e.parts.push({startTime:0,startOpacity:0,targetOpacity:0,show:!1}),e.parts.push({startTime:0,startOpacity:0,targetOpacity:0,show:!1}),e})),m=new r(a,y,((t,r,o)=>new e(t,r,o,i.styleRepository,i.key.level,0)),((t,e)=>{s(t,e,!1)}),(()=>0),(t=>{const e=p.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");return!e||1!==e.getValue()}));a.push(i),y.add(i),m.setScreenSize(512,512),m.continue(1/0)}export{i as declutterSingleTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{MIN_PRIORITY as t}from\"../../../../core/MemCache.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{f as s}from\"../../../../chunks/mat3f32.js\";import{create as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{VectorTile as r}from\"./VectorTile.js\";import{TileHandler as n}from\"./TileHandler.js\";import{declutterSingleTile as l}from\"./decluttering/jobsUtil.js\";import a from\"../../tiling/TileKey.js\";class g extends n{constructor(e,t,o,s,i){super(e,t,o),this._memCache=s,this._loader=i,this._ongoingTileRequests=new Map,this._ongoingRequestToController=new Map}destroy(){this._ongoingRequestToController.forEach((e=>e.abort())),this._ongoingRequestToController.clear(),this._ongoingTileRequests.clear()}async getVectorTile(n,g,h,m){const u=new a(n,g,h,0);let c=this._memCache.get(u.id);if(e(c))return c.retain(),c;const _=await this._getVectorTileData(u);if(o(m),!this._layer)return null;if(c=this._memCache.get(u.id),e(c))return c.retain(),c;const T=this._layer.tileInfo.getTileBounds(i(),u);return c=new r(u,T[0],T[3],512,512,this._styleRepository,this._memCache),e(_)?(c.setData(_),c.retain(),this._memCache.put(u.id,c,c.memoryUsage*c.referenced,t)):c.setData(null),c.neededForCoverage=!0,c.transforms.tileUnitsToPixels=s(1/8,0,0,0,1/8,0,0,0,1),l(c,this._styleRepository),c}_getVectorTileData(e){const t=e.id;if(this._ongoingTileRequests.has(t))return this._ongoingTileRequests.get(t);const o=new AbortController,s={signal:o.signal},i=this._getParsedVectorTileData(e,s).then((e=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),e))).catch((()=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),null)));return this._ongoingTileRequests.set(t,i),this._ongoingRequestToController.set(t,o),i}_getParsedVectorTileData(e,t){return this.fetchTileData(e,t).then((o=>this.parseTileData({key:e,data:o},t)))}request(e,t){return this._loader.request(e,\"binary\",t)}}export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import{vtlBrushes as t}from\"../brushes.js\";import r from\"./shaders/VTLMaterialManager.js\";const s=1e-6;class a{constructor(e,t){this.spriteMosaic=e,this.glyphMosaic=t,this._brushCache=new Map,this._vtlMaterialManager=new r}dispose(){this._brushCache&&(this._brushCache.forEach((e=>e.dispose())),this._brushCache=null),this._vtlMaterialManager=e(this._vtlMaterialManager),this.spriteMosaic.dispose(),this.glyphMosaic.dispose()}get vectorTilesMaterialManager(){return this._vtlMaterialManager}drawTile(e,t,r){const{context:s}=e,a=r.layers;r.backgroundBucketIds.length>0&&(e.renderPass=\"background\",r.backgroundBucketIds.forEach((s=>this._renderStyleLayer(r.getLayerById(s),e,t,!0)))),s.setBlendingEnabled(!1),s.setDepthTestEnabled(!0),s.setDepthWriteEnabled(!0),s.setDepthFunction(515),e.renderPass=\"opaque\";for(let i=a.length-1;i>=0;i--)this._renderStyleLayer(a[i],e,t,!1);s.setDepthWriteEnabled(!1),s.setBlendingEnabled(!0),s.setBlendFunctionSeparate(1,771,1,771),e.renderPass=\"translucent\";for(let i=0;i<a.length;i++)this._renderStyleLayer(a[i],e,t,!1);s.setDepthTestEnabled(!1),e.renderPass=\"symbol\";for(let i=0;i<a.length;i++)this._renderStyleLayer(a[i],e,t,!1);s.bindVAO()}_renderStyleLayer(e,t,r,a=!1){if(!(a||e&&r.layerData.has(e.uid)))return;const i=e.getLayoutProperty(\"visibility\");if(i&&1===i.getValue())return;const{renderPass:n}=t;let l;switch(e.type){case 0:if(\"background\"!==n)return;l=\"vtlBackground\";break;case 1:if(\"opaque\"!==n&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==n)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==n)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==n)return;l=\"vtlSymbol\"}const h=t.displayLevel;void 0!==e.minzoom&&e.minzoom>h+s||void 0!==e.maxzoom&&e.maxzoom<=h-s||(t.styleLayerUID=e.uid,t.styleLayer=e,this.drawWithBrush(t,r,l))}drawWithBrush(e,r,s){if(!this._brushCache.has(s)){const e=t[s];this._brushCache.set(s,new e)}this._brushCache.get(s).drawMany(e,[r])}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{isNone as i,disposeMaybe as r,destroyMaybe as l}from\"../../../core/maybe.js\";import{isAborted as s}from\"../../../core/promiseUtils.js\";import{whenTrueOnce as o}from\"../../../core/watchUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import h from\"../../2d/engine/vectorTiles/SchemaHelper.js\";import c from\"../../2d/engine/vectorTiles/TileHandler3D.js\";import d from\"../../2d/engine/vectorTiles/VTLPainter3D.js\";import p from\"../../2d/engine/vectorTiles/style/StyleRepository.js\";import{LayerView3D as m}from\"./LayerView3D.js\";import{TiledLayerView3D as y}from\"./TiledLayerView3D.js\";import{test as f}from\"../terrain/terrainUtils.js\";import u from\"../../layers/LayerView.js\";let g=class extends(y(m(u))){constructor(){super(...arguments),this.type=\"vector-tile-3d\"}initialize(){if(i(this.layer.fullExtent))return void this.addResolvingPromise(Promise.reject(new t(\"vectortilelayerview:full-extent-undefined\",\"This layer view's layer does not define a fullExtent.\")));const e=f.force512VTL?this.layer.tileInfo:this.layer.compatibleTileInfo256,r=this._getTileInfoSupportError(e,this.layer.fullExtent);if(r)return this.addResolvingPromise(Promise.reject(r));const{basemapTerrain:l,spatialReference:n,pixelRatio:a}=this.view,m=o(this.view,\"basemapTerrain.tilingSchemeLocked\").then((()=>{const e=l.tilingScheme,t=e.pixelSize;let i;this.schemaHelper=new h(t,n.isGeographic),i=256===t?this.layer.compatibleTileInfo256:this.view.spatialReference.isGeographic?this.layer.compatibleTileInfo512:this.layer.tileInfo;const r=this._getTileInfoCompatibilityError(i,e);if(r)throw r;this._set(\"tileInfo\",i)}));this._tileHandlerController=new AbortController;const y=this.view.resourceController;this._memCache=y.memoryController.newCache(this.layer.uid,(e=>{e.release()}));const{style:u}=this.layer.currentStyleInfo,g=new p(u),_=l.mapTileRequester;this._tileHandler=new c(this.layer,g,a,this._memCache,_);const v=this._tileHandlerController.signal,H=e=>y.schedule(e),w=this._tileHandler.start({signal:v,schedule:H}),C=this._tileHandler.spriteMosaic;C.then((e=>{!s(v)&&this._tileHandler&&(this.painter=new d(e,this._tileHandler.glyphMosaic))})),w.then((()=>this._tileHandlerController=null));const T=()=>{this._tileHandlerController&&this._tileHandlerController.abort(),this._tileHandlerController=new AbortController,this._memCache.clear();const{style:e}=this.layer.currentStyleInfo,t=new p(e),i=new c(this.layer,t,a,this._memCache,_),r=i.start({signal:this._tileHandlerController.signal,schedule:H}),l=i.spriteMosaic;r.then((()=>this._tileHandlerController=null)),this.updatingHandles.addPromise(Promise.all([r,l]).then((([,e])=>{const t=this._tileHandler,r=this.painter;this.painter=new d(e,i.glyphMosaic),this._tileHandler=i,this.emit(\"data-changed\"),t.destroy(),r&&r.dispose()})))};this.updatingHandles.add(this,\"layer.currentStyleInfo\",T),this.updatingHandles.add(this,\"view.pixelRatio\",T);const j=Promise.all([m,w,C]);this.addResolvingPromise(j)}destroy(){this.painter=r(this.painter),this._tileHandlerController&&(this._tileHandlerController.abort(),this._tileHandlerController=null),l(this._tileHandler),this._memCache=l(this._memCache),this._tileHandler=null}get dataLevelRange(){const e=this.tileInfo.lods,t=e[0].scale,i=e[e.length-1].scale,r=this.levelRangeFromScaleRange(t,i);return 1===r.minLevel&&256===this.tileInfo.size[0]&&(r.minLevel=0),r}async fetchTile(e,t,i,r){return this._tileHandler.getVectorTile(e,t,i,r)}};e([n({aliasOf:\"layer.fullExtent\"})],g.prototype,\"fullExtent\",void 0),e([n()],g.prototype,\"layer\",void 0),e([n()],g.prototype,\"tileInfo\",void 0),e([n()],g.prototype,\"dataLevelRange\",null),e([n()],g.prototype,\"updatingProgressValue\",void 0),g=e([a(\"esri.views.3d.layers.VectorTileLayerView3D\")],g);const _=g;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}export{e as i16,w as i1616to32,o as i32,u as i8,y as i8816to32,x as i8888to32,A as numTo32,h as toFloat32,a as toUint32,i as u16,c as u32,M as u32to4Xu8,m as u4u4to8,f as u8};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";const l=32,i=8,n=64;class r{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const r=new Map;if(s)for(const o of s)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));else for(const[o,l]of e.layerData)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));this._removeSymbols(r);const y=e.symbols,a=new Map;for(const[f,c]of y){let e=c.length;if(e>=l){let s=this.tileCoordRange;do{s/=2,e/=4}while(e>i&&s>n);const l=new o(this.tileCoordRange,this.tileCoordRange,s);a.set(f,{flat:c,index:l}),t.symbols.set(f,{flat:c,index:l});for(const e of c)l.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),t.symbols.set(f,{flat:c})}this._addSymbols(e.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[l,i]of o)for(const s of i)if(e(s.unique)){const e=this._createUnique();s.unique=e,e.tileSymbols.push(s);let o=this._uniqueSymbolsReferences.get(l);o||(o=new Set,this._uniqueSymbolsReferences.set(l,o)),o.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,c=r.hash;for(const e of t)if(c===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{r as SymbolRepository};\n"],"sourceRoot":""}