{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/symbols/cim/SDFHelper.js","webpack:///./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js","webpack:///./node_modules/@arcgis/core/symbols/cim/effects/CIMEffectHelper.js","webpack:///./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js","webpack:///./node_modules/@arcgis/core/symbols/cim/Rasterizer.js"],"names":["r","t","type","n","symbolLayers","length","o","markerGraphics","l","geometry","e","symbol","some","effects","geom","asFill","rings","paths","xmin","ymin","xmax","ymax","s","i","f","a","m","u","c","y","Math","floor","h","max","x","round","M","g","p","d","width","height","push","Array","sqrt","Uint8Array","S","getLogger","v","N","b","k","C","toLowerCase","indexOf","style","weight","O","underline","strikethrough","P","markerPlacement","angleToLine","async","I","error","primitiveOverrides","valueExpressionInfo","expression","spatialReference","fields","then","primitiveName","propertyName","value","Promise","all","K","L","getSize","angleAlignment","enable","findApplicableOverrides","w","X","z","J","H","Y","R","A","$","color","V","JSON","stringify","toString","templateHash","materialHash","cim","materialOverrides","colorLocked","U","G","angle","offsetX","offsetY","scaleX","tintColor","url","colorSubstitutions","getResource","rotation","filter","separation","lineSymbol","B","capStyle","joinStyle","miterLimit","lineDashEnding","pop","dashTemplate","scaleDash","isOutline","cap","join","referenceWidth","zOrder","E","name","stepY","shiftOddRows","gridAngle","size","anchorPoint","scaleSymbolsProportionally","alignment","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","rotateClockwise","referenceSize","sizeRatio","frame","j","F","fontStyleName","fontFamilyName","font","family","decoration","getFillColor","getStrokeColor","getStrokeWidth","haloSymbol","haloSize","W","T","Number","D","textString","textCase","q","match","fontName","horizontalAlignment","verticalAlignment","text","outlineSize","_","applyEffects","path","getTextureAnchor","billboardMode3D","depth3D","respectFrame","clippingPath","parseInt","substr","NaN","toRgba","call","$view","geometryType","fn","buildOverrideKey","parse","applyOverrides","fetchResource","execute","next","Legend","Preview","targetSize","scaleFactor","fill","legend","canvasPaths","preview","stroke","this","_spatialReference","_avoidSDF","_resourceCache","Map","_pictureMarkerCache","_textRasterizer","_cimResourceManager","_rasterizer","centroid","analyzeCIMSymbol","attributes","rasterizeCIMSymbol","data","fetchPictureMarkerResource","get","responseType","signal","set","_getRasterizedResource","anchorX","anchorY","rotateClockWise","rasterizedResource","getSymbolImage","document","createElement","getContext","sin","PI","cos","min","createImageData","Uint8ClampedArray","image","buffer","rasterizedImage","_imageDataToCanvas","save","translate","rotate","drawImage","restore","imageData","getImageData","anchorPosition","_imageDataCanvas","putImageData","fillStyle","toHex","globalCompositeOperation","fillRect","Uint32Array","_getPictureResource","_rasterizePictureResource","analyzedCIM","hash","_embedCIMLayerInVectorMarker","rasterizeJSONResource","mosaicHash","_rasterizeTextResource","sdf","simplePattern","preserveOutlineWidth","has","window","devicePixelRatio","halo","pixelRatio","premultiplyColors","rasterizeText","createPattern","setTransform","m11","m12","m21","m22","m41","m42","strokeStyle","lineWidth","beginPath","moveTo","lineTo","closePath","apply","_imageTo32Array","Object","keys","map","alias","_resourceManager","_rasterizationCanvas","rasterizeSimpleFill","rasterizeSimpleLine","fromSimpleMarker","fromCIMHatchFill","fromCIMInsidePolygon","rasterize","ImageData","setAttribute","oldColor","newColor"],"mappings":"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","file":"js/chunk-1b4b77ea.5ba55ed8.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../core/floatRGBA.js\";import{isExtent as n}from\"../../geometry/support/jsonUtils.js\";import o from\"./Rect.js\";function r(t){if(!t)return null;switch(t.type){case\"CIMPointSymbol\":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case\"CIMVectorMarker\":{var n;const o=t.markerGraphics;if(!o||1!==o.length)return null;const r=o[0];if(!r)return null;const l=r.geometry;if(!l)return null;const e=r.symbol;return!e||\"CIMPolygonSymbol\"!==e.type&&\"CIMLineSymbol\"!==e.type||null!=(n=e.symbolLayers)&&n.some((t=>!!t.effects))?null:{geom:l,asFill:\"CIMPolygonSymbol\"===e.type}}case\"sdf\":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||\"CIMPolygonSymbol\"!==r.type&&\"CIMLineSymbol\"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function s(t){let n=1/0,r=-1/0,l=1/0,e=-1/0;for(const o of t)for(const t of o)t[0]<n&&(n=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new o(n,l,r-n,e-l)}function i(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(t){return t?t.rings?i(t.rings):t.paths?i(t.paths):n(t)?[t.xmin,t.ymin,t.xmax,t.ymax]:null:null}function a(t,n,o,r,l){const[e,s,i,f]=t;if(i<e||f<s)return[0,0,0];const a=i-e,m=f-s,u=128,c=1,y=Math.floor(.5*(.5*u-c)),h=(u-2*(y+c))/Math.max(a,m),x=Math.round(a*h)+2*y,M=Math.round(m*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=s,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function m(t){const n=e(t.geom),o=s(n),r=128,l=1,i=Math.floor(.5*(.5*r-l)),f=(r-2*(i+l))/Math.max(o.width,o.height),a=Math.round(o.width*f)+2*i,m=Math.round(o.height*f)+2*i,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const r of e){let[l,e]=r;l-=o.x,e-=o.y,l*=f,e*=f,l+=i-.5,e+=i-.5,t.asFill?n.push([l,e]):n.push([Math.round(l),Math.round(e)])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=u(h,a,m,i);return t.asFill&&c(h,a,m,i,x),[y(x,i),a,m]}function u(t,n,o,r){const l=n*o,e=new Array(l),s=r*r+1;for(let i=0;i<l;++i)e[i]=s;for(const i of t){const t=i.length;for(let l=1;l<t;++l){const t=i[l-1],s=i[l];let f,a,m,u;t[0]<s[0]?(f=t[0],a=s[0]):(f=s[0],a=t[0]),t[1]<s[1]?(m=t[1],u=s[1]):(m=s[1],u=t[1]);let c=Math.floor(f)-r,y=Math.floor(a)+r,h=Math.floor(m)-r,x=Math.floor(u)+r;c<0&&(c=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=s[0]-t[0],g=s[1]-t[1],p=M*M+g*g;for(let r=c;r<y;r++)for(let l=h;l<x;l++){let i,f,a=(r-t[0])*M+(l-t[1])*g;a<0?(i=t[0],f=t[1]):a>p?(i=s[0],f=s[1]):(a/=p,i=t[0]+a*M,f=t[1]+a*g);const m=(r-i)*(r-i)+(l-f)*(l-f),u=(o-l-1)*n+r;m<e[u]&&(e[u]=m)}}}for(let i=0;i<l;++i)e[i]=Math.sqrt(e[i]);return e}function c(t,n,o,r,l){for(const e of t){const t=e.length;for(let s=1;s<t;++s){const t=e[s-1],i=e[s];let f,a,m,u;t[0]<i[0]?(f=t[0],a=i[0]):(f=i[0],a=t[0]),t[1]<i[1]?(m=t[1],u=i[1]):(m=i[1],u=t[1]);let c=Math.floor(f),y=Math.floor(a)+1,h=Math.floor(m),x=Math.floor(u)+1;c<r&&(c=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==i[1]>e)continue;const s=(o-e-1)*n;for(let n=c;n<y;++n)n<(i[0]-t[0])*(e-t[1])/(i[1]-t[1])+t[0]&&(l[s+n]=-l[s+n]);for(let t=r;t<c;++t)l[s+t]=-l[s+t]}}}}function y(n,o){const r=2*o,l=n.length,e=new Uint8Array(4*l);for(let s=0;s<l;++s){const o=.5-n[s]/r;t(o,e,4*s)}return e}export{m as buildSDF,f as getExtent,r as getSDFInfo,a as getSDFMetrics,l as getSDFSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Logger.js\";import{isSome as i}from\"../../core/maybe.js\";import{pt2px as o}from\"../../core/screenUtils.js\";import{numericHash as r}from\"../../core/string.js\";import{createRendererExpression as n,ArcadeExpression as a}from\"../../support/arcadeOnDemand.js\";import{CIMSymbolHelper as l,OverrideHelper as s}from\"./CIMSymbolHelper.js\";import{getExtent as c,getSDFMetrics as f}from\"./SDFHelper.js\";import{fromCIMColor as m,getValue as p,toKebabCase as u,_adjustTextCase as h,evaluateValueOrFunction as y}from\"./utils.js\";import{CIMEffectHelper as g}from\"./effects/CIMEffectHelper.js\";import d from\"../../views/2d/arcade/callExpressionWithFeature.js\";const S=t.getLogger(\"esri.symbols.cim.cimAnalyzer\");function v(e){switch(e){case\"Butt\":return 0;case\"Square\":return 2;default:return 1}}function N(e){switch(e){case\"Bevel\":return 0;case\"Miter\":return 2;default:return 1}}function b(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":return\"center\";case\"Justify\":return\"justify\"}}function k(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function C(e){let t=\"\",i=\"\";if(e){const o=e.toLowerCase();-1!==o.indexOf(\"italic\")?t=\"italic\":-1!==o.indexOf(\"oblique\")&&(t=\"oblique\"),-1!==o.indexOf(\"bold\")?i=\"bold\":-1!==o.indexOf(\"light\")&&(i=\"lighter\")}return{style:t,weight:i}}function O(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function P(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function M(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function I(e,t,i,o,r){const a=null!=o?o:[];if(!e)return a;let l,s;const c={};if(\"CIMSymbolReference\"!==e.type)return S.error(\"Expect cim type to be 'CIMSymbolReference'\"),a;if(l=e.symbol,s=e.primitiveOverrides,s){const e=[];for(const i of s){const o=i.valueExpressionInfo;if(o&&t){const r=o.expression,a=n(r,t.spatialReference,t.fields).then((e=>{e&&P(c,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&P(c,i.primitiveName,i.propertyName,i.value)}e.length>0&&await Promise.all(e)}const f=[];switch(K(l,i,f),f.length>0&&await Promise.all(f),l.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":L(l,s,c,t,a,i,r)}return a}function L(e,t,i,o,r,n,a){if(!e)return;const c=e.symbolLayers;if(!c)return;const f=e.effects;let m;const p=l.getSize(e);\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(m=1);let u=c.length;for(;u--;){const l=c[u];if(!l||!1===l.enable)continue;let h;f&&f.length&&(h=[...f]);const y=l.effects;y&&y.length&&(f?h.push(...y):h=[...y]);const g=[];switch(s.findApplicableOverrides(l,t,g),l.type){case\"CIMSolidFill\":w(l,h,i,g,o,r);break;case\"CIMPictureFill\":X(l,h,i,g,o,n,r);break;case\"CIMHatchFill\":z(l,h,i,g,o,r);break;case\"CIMGradientFill\":x(l,h,i,g,o,r);break;case\"CIMSolidStroke\":J(l,h,i,g,o,r,\"CIMPolygonSymbol\"===e.type,p);break;case\"CIMPictureStroke\":H(l,h,i,g,o,r,\"CIMPolygonSymbol\"===e.type,p);break;case\"CIMGradientStroke\":Y(l,h,i,g,o,r,\"CIMPolygonSymbol\"===e.type,p);break;case\"CIMCharacterMarker\":if(R(l,h,i,g,o,r))break;break;case\"CIMPictureMarker\":if(R(l,h,i,g,o,r))break;\"CIMLineSymbol\"===e.type&&(m=M(l)),A(l,h,i,g,o,n,r,m,p);break;case\"CIMVectorMarker\":if(R(l,h,i,g,o,r))break;\"CIMLineSymbol\"===e.type&&(m=M(l)),$(l,h,i,g,o,r,n,m,p,a);break;default:S.error(\"Cannot analyze CIM layer\",l.type)}}}function w(e,t,i,o,n,a){const l=e.primitiveName,s=m(e.color),[c,f]=V(o,l),p=r(JSON.stringify(e)+f).toString();a.push({type:\"fill\",templateHash:p,materialHash:c?()=>p:p,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:U(l,i,\"Color\",n,s,G),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t})}function X(e,t,o,n,a,l,s){const c=e.primitiveName,f=e.tintColor?m(e.tintColor):{r:255,g:255,b:255,a:1},[u,h]=V(n,c),y=r(JSON.stringify(e)+h).toString(),g=r(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString();let d=p(e.scaleX);if(\"width\"in e){const t=e.width;let o=1;const r=l.getResource(e.url);i(r)&&(o=r.width/r.height),d/=o*(e.height/t)}s.push({type:\"fill\",templateHash:y,materialHash:u?()=>g:g,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:t,color:U(c,o,\"TintColor\",a,f,G),height:U(c,o,\"Height\",a,e.height),scaleX:U(c,o,\"ScaleX\",a,d),angle:U(c,o,\"Rotation\",a,p(e.rotation)),offsetX:U(c,o,\"OffsetX\",a,p(e.offsetX)),offsetY:U(c,o,\"OffsetY\",a,p(e.offsetY)),url:e.url})}function z(e,t,i,o,n,a){const l=[\"Rotation\",\"OffsetX\",\"OffsetY\"],s=o.filter((t=>t.primitiveName!==e.primitiveName&&-1===l.indexOf(t.propertyName))),c=e.primitiveName,[f,m]=V(o,c),u=r(JSON.stringify(e)+m).toString(),h=r(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();a.push({type:\"fill\",templateHash:u,materialHash:f?B(h,i,s,n):h,cim:e,materialOverrides:s,colorLocked:e.colorLocked,effects:t,color:{r:255,g:255,b:255,a:1},height:U(c,i,\"Separation\",n,e.separation),scaleX:1,angle:U(c,i,\"Rotation\",n,p(e.rotation)),offsetX:U(c,i,\"OffsetX\",n,p(e.offsetX)),offsetY:U(c,i,\"OffsetY\",n,p(e.offsetY))})}function x(e,t,i,o,n,a){const l=e.primitiveName,[s,c]=V(o,l),f=r(JSON.stringify(e)+c).toString();a.push({type:\"fill\",templateHash:f,materialHash:s?B(f,i,o,n):f,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:t,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function J(e,t,i,o,n,a,l,s){const c=e.primitiveName,f=m(e.color),p=void 0!==e.width?e.width:4,u=v(e.capStyle),h=N(e.joinStyle),y=e.miterLimit,[g,d]=V(o,c),S=r(JSON.stringify(e)+d).toString();let b,k;if(t&&t.length>0){const i=t[t.length-1];if(\"CIMGeometricEffectDashes\"===i.type&&\"NoConstraint\"===i.lineDashEnding){const i=(t=[...e.effects]).pop();b=i.dashTemplate,k=i.scaleDash}}a.push({type:\"line\",templateHash:S,materialHash:g?()=>S:S,cim:e,materialOverrides:null,isOutline:l,colorLocked:e.colorLocked,effects:t,color:U(c,i,\"Color\",n,f,G),width:U(c,i,\"Width\",n,p),cap:U(c,i,\"CapStyle\",n,u),join:U(c,i,\"JoinStyle\",n,h),miterLimit:U(c,i,\"MiterLimit\",n,y),referenceWidth:s,zOrder:E(e.name),dashTemplate:b,scaleDash:k})}function H(e,t,i,o,n,a,l,s){const c=r(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),f=e.primitiveName,p=m(e.tintColor),u=void 0!==e.width?e.width:4,h=v(e.capStyle),y=N(e.joinStyle),g=e.miterLimit,[d,S]=V(o,f),b=r(JSON.stringify(e)+S).toString();a.push({type:\"line\",templateHash:b,materialHash:d?()=>c:c,cim:e,materialOverrides:null,isOutline:l,colorLocked:e.colorLocked,effects:t,color:U(f,i,\"TintColor\",n,p,G),width:U(f,i,\"Width\",n,u),cap:U(f,i,\"CapStyle\",n,h),join:U(f,i,\"JoinStyle\",n,y),miterLimit:U(f,i,\"MiterLimit\",n,g),referenceWidth:s,zOrder:E(e.name),dashTemplate:null,scaleDash:!1,url:e.url})}function Y(e,t,i,o,n,a,l,s){const c=e.primitiveName,f=void 0!==e.width?e.width:4,m=v(e.capStyle),p=N(e.joinStyle),u=e.miterLimit,[h,y]=V(o,c),g=r(JSON.stringify(e)+y).toString();a.push({type:\"line\",templateHash:g,materialHash:h?B(g,i,o,n):g,cim:e,materialOverrides:null,isOutline:l,colorLocked:e.colorLocked,effects:t,color:{r:128,g:128,b:128,a:1},width:U(c,i,\"Width\",n,f),cap:U(c,i,\"CapStyle\",n,m),join:U(c,i,\"JoinStyle\",n,p),miterLimit:U(c,i,\"MiterLimit\",n,u),referenceWidth:s,zOrder:E(e.name),dashTemplate:null,scaleDash:!1})}function R(e,t,i,o,n,a){const l=e.markerPlacement;if(!l||\"CIMMarkerPlacementInsidePolygon\"!==l.type)return!1;const s=l,c=[\"Rotation\",\"OffsetX\",\"OffsetY\"],f=o.filter((t=>t.primitiveName!==e.primitiveName&&-1===c.indexOf(t.propertyName))),m=\"url\"in e?e.url:null,[u,h]=V(o,s.primitiveName),y=r(JSON.stringify(e)+h).toString();let g=s.stepY,d=null,S=1;return l.shiftOddRows&&(g*=2,d=function(e){return e?2*e:0},S=.5),a.push({type:\"fill\",templateHash:y,materialHash:u?B(y,i,f,n):y,cim:e,materialOverrides:f,colorLocked:e.colorLocked,effects:t,color:{r:255,g:255,b:255,a:1},height:U(s.primitiveName,i,\"StepY\",n,g,d),scaleX:S,angle:U(s.primitiveName,i,\"GridAngle\",n,s.gridAngle),offsetX:U(s.primitiveName,i,\"OffsetX\",n,p(s.offsetX)),offsetY:U(s.primitiveName,i,\"OffsetY\",n,p(s.offsetY)),url:m}),!0}function A(e,t,o,n,a,l,s,c,f){var u;const h=e.primitiveName,y=p(e.size);let g=p(e.scaleX);const d=p(e.rotation),S=p(e.offsetX),v=p(e.offsetY),N=e.tintColor?m(e.tintColor):{r:255,g:255,b:255,a:1},b=r(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),[k,C]=V(n,h),O=r(JSON.stringify(e)+C).toString(),P=null!=(u=e.anchorPoint)?u:{x:0,y:0};if(\"width\"in e){const t=e.width;let o=1;const r=l.getResource(e.url);i(r)&&(o=r.width/r.height),g/=o*(y/t)}s.push({type:\"marker\",templateHash:O,materialHash:k?()=>b:b,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:t,scaleSymbolsProportionally:!1,alignment:c,size:U(h,o,\"Size\",a,y),scaleX:U(h,o,\"ScaleX\",a,g),rotation:U(h,o,\"Rotation\",a,d),offsetX:U(h,o,\"OffsetX\",a,S),offsetY:U(h,o,\"OffsetY\",a,v),color:U(h,o,\"TintColor\",a,N,G),anchorPoint:{x:P.x,y:-P.y},isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:f,sizeRatio:1,markerPlacement:e.markerPlacement,url:e.url})}function $(e,t,i,o,r,n,a,l,s,c){const f=e.markerGraphics;if(!f)return;let m=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(m=t.ymax-t.ymin)}for(const p of f)if(p){const f=p.symbol;if(!f)continue;switch(f.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":j(e,t,p,o,i,r,n,a,l,s,m,c);break;case\"CIMTextSymbol\":F(e,t,p,i,o,r,n,l,s,m)}}}function F(e,t,i,o,n,a,c,f,g,d){const S=[];s.findApplicableOverrides(i,n,S);const v=i.geometry;if(!(\"x\"in v)||!(\"y\"in v))return;const N=i.symbol,P=O(N),M=C(N.fontStyleName),I=u(N.fontFamilyName);N.font={family:I,decoration:P,...M};const L=e.frame,w=v.x-.5*(L.xmin+L.xmax),X=v.y-.5*(L.ymin+L.ymax),z=e.size/d,x=e.primitiveName,J=p(N.height)*z,H=p(N.angle),Y=(p(N.offsetX)+w)*z,R=(p(N.offsetY)+X)*z,A=m(l.getFillColor(N));let $=m(l.getStrokeColor(N)),F=l.getStrokeWidth(N);F||($=m(l.getFillColor(N.haloSymbol)),F=N.haloSize*z);const[j,W]=V(n,x),T=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),D=r(JSON.stringify(i)+T+W).toString(),E=U(i.primitiveName,o,\"TextString\",a,i.textString,h,N.textCase),{fontStyleName:G}=N,B=I+(G?\"-\"+G.toLowerCase():\"-regular\"),q=B;c.push({type:\"text\",templateHash:D,materialHash:j||\"function\"==typeof E||E.match(/\\[(.*?)\\]/)?(e,t,i)=>q+\"-\"+y(E,e,t,i):q+\"-\"+r(E),cim:N,materialOverrides:null,colorLocked:e.colorLocked,effects:t,alignment:f,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,fontName:B,decoration:P,weight:U(x,o,\"Weight\",a,M.weight),style:U(x,o,\"Size\",a,M.style),size:U(x,o,\"Size\",a,J),angle:U(x,o,\"Rotation\",a,H),offsetX:U(x,o,\"OffsetX\",a,Y),offsetY:U(x,o,\"OffsetY\",a,R),horizontalAlignment:b(N.horizontalAlignment),verticalAlignment:k(N.verticalAlignment),text:E,color:A,outlineColor:$,outlineSize:F,referenceSize:g,sizeRatio:1,markerPlacement:e.markerPlacement})}function j(e,t,i,o,n,a,s,u,h,y,d,S){const v=i.symbol,N=v.symbolLayers;if(!N)return;if(S)return void T(e,t,i,n,o,a,s,u,h,y,d);let b=N.length;if(_(N))return void W(e,i,N,o,n,a,s,h,y,d);const k=g.applyEffects(v.effects,i.geometry);if(k)for(;b--;){const S=N[b];if(S&&!1!==S.enable)switch(S.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{var C;const u=g.applyEffects(S.effects,k),v=c(u);if(!v)continue;const[N,b,O]=f(v,e.frame,e.size,e.anchorPoint,\"Relative\"!==e.anchorPointUnits),P=\"CIMSolidFill\"===S.type,M={type:\"sdf\",geom:u,asFill:P},I=e.primitiveName,L=null!=(C=p(e.size))?C:10,w=p(e.rotation),X=p(e.offsetX),z=p(e.offsetY),x=S.path,J=S.primitiveName,H=m(P?l.getFillColor(S):l.getStrokeColor(S)),Y=P?{r:0,g:0,b:0,a:0}:m(l.getStrokeColor(S)),R=l.getStrokeWidth(S);if(!P&&!R)break;let A=!1,$=\"\";for(const e of o)e.primitiveName!==J&&e.primitiveName!==I||(void 0!==e.value?$+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(A=!0));const F=JSON.stringify({...e,markerGraphics:null}),j=r(JSON.stringify(M)+x).toString(),W={type:\"marker\",templateHash:r(JSON.stringify(i)+JSON.stringify(S)+F+$).toString(),materialHash:A?()=>j:j,cim:M,materialOverrides:null,colorLocked:e.colorLocked,effects:t,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:h,anchorPoint:{x:b,y:O},isAbsoluteAnchorPoint:!1,size:U(e.primitiveName,n,\"Size\",a,L),rotation:U(e.primitiveName,n,\"Rotation\",a,w),offsetX:U(e.primitiveName,n,\"OffsetX\",a,X),offsetY:U(e.primitiveName,n,\"OffsetY\",a,z),scaleX:1,frameHeight:d,rotateClockwise:e.rotateClockwise,referenceSize:y,sizeRatio:N,color:U(J,n,\"Color\",a,H,G),outlineColor:U(J,n,\"Color\",a,Y,G),outlineWidth:U(J,n,\"Width\",a,R),markerPlacement:e.markerPlacement,path:x};s.push(W);break}default:T(e,t,i,n,o,a,s,u,h,y,d)}}}function W(e,t,i,o,n,a,s,u,h,y){const g=t.geometry,d=i[0],S=i[1],v=c(g);if(!v)return;const[N,b,k]=f(v,e.frame,e.size,e.anchorPoint,\"Relative\"!==e.anchorPointUnits),C={type:\"sdf\",geom:g,asFill:!0},O=e.primitiveName,P=p(e.size),M=p(e.rotation),I=p(e.offsetX),L=p(e.offsetY),w=S.path,X=S.primitiveName,z=d.primitiveName,x=m(l.getFillColor(S)),J=m(l.getStrokeColor(d)),H=l.getStrokeWidth(d);let Y=!1,R=\"\";for(const r of o)r.primitiveName!==X&&r.primitiveName!==z&&r.primitiveName!==O||(void 0!==r.value?R+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(Y=!0));const A=JSON.stringify({...e,markerGraphics:null}),$=r(JSON.stringify(C)+w).toString(),F={type:\"marker\",templateHash:r(JSON.stringify(t)+JSON.stringify(S)+JSON.stringify(d)+A+R).toString(),materialHash:Y?()=>$:$,cim:C,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:u,anchorPoint:{x:b,y:k},isAbsoluteAnchorPoint:!1,size:U(e.primitiveName,n,\"Size\",a,P),rotation:U(e.primitiveName,n,\"Rotation\",a,M),offsetX:U(e.primitiveName,n,\"OffsetX\",a,I),offsetY:U(e.primitiveName,n,\"OffsetY\",a,L),scaleX:1,frameHeight:y,rotateClockwise:e.rotateClockwise,referenceSize:h,sizeRatio:N,color:U(X,n,\"Color\",a,x,G),outlineColor:U(z,n,\"Color\",a,J,G),outlineWidth:U(z,n,\"Width\",a,H),markerPlacement:e.markerPlacement,path:w};s.push(F)}function T(e,t,i,n,a,s,c,f,m,u,h){const y=D(e,i);let g=[];const d=[\"Rotation\",\"OffsetX\",\"OffsetY\"];g=a.filter((t=>t.primitiveName!==e.primitiveName||-1===d.indexOf(t.propertyName)));let S=\"\";for(const o of a)void 0!==o.value&&(S+=`-${o.primitiveName}-${o.propertyName}-${JSON.stringify(o.value)}`);const[v,N,b]=l.getTextureAnchor(y,f),k=e.primitiveName,C=p(e.rotation),O=p(e.offsetX),P=p(e.offsetY),M=r(JSON.stringify(y)+S).toString(),I={type:\"marker\",templateHash:M,materialHash:0===g.length?M:B(M,n,g,s),cim:y,materialOverrides:g,colorLocked:e.colorLocked,effects:t,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:m,anchorPoint:{x:v,y:N},isAbsoluteAnchorPoint:!1,size:e.size,rotation:U(k,n,\"Rotation\",s,C),offsetX:U(k,n,\"OffsetX\",s,O),offsetY:U(k,n,\"OffsetY\",s,P),color:{r:255,g:255,b:255,a:1},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:h,rotateClockwise:e.rotateClockwise,referenceSize:u,sizeRatio:b/o(e.size),markerPlacement:e.markerPlacement};c.push(I)}function D(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath}}function E(e){if(e&&0===e.indexOf(\"Level_\")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function G(t){if(!t||0===t.length)return null;const i=new e(t).toRgba();return{r:i[0],g:i[1],b:i[2],a:i[3]}}function U(e,t,i,o,r,n,l){const s=t[e];if(s){const e=s[i];if(\"string\"==typeof e||\"number\"==typeof e||e instanceof Array)return n?n.call(null,e,l):e;if(null!=e&&e instanceof a)return(t,i,a)=>{let s=d(e,t,{$view:a},o.geometryType,i);return null!==s&&n&&(s=n.call(null,s,l)),null!==s?s:r}}return r}function B(e,t,i,o){for(const r of i){if(r.valueExpressionInfo){const e=t[r.primitiveName]&&t[r.primitiveName][r.propertyName];e instanceof a&&(r.fn=(t,i,r)=>d(e,t,{$view:r},o.geometryType,i))}}return(t,o,n)=>{for(const e of i)e.fn&&(e.value=e.fn(t,o,n));return r(e+s.buildOverrideKey(i)).toString()}}function q(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return s.applyOverrides(i,t),i}function V(e,t){let i=!1,o=\"\";for(const r of e)r.primitiveName===t&&(void 0!==r.value?o+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(i=!0));return[i,o]}function K(e,t,i){if(e&&t)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":{const o=e.symbolLayers;if(!o)return;for(const e of o)switch(e.type){case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":case\"CIMCharacterMarker\":case\"CIMPictureMarker\":\"url\"in e&&e.url&&i.push(t.fetchResource(e.url,null));break;case\"CIMVectorMarker\":{const o=e.markerGraphics;if(!o)continue;for(const e of o)if(e){const o=e.symbol;o&&K(o,t,i)}}}}}}const _=e=>e&&2===e.length&&e[0].enable&&e[1].enable&&\"CIMSolidStroke\"===e[0].type&&\"CIMSolidFill\"===e[1].type&&!e[0].effects&&!e[1].effects;export{q as analyzeCIMResource,I as analyzeCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isPolyline as t,isPolygon as s}from\"../../../geometry/support/jsonUtils.js\";import{cloneAndDecodeGeometry as e,deltaEncodeGeometry as r}from\"../CIMCursor.js\";import{SimpleGeometryCursor as o}from\"../CIMEffects.js\";import{getEffectOperator as n}from\"../CIMOperators.js\";const c=96/72;class f{static executeEffects(t,s){const r=e(s),f=c;let p=new o(r);for(const e of t){const t=n(e);t&&(p=t.execute(p,e,f,!0))}return p}static next(t){const s=t.next();return r(s),s}static applyEffects(e,r){if(!e)return r;let c=new o(r);for(const t of e){const s=n(t);s&&(c=s.execute(c,t,1,!1))}let f,p=null;for(;f=c.next();)p?t(p)?t(f)&&p.paths.push(...f.paths):s(p)&&s(f)&&p.rings.push(...f.rings):p=f;return p}}export{f as CIMEffectHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../request.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{pt2px as a}from\"../../core/screenUtils.js\";import{numericHash as i}from\"../../core/string.js\";import{getJsonType as s,isPolygon as o,isPolyline as n}from\"../../geometry/support/jsonUtils.js\";import{analyzeCIMSymbol as c,analyzeCIMResource as l}from\"./cimAnalyzer.js\";import m from\"./CIMResourceManager.js\";import h from\"./Rasterizer.js\";import{TextRasterizer as f}from\"./TextRasterizer.js\";import{createLabelOverrideFunction as g,evaluateValueOrFunction as y,colorToArray as u}from\"./utils.js\";import{scaleCIMMarker as p}from\"../support/cimSymbolUtils.js\";import d from\"../support/Symbol3DAnchorPosition2D.js\";var M;!function(e){e.Legend=\"legend\",e.Preview=\"preview\"}(M||(M={}));const C=(e,t,r)=>{if(e&&e.targetSize){let i;if(r){const t=Math.max(r.frame.xmax-r.frame.xmin,r.frame.ymax-r.frame.ymin);i=e.targetSize/a(t)}else i=e.targetSize/t.referenceSize;return i}return e&&e.scaleFactor?e.scaleFactor:1},I={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:2,ymin:-2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:2,ymin:-2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};class z{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._pictureMarkerCache=new Map,this._textRasterizer=new f,this._cimResourceManager=new m,this._rasterizer=new h(this._cimResourceManager)}async rasterizeCIMSymbolAsync(e,t,r,a,i,o,n,c){a=a||(t?null!=t.centroid?\"esriGeometryPolygon\":s(t.geometry):null)||P(e);const l=await this.analyzeCIMSymbol(e,t?x(t.attributes):null,r,a,c);return this.rasterizeCIMSymbol(l,t,a,i,o,n)}async analyzeCIMSymbol(e,t,a,i,s){const o=[],n=t?{geometryType:i,spatialReference:this._spatialReference,fields:t}:null;let l;await c(e.data,n,this._cimResourceManager,o,this._avoidSDF),r(s);for(const r of o)\"CIMPictureMarker\"!==r.cim.type&&\"CIMPictureFill\"!==r.cim.type&&\"CIMPictureStroke\"!==r.cim.type||(l||(l=[]),l.push(this.fetchPictureMarkerResource(r,s))),a&&\"text\"===r.type&&\"string\"==typeof r.text&&r.text.indexOf(\"[\")>-1&&(r.text=g(a,r.text,r.cim.textCase));return l&&await Promise.all(l),o}async fetchPictureMarkerResource(e,r){const a=e.materialHash;if(!this._pictureMarkerCache.get(a)){const i=(await t(e.cim.url,{responseType:\"image\",signal:r&&r.signal})).data;this._pictureMarkerCache.set(a,i)}}rasterizeCIMSymbol(e,t,r,a,i,s){const o=[];for(const n of e){a&&\"function\"==typeof a.scaleFactor&&(a.scaleFactor=a.scaleFactor(t,i,s));const e=this._getRasterizedResource(n,t,r,a,i,s);if(!e)continue;let c=0,l=e.anchorX||0,m=e.anchorY||0,h=!1,f=0,g=0;if(\"esriGeometryPoint\"===r){const e=C(a,n,null);if(f=y(n.offsetX,t,i,s)*e||0,g=y(n.offsetY,t,i,s)*e||0,\"marker\"===n.type)c=y(n.rotation,t,i,s)||0,h=!!n.rotateClockwise&&n.rotateClockwise;else if(\"text\"===n.type){if(c=y(n.angle,t,i,s)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case\"left\":l=-.5;break;case\"right\":l=.5;break;default:l=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case\"top\":m=.5;break;case\"bottom\":m=-.5;break;case\"baseline\":m=-.25;break;default:m=0}}}null!=e&&o.push({angle:c,rotateClockWise:h,anchorX:l,anchorY:m,offsetX:f,offsetY:g,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement(\"canvas\"),r=t.getContext(\"2d\");let i=0,s=0,o=0,n=0;const c=[];for(let f=0;f<e.length;f++){const t=e[f],l=t.rasterizedResource;if(!l)continue;const m=l.size,h=t.offsetX,g=t.offsetY,y=t.anchorX,u=t.anchorY,p=t.rotateClockWise||!1;let d=t.angle,M=a(h)-m[0]*(.5+y),C=a(g)-m[1]*(.5+u),I=M+m[0],z=C+m[1];if(d){p&&(d=-d);const e=Math.sin(d*Math.PI/180),t=Math.cos(d*Math.PI/180),r=M*t-C*e,a=M*e+C*t,i=M*t-z*e,s=M*e+z*t,o=I*t-z*e,n=I*e+z*t,c=I*t-C*e,l=I*e+C*t;M=Math.min(r,i,o,c),C=Math.min(a,s,n,l),I=Math.max(r,i,o,c),z=Math.max(a,s,n,l)}i=M<i?M:i,s=C<s?C:s,o=I>o?I:o,n=z>n?z:n;const x=r.createImageData(l.size[0],l.size[1]);x.data.set(new Uint8ClampedArray(l.image.buffer));const P={offsetX:h,offsetY:g,rotateClockwise:p,angle:d,rasterizedImage:x,anchorX:y,anchorY:u};c.push(P)}t.width=o-i,t.height=n-s;const l=-i,m=n;for(let f=0;f<c.length;f++){const e=c[f],t=this._imageDataToCanvas(e.rasterizedImage),i=e.rasterizedImage.width,s=e.rasterizedImage.height,o=l-i*(.5+e.anchorX),n=m-s*(.5-e.anchorY);if(e.angle){const i=(360-e.angle)*Math.PI/180;r.save(),r.translate(a(e.offsetX),-a(e.offsetY)),r.translate(l,m),r.rotate(i),r.translate(-l,-m),r.drawImage(t,o,n),r.restore()}else r.drawImage(t,o+a(e.offsetX),n-a(e.offsetY))}const h=new d({x:l/t.width-.5,y:m/t.height-.5});return{imageData:0!==t.width&&0!==t.height?r.getImageData(0,0,t.width,t.height):r.createImageData(1,1),anchorPosition:h}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const t=this._imageDataCanvas,r=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,r.putImageData(e,0,0),t}_imageTo32Array(t,r,a,i){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const s=this._imageDataCanvas,o=s.getContext(\"2d\");if(s.width=r,s.height=a,o.drawImage(t,0,0,r,a),i){o.save();const s=new e(i);o.fillStyle=s.toHex(),o.globalCompositeOperation=\"multiply\",o.fillRect(0,0,r,a),o.globalCompositeOperation=\"destination-atop\",o.drawImage(t,0,0,r,a),o.restore()}return new Uint32Array(o.getImageData(0,0,r,a).data.buffer)}_getRasterizedResource(e,t,r,a,s,o){let n,c,l,m,h=null,f=null;if(\"esriGeometryPolyline\"===r||\"esriGeometryPolygon\"===r){const m=a&&a.style?a.style:M.Legend,g=\"esriGeometryPolyline\"===r?I.stroke[m]:I.fill[m];if(\"line\"===e.type){if(\"CIMSolidStroke\"!==e.cim.type){if(\"CIMPictureStroke\"===e.cim.type){const r=y(e.width,t,s,o),a=y(e.color,t,s,o),{image:i,width:n,height:c}=this._getPictureResource(e,r,a);return this._rasterizePictureResource(e,i,n,c,g,r)}return null}({analyzedCIM:n,hash:l}=w(e,t,s,o)),c=this._embedCIMLayerInVectorMarker(n,g)}else if(\"marker\"===e.type){if(\"CIMPictureMarker\"===e.cim.type)return null;if(\"CIMVectorMarker\"!==e.cim.type)return null;e.cim.offsetX=y(e.offsetX,t,s,o),e.cim.offsetY=y(e.offsetY,t,s,o),e.cim.rotation=y(e.rotation,t,s,o),e.cim.markerPlacement=e.markerPlacement,({analyzedCIM:n}=w(e,t,s,o)),l=i(JSON.stringify(n)).toString(),c=this._embedCIMLayerInVectorMarker(n,g),h=y(e.size,t,s,o),f=e.path}else{if(\"text\"===e.type)return null;if(\"fill\"===e.type){if(\"CIMHatchFill\"===e.cim.type||\"CIMVectorMarker\"===e.cim.type||\"CIMPictureMarker\"===e.cim.type||\"CIMPictureFill\"===e.cim.type){const r=e.cim.size||e.cim.height;let a,i,c;if(\"CIMPictureMarker\"===e.cim.type||\"CIMPictureFill\"===e.cim.type)({image:a,width:i,height:c}=this._getPictureResource(e,r,y(e.color,t,s,o)));else{({analyzedCIM:n,hash:l}=w(e,t,s,o));const m=this._rasterizer.rasterizeJSONResource({cim:n,type:e.type,url:e.url,mosaicHash:l,size:r,path:f},1,this._avoidSDF);a=m.image,i=m.size[0],c=m.size[1]}return this._rasterizePictureResource(e,a,i,c,g,null)}if(\"CIMSolidFill\"!==e.cim.type)return null;({analyzedCIM:n,hash:l}=w(e,t,s,o)),c=this._embedCIMLayerInVectorMarker(n,g)}}}else{if(\"text\"===e.type)return m=this._rasterizeTextResource(e,t,a,s,o),m;({analyzedCIM:n,hash:l}=w(e,t,s,o));const r=C(a,e,null);if(\"CIMPictureMarker\"===e.cim.type){const a=y(e.size,t,s,o)*r,{image:i,width:n,height:c}=this._getPictureResource(e,a,y(e.color,t,s,o));return m={image:i,size:[n,c],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},m}p(n,r,{preserveOutlineWidth:!1}),c=n}l+=r,a&&(l+=JSON.stringify(a));const g=this._resourceCache;return g.has(l)?g.get(l):(m=this._rasterizer.rasterizeJSONResource({cim:c,type:e.type,url:e.url,mosaicHash:l,size:h,path:f},window.devicePixelRatio||1,this._avoidSDF),g.set(l,m),m)}_rasterizeTextResource(e,t,r,a,i){const s=C(r,e,null),o=y(e.text,t,a,i);if(!o||0===o.length)return null;const n=y(e.fontName,t,a,i),c=y(e.style,t,a,i),l=y(e.weight,t,a,i),m=y(e.decoration,t,a,i),h=y(e.size,t,a,i)*s,f=y(e.horizontalAlignment,t,a,i),g=y(e.verticalAlignment,t,a,i),p=u(y(e.color,t,a,i)),d=u(y(e.outlineColor,t,a,i)),M={color:p,size:h,horizontalAlignment:f,verticalAlignment:g,font:{family:n,style:c,weight:l,decoration:m},halo:{size:y(e.outlineSize,t,a,i)||0,color:d,style:c},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,M)}_rasterizePictureResource(e,t,r,i,s,c){const l=document.createElement(\"canvas\"),m=l.getContext(\"2d\");l.height=a(Math.max(s.frame.ymax-s.frame.ymin,c)),l.width=a(s.frame.xmax-s.frame.xmin);const h=m.createImageData(r,i);h.data.set(new Uint8ClampedArray(t.buffer));const f=this._imageDataToCanvas(h),g=m.createPattern(f,\"repeat\"),y=Math.cos((-e.cim.rotation||0)*Math.PI/180),u=Math.sin((-e.cim.rotation||0)*Math.PI/180);g.setTransform({m11:y,m12:u,m21:-u,m22:y,m41:a(e.cim.offsetX)||0,m42:a(e.cim.offsetY)||0});const p=s.canvasPaths;let d,M,C;o(p)?(d=p.rings,m.fillStyle=g,M=m.fill,C=[\"evenodd\"]):n(p)&&(d=p.paths,m.strokeStyle=g,m.lineWidth=c,M=m.stroke,d[0][0][1]=l.height/2,d[0][1][1]=l.height/2),m.beginPath();for(const o of d){const e=o?o.length:0;if(e>1){let t=o[0];m.moveTo(a(t[0]),a(t[1]));for(let r=1;r<e;++r)t=o[r],m.lineTo(a(t[0]),a(t[1]));m.closePath()}}M.apply(m,C);const I=m.getImageData(0,0,l.width,l.height),z=new Uint8Array(I.data);return{size:[l.width,l.height],image:new Uint32Array(z.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(e,t,r){const i=this._pictureMarkerCache.get(e.materialHash);if(!i)return null;const s=i.height/i.width,o=t?s>1?a(t):a(t)/s:i.width,n=t?s>1?a(t)*s:a(t):i.height;return{image:this._imageTo32Array(i,o,n,r),width:o,height:n}}_embedCIMLayerInVectorMarker(e,t){const r=o(t.geometry)?\"CIMPolygonSymbol\":\"CIMLineSymbol\",a=t.frame;return{type:\"CIMVectorMarker\",frame:a,size:a.ymax-a.ymin,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:t.geometry,symbol:{type:r,symbolLayers:[e]}}]}}}function x(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:\"string\"==typeof e[t]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})))}function P(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case\"CIMPointSymbol\":case\"CIMTextSymbol\":return\"esriGeometryPoint\";case\"CIMLineSymbol\":return\"esriGeometryPolyline\";case\"CIMPolygonSymbol\":return\"esriGeometryPolygon\";default:return null}}function w(e,t,r,a){let i,s;if(\"function\"==typeof e.materialHash){i=(0,e.materialHash)(t,r,a),s=l(e.cim,e.materialOverrides)}else i=e.materialHash,s=e.cim;return{analyzedCIM:s,hash:i}}export{z as CIMSymbolRasterizer,M as GeometryStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{SymbolHelper as e,slsDashToTemplateArray as t,CIMSymbolHelper as r}from\"./CIMSymbolHelper.js\";import a from\"./Rect.js\";import{getSDFInfo as i,buildSDF as n}from\"./SDFHelper.js\";import{resampleHermite as s}from\"./utils.js\";const o=512;class m{constructor(e){this._resourceManager=e}dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(s,o,m){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),\"simple-fill\"===s.type||\"esriSFS\"===s.type){const[t,r,a]=e.rasterizeSimpleFill(this._rasterizationCanvas,s.style,o);return{size:[r,a],image:new Uint32Array(t.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if(\"simple-line\"===s.type||\"esriSLS\"===s.type||\"line\"===s.type&&s.dashTemplate){let r,a;if(\"simple-line\"===s.type||\"esriSLS\"===s.type)switch(r=t(s.style,s.cap),s.cap){case\"butt\":a=\"Butt\";break;case\"square\":a=\"Square\";break;default:a=\"Round\"}else r=s.dashTemplate,a=s.cim.capStyle;const[i,n,o]=e.rasterizeSimpleLine(r,a);return{size:[n,o],image:new Uint32Array(i.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let l,c,f;if(\"simple-marker\"===s.type||\"esriSMS\"===s.type||\"line-marker\"===s.type?(l=r.fromSimpleMarker(s),f=i(l)):s.cim&&\"CIMHatchFill\"===s.cim.type?(l=r.fromCIMHatchFill(s.cim),c=new a(l.frame.xmin,-l.frame.ymax,l.frame.xmax-l.frame.xmin,l.frame.ymax-l.frame.ymin)):s.cim.markerPlacement&&\"CIMMarkerPlacementInsidePolygon\"===s.cim.markerPlacement.type?(l=r.fromCIMInsidePolygon(s.cim),c=new a(l.frame.xmin,-l.frame.ymax,l.frame.xmax-l.frame.xmin,l.frame.ymax-l.frame.ymin)):(l=s.cim,f=i(l)),f&&!m){const[e,t,r]=n(f);return e?{size:[t,r],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[p,h,u,y,d]=r.rasterize(this._rasterizationCanvas,l,c,this._resourceManager,!m);return p?{size:[h,u],image:new Uint32Array(p.buffer),sdf:!1,simplePattern:!1,anchorX:y,anchorY:d}:null}rasterizeImageResource(e,t,r,a){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;const i=this._rasterizationCanvas.getContext(\"2d\");r instanceof ImageData?i.putImageData(r,0,0):(r.setAttribute(\"width\",`${e}px`),r.setAttribute(\"height\",`${t}px`),i.drawImage(r,0,0,e,t));const n=i.getImageData(0,0,e,t),m=new Uint8Array(n.data);if(a)for(const s of a)if(s&&s.oldColor&&4===s.oldColor.length&&s.newColor&&4===s.newColor.length){const[e,t,r,a]=s.oldColor,[i,n,o,l]=s.newColor;if(e===i&&t===n&&r===o&&a===l)continue;for(let s=0;s<m.length;s+=4)e===m[s]&&t===m[s+1]&&r===m[s+2]&&a===m[s+3]&&(m[s]=i,m[s+1]=n,m[s+2]=o,m[s+3]=l)}let l;for(let s=0;s<m.length;s+=4)l=m[s+3]/255,m[s]=m[s]*l,m[s+1]=m[s+1]*l,m[s+2]=m[s+2]*l;let c=m,f=e,p=t;const h=o;if(f>=h||p>=h){const r=f/p;r>1?(f=h,p=Math.round(h/r)):(p=h,f=Math.round(h*r)),c=new Uint8Array(4*f*p);const a=new Uint8ClampedArray(c.buffer);s(m,e,t,a,f,p,!1)}return{size:[f,p],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}export{m as default};\n"],"sourceRoot":""}