{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/geometry/support/meshUtils/ElevationSamplerWorker.js","webpack:///./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js"],"names":["o","e","n","Array","vertexAttributes","position","s","this","createMeshData","a","invoke","transferList","createIndexThread","result","createPooledRBush","fromJSON","t","Float64Array","r","components","createIndexComponentsThread","map","Uint32Array","createIndexAllThread","length","load","toJSON","i","transform","normal","tangent","spatialReference","buffer","some","faces","minX","Math","min","maxX","max","minY","maxY","p0","p1","p2","h","compareMinX","l","compareMinY","c","toBBox","_maxEntries","_minEntries","ceil","_initFormat","clear","M","prune","X","Y","B","_all","data","p","children","leaf","x","push","pop","insert","_build","slice","height","_splitRoot","_insert","b","indexHint","splice","_condense","pushArray","log","j","sqrt","g","m","d","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","f","_allDistMargin","sort","u","Function","join","deallocator","_","w","super","arguments"],"mappings":"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","file":"js/chunk-a1580416.b0216ee3.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/has.js\";import{isSome as t}from\"../../../core/maybe.js\";import{PooledRBush as r}from\"../../../core/libs/rbush/PooledRBush.js\";import{georeferenceApplyTransform as n}from\"./georeference.js\";class o{async createIndex(e,n){const o=new Array;if(!e.vertexAttributes||!e.vertexAttributes.position)return new r;const s=this.createMeshData(e),a=t(n)?await n.invoke(\"createIndexThread\",s,{transferList:o}):this.createIndexThread(s).result;return this.createPooledRBush().fromJSON(a)}createIndexThread(e){const t=new Float64Array(e.position),r=this.createPooledRBush();return e.components?this.createIndexComponentsThread(r,t,e.components.map((e=>new Uint32Array(e)))):this.createIndexAllThread(r,t)}createIndexAllThread(e,t){const r=new Array(t.length/9);let n=0;for(let o=0;o<t.length;o+=9)r[n++]=s(t,o+0,o+3,o+6);return e.load(r),{result:e.toJSON()}}createIndexComponentsThread(e,t,r){let n=0;for(const s of r)n+=s.length/3;const o=new Array(n);let a=0;for(const i of r)for(let e=0;e<i.length;e+=3)o[a++]=s(t,3*i[e+0],3*i[e+1],3*i[e+2]);return e.load(o),{result:e.toJSON()}}createMeshData(e){const t=(e.transform?n({position:e.vertexAttributes.position,normal:null,tangent:null},e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((e=>!e.faces))?{position:t}:{position:t,components:e.components.map((e=>e.faces))}}createPooledRBush(){return new r(9,e(\"esri-csp-restrictions\")?e=>e:[\".minX\",\".minY\",\".maxX\",\".maxY\"])}}function s(e,t,r,n){return{minX:Math.min(e[t+0],e[r+0],e[n+0]),maxX:Math.max(e[t+0],e[r+0],e[n+0]),minY:Math.min(e[t+1],e[r+1],e[n+1]),maxY:Math.max(e[t+1],e[r+1],e[n+1]),p0:[e[t+0],e[t+1],e[t+2]],p1:[e[r+0],e[r+1],e[r+2]],p2:[e[n+0],e[n+1],e[n+2]]}}export{o as ElevationSamplerWorker,o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this.toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),M.prune(),X.prune(),Y.prune(),B.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this.toBBox;if(p(t,n))for(M.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):M.push(h))}n=M.pop()}}collides(t){let i=this.data;const n=this.toBBox;if(!p(t,i))return!1;for(M.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return!0;M.push(s)}}i=M.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this.toBBox(i);for(Y.clear(),B.clear();s||Y.length>0;){var l;if(!s)s=n(Y.pop()),h=Y.data[Y.length-1],a=null!=(l=B.pop())?l:0,r=!0;if(s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),Y.push(s),this._condense(Y),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(Y.push(s),B.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(X.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else X.pushArray(n.children);n=null!=(e=X.pop())?e:null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this.toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));g(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);g(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this.toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this.toBBox,s=n?t:e(t);Y.clear();const h=this._chooseSubtree(s,this.data,i,Y);for(h.children.push(t),o(h,s);i>=0&&Y.data[i].children.length>this._maxEntries;)this._split(Y,i),i--;this._adjustParentBBoxes(s,Y,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this.toBBox),a(o,this.toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this.toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this.toBBox),o=r(t,a,n,this.toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this.toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this.toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function g(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const M=new e,X=new e,Y=new e,B=new e({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{_ as BBox,h as PooledRBush,h as default};\n"],"sourceRoot":""}