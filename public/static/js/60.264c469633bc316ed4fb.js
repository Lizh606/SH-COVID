(window.webpackJsonp=window.webpackJsonp||[]).push([[60,35],{"1h/9":function(t,e,n){"use strict";var o=n("DNun");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(o("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"2tTd":function(t,e,n){"use strict";var a=n("FCGg");t.exports=a.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var r=[];r.push(t+"="+encodeURIComponent(e)),a.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),a.isString(i)&&r.push("path="+i),a.isString(o)&&r.push("domain="+o),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){t=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"4xec":function(t,e,n){"use strict";t.exports=function(t,e,n,i,o){return t.config=e,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"5Q4p":function(t){t.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/@supermap/vue-iclient-mapboxgl/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/@supermap/vue-iclient-mapboxgl"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.1","_where":"E:\\\\buildAgent\\\\work\\\\dashboard\\\\node_modules\\\\@supermap\\\\vue-iclient-mapboxgl","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},"7VOy":function(t,e,n){"use strict";var o=n("FCGg");function s(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i,n=n?n(e):o.isURLSearchParams(e)?e.toString():(i=[],o.forEach(e,function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),i.push(s(e)+"="+s(t))}))}),i.join("&"));return n&&(-1!==(e=t.indexOf("#"))&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+n),t}},"8n1U":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},ARl4:function(t,e,n){"use strict";var i=n("8n1U"),o=n("ug+o");t.exports=function(t,e){return t&&!i(e)?o(t,e):e}},CsJI:function(t,e,n){"use strict";var i={name:"NothingResult",mixins:[n("oTir").a],props:{data:{type:Array,default:function(){return[]}},prompt:{type:Object},from:{type:String,default:"Search"},pageSize:{type:Number,default:10}},data:function(){return{noResultInfo:{},region:{}}},mounted:function(){this.noResultInfo=this.data.find(function(t){return 2==+t.type})||{}},methods:{searchResult:function(){var t={queryType:"1",queryTerminal:1e4,specifyAdminCode:this.prompt.adminCode};if("Route"===this.from)return t.queryType="7",t.count=this.pageSize,void this.$emit("search-points-result",this.keyWord,t,!0);this.$emit("search-points-result",this.keyWord,t,!1)}}},n=n("KHd+"),i=Object(n.a)(i,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.data?e("div",{staticClass:"search-results-container nothing-results-container sm-component-tdtNoResults"},[e("div",{staticClass:"title"},[t._v("\n    "+t._s(t.$t("tdtResults.on"))+"\n    "),t.prompt?e("span",{staticClass:"region"},[t._v(t._s(t.prompt.name))]):t._e(),t._v("\n    "+t._s(t.$t("tdtResults.searchNoResult"))+"\n  ")]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"data-content"},[t.noResultInfo.DidYouMean?t._e():e("div",{staticClass:"try-content"},[e("p",{staticClass:"label"},[t._v(t._s(t.$t("tdtResults.youCanTry"))+"：")]),t._v(" "),e("div",{staticClass:"data-list"},[e("p",[t._v("1、"+t._s(t.$t("tdtResults.enterCorrect")))]),t._v(" "),e("p",[t._v("2、"+t._s(t.$t("tdtResults.enterOtherKeyWords")))]),t._v(" "),e("p",[t._v("\n            3、"+t._s(t.$t("tdtResults.onTdtMap"))+"\n            "),e("a",{attrs:{href:"https://www.tianditu.gov.cn/feedback/#/newPlace",target:"_bank"}},[t._v("\n              "+t._s(t.$t("tdtResults.addThisAddress"))+"\n            ")])])])]),t._v(" "),t.noResultInfo.DidYouMean?e("div",{staticClass:"didyoumean-content"},[e("p",[t._v("\n          "+t._s(t.$t("tdtResults.uWantTo"))+"：\n          "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:t.searchResult}},[t._v("\n            "+t._s(t.noResultInfo.DidYouMean)+"\n          ")])])]):t._e()])])]):t._e()},[],!1,null,null,null);e.a=i.exports},DNun:function(t,e,n){"use strict";var s=n("4xec");t.exports=function(t,e,n,i,o){t=new Error(t);return s(t,e,n,i,o)}},DUWN:function(t,e,n){"use strict";var o=n("FCGg"),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i={};return t&&o.forEach(t.split("\n"),function(t){n=t.indexOf(":"),e=o.trim(t.substr(0,n)).toLowerCase(),n=o.trim(t.substr(n+1)),e&&(i[e]&&0<=s.indexOf(e)||(i[e]="set-cookie"===e?(i[e]||[]).concat([n]):i[e]?i[e]+", "+n:n))}),i}},FCGg:function(t,e,n){"use strict";var o=n("FMlX"),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function r(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==i.call(t))return!1;t=Object.getPrototypeOf(t);return null===t||t===Object.prototype}function u(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if(s(t="object"!=typeof t?[t]:t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:c,isUndefined:r,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function n(){var i={};function t(t,e){c(i[e])&&c(t)?i[e]=n(i[e],t):c(t)?i[e]=n({},t):s(t)?i[e]=t.slice():i[e]=t}for(var e=0,o=arguments.length;e<o;e++)l(arguments[e],t);return i},extend:function(n,t,i){return l(t,function(t,e){n[e]=i&&"function"==typeof t?o(t,i):t}),n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return t=65279===t.charCodeAt(0)?t.slice(1):t}}},FMlX:function(t,e,n){"use strict";t.exports=function(n,i){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(i,t)}}},K1fN:function(t,e,n){"use strict";var o=n("FCGg"),s=n("wolY");t.exports=function(e,n,t){var i=this||s;return o.forEach(t,function(t){e=t.call(i,e,n)}),e}},NIyM:function(t,e,n){"use strict";var i=n("FCGg"),o=n("FMlX"),s=n("St6Z"),r=n("lXRV");function a(t){var e=new s(t),t=o(s.prototype.request,e);return i.extend(t,s.prototype,e),i.extend(t,e),t}var c=a(n("wolY"));c.Axios=s,c.create=function(t){return a(r(c.defaults,t))},c.Cancel=n("hoEZ"),c.CancelToken=n("c6b0"),c.isCancel=n("vgDi"),c.all=function(t){return Promise.all(t)},c.spread=n("ZB2z"),c.isAxiosError=n("fFaO"),t.exports=c,t.exports.default=c},P1Vz:function(t,e,n){t.exports=n.p+"static/img/sprite.png"},PAl5:function(t){t.exports=JSON.parse('{"buoy-icon-1":{"width":26,"height":30,"x":318,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-2":{"width":26,"height":30,"x":348,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-3":{"width":26,"height":30,"x":378,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-4":{"width":26,"height":30,"x":408,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-5":{"width":26,"height":30,"x":438,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-6":{"width":26,"height":30,"x":468,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-7":{"width":26,"height":30,"x":498,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-8":{"width":26,"height":30,"x":528,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-9":{"width":26,"height":30,"x":558,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-10":{"width":26,"height":30,"x":588,"y":117,"pixelRatio":1,"visible":true},"buoy-icon-active-1":{"width":26,"height":30,"x":316,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-2":{"width":26,"height":30,"x":346,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-3":{"width":26,"height":30,"x":376,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-4":{"width":26,"height":30,"x":406,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-5":{"width":26,"height":30,"x":436,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-6":{"width":26,"height":30,"x":466,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-7":{"width":26,"height":30,"x":496,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-8":{"width":26,"height":30,"x":526,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-9":{"width":26,"height":30,"x":556,"y":77,"pixelRatio":1,"visible":true},"buoy-icon-active-10":{"width":26,"height":30,"x":586,"y":77,"pixelRatio":1,"visible":true}}')},"QQE/":function(t,e,n){"use strict";n.r(e);var i=n("oTir"),o=n("CKgU"),s=n("rn6b"),r=n("hdLw"),a=n.n(r),c=n("ytCg"),u=n("VWg+"),l=n("dnTh"),p=n("kzZv");function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=y(n);return function(t,e){{if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,i?(t=y(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(o,a.a.Evented);var t,e,n,i=v(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).options=t||{},e.groupLineList={},e.data=t.data,e.searchResultPoints=c.h.searchResultPoints,e.searchResultLine=c.h.searchResultLine,e.searchResultPolygon=c.h.searchResultPolygon,e.searchResultPointsOfLine=c.h.searchResultPointsOfLine,e}return t=o,(e=[{key:"setMap",value:function(t){t=t.map;if(!t)return new Error("Cannot find map");this.map=t,this.registerEvents()}},{key:"registerEvents",value:function(){this.registerPointsEvent(),this.registerLinesEvent()}},{key:"registerPointsEvent",value:function(){var n=this;this.map.on("click",this.searchResultPoints,function(t){var e=t.features[0].properties;n.showPointPopup(t.lngLat,e)}),this.map.on("mouseenter",this.searchResultPoints,function(){n.map.getCanvas().style.cursor="pointer"}),this.map.on("mouseleave",this.searchResultPoints,function(){n.map.getCanvas().style.cursor=""})}},{key:"registerLinesEvent",value:function(){var n=this;this.map.on("click","".concat(this.searchResultPointsOfLine,"-stroke"),function(t){var e=t.features[0].properties;n.showPointPopup(t.lngLat,e,"LineString")}),this.map.on("mouseenter","".concat(this.searchResultPointsOfLine,"-stroke"),function(t){n.map.getCanvas().style.cursor="pointer",n.showLineHoverPopup(t)}),this.map.on("mouseleave","".concat(this.searchResultPointsOfLine,"-stroke"),function(){n.map.getCanvas().style.cursor="",n._removeHoverPopup()})}},{key:"showPointPopup",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Point";this._removeResultPopup();e=this._getPopupContent(n,e);this.resultPopup=new a.a.Popup({anchor:"bottom",offset:[0,-10],className:"tdt-search-popup"}).setLngLat(t).setDOMContent(e).addTo(this.map),this.map.easeTo({center:t})}},{key:"showLineHoverPopup",value:function(t){var e=t.features[0].geometry.coordinates.slice(),t=t.features[0].properties,t="\n    <div class='hover-popup'>\n      <div class='properties-name'>\n      ".concat(t.name,"\n      </div>\n    </div>");this.hoverPopup=new a.a.Popup({closeButton:!1,offset:[0,-10],className:"tdt-search-line-hover-popup"}).setLngLat(e).setHTML(t).addTo(this.map)}},{key:"setData",value:function(t){this.data=Object.assign(this.data,t),this.style=0}},{key:"_getPopupContent",value:function(t,e){var n=this,i=document.createElement("div");i.className="popup-container",i.innerHTML='\n      <div class="title" title='.concat(e.name,'>\n        <div class="region">').concat(e.name,"</div>\n      </div>\n    ");var o=document.createElement("div");o.className="content",o.innerHTML="\n      ".concat("Point"===t?'<div>\n          <div class="phone">'.concat(Object(p.b)().t("tdtSearch.phone"),"： ").concat(e.phone||Object(p.b)().t("tdtSearch.noData"),'</div>\n          <div class="address">').concat(Object(p.b)().t("tdtSearch.address"),"： ").concat(e.address||Object(p.b)().t("tdtSearch.noData"),"</div>\n        </div>"):"","\n      ").concat("LineString"===t?'<div>\n        <div class="address">'.concat(Object(p.b)().t("tdtSearch.transport"),"： ").concat(e.address||Object(p.b)().t("tdtSearch.noData"),"</div>\n      </div>"):"","\n    ");var s=document.createElement("div");s.className="operate-group";var r=document.createElement("div");r.className="start-item",r.onclick=function(){return n._setPosition("start",e)},r.innerHTML="<span>设为起点</span>";t=document.createElement("div");return t.className="end-item",t.onclick=function(){return n._setPosition("end",e)},t.innerHTML="<span>设为终点</span>",s.appendChild(r),s.appendChild(t),i.appendChild(o),i}},{key:"_setPosition",value:function(t,e){var n=e.name,i=e.lonlat,e=(e=i.split(" ")).length<2?i.split(","):e;this._transformMsg(t,[+e[0],+e[1]],n)}},{key:"_transformMsg",value:function(t,e,n){e&&(n?this._resetPoint(t,n,e):this._getPointInfo(t,e))}},{key:"_getPointInfo",value:function(e,n){var i=this,t=c.c.GEOCODE_URL,o={lon:n[0],lat:n[1],ver:1},o={postStr:JSON.stringify(o),type:"geocode",tk:this.options.data.tk};Object(c.f)(t,o).then(function(t){t=t.result.addressComponent,t=i._convertName(void 0===t?{}:t);i._resetPoint(e,t,n)})}},{key:"_resetPoint",value:function(t,e,n){var i=(d(i={},t,e),d(i,{start:"startLnglat",end:"endLnglat"}[t],n),i);this.fire("reset-position",{data:i})}},{key:"_convertName",value:function(t){var e=t.poi,n=t.poi_distance,i=t.road,t=t.road_distance;return e&&n?t<n?10<t?"".concat(i,"附近"):i:10<n?"".concat(e,"附近"):e:"未知地点"}},{key:"search",value:function(t,e){return this.keyWord=t,this._searchFromTianditu(e)}},{key:"_searchFromTianditu",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this.options.data||{},n={keyWord:this.keyWord,queryType:"4",start:"0",count:"10",level:Math.round(this.map.getZoom())+1,mapBound:this._toBBoxString()};return Object(c.j)(e.searchUrl||"https://api.tianditu.gov.cn/search",{postStr:JSON.stringify(Object.assign({},n,t)),type:"query",tk:e.tk}).then(function(t){if(+t.count||!+t.count&&t.prompt)return t}).catch(function(t){t=t&&t.isCancel?null:t;return Promise.reject(t)})}},{key:"_toBBoxString",value:function(){return Object(c.l)(this.map)}},{key:"getFeatureInfo",value:function(t,e){var n=this,i=this.options.resultRender;return this.keyWord=t,this.groupLineList={},this.reset(),this._searchFromTianditu(e).then(function(t){if(n.fire("search-selected-info",{data:t}),!i)return n._showResultToMap(t)})}},{key:"_showResultToMap",value:function(t){var e,n,i,o,s=t.prompt&&t.prompt.find(function(t){return 4==+t.type});return t.pois&&t.pois.length?(n="Point",i=t.pois,e=this._generatePointsFeatures(i),this._addPoints(e)):t.lineData&&t.lineData.length?(n="LineString",i=t.lineData,o=t.lineData[0].uuid,this.showLineDetail(o)):t.area?(n="Polygon",i=t.area,e=this._generateAreaFeatures(t.area),this._addPolygon(e)):i=t.statistics?(n="Statistics",Object(c.e)(t.statistics)):t.prompt,{type:n,result:{count:+t.count,data:i,prompt:((s||{}).admins||[])[0]}}}},{key:"_generatePointsFeatures",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" ";return Object(c.d)(t,e)}},{key:"_generateLinesFeatures",value:function(t){var e=[];return t.linepoint.split(";").forEach(function(t){t=t.split(",");t&&2===t.length&&e.push([+t[0],+t[1]])}),{type:"Feature",properties:t,geometry:{type:"LineString",coordinates:e}}}},{key:"_generateAreaFeatures",value:function(t){var e=t.points;return{type:"Feature",geometry:{type:"Polygon",coordinates:[(((void 0===e?[]:e)[0]||{}).region||"").split(",").map(function(t){t=t.split(" ");return t[0]=+t[0],t[1]=+t[1],t})]},properties:t}}},{key:"showLineDetail",value:function(e){var n=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e&&(this.groupLineList[e]?i&&this._addLines(this._generateLinesFeatures(this.groupLineList[e])):this._transitByUuid(e).then(function(t){t&&(n.groupLineList[e]=t,i&&n._addLines(n._generateLinesFeatures(t)),n.fire("get-transit-data-succeeded",{data:n.groupLineList}))}))}},{key:"_transitByUuid",value:function(t){var e=c.c.BUS_URL,t={postStr:JSON.stringify({uuid:t}),type:"busline",tk:this.options.data.tk};return Object(c.k)(e,t)}},{key:"_addPoints",value:function(t){Object(c.a)(this.map,this.searchResultPoints,t)}},{key:"_addPointsOfLine",value:function(t){var e;t&&this.map&&(e=t,(t=this.map.getSource(this.searchResultPointsOfLine))?t.setData(e):(this.map.addSource(this.searchResultPointsOfLine,{type:"geojson",data:e}),this.map.addLayer({id:"".concat(this.searchResultPointsOfLine,"-fill"),type:"circle",source:this.searchResultPointsOfLine,paint:{"circle-radius":6,"circle-color":"#3385ff"}}),this.map.addLayer({id:"".concat(this.searchResultPointsOfLine,"-stroke"),type:"circle",source:this.searchResultPointsOfLine,paint:{"circle-radius":4,"circle-color":"#fff"}})))}},{key:"_addLines",value:function(t){var e,n,i;t&&this.map&&(e=this.map.getSource(this.searchResultLine),i=t,n="".concat(this.searchResultPointsOfLine,"-fill"),this._addPointsOfLine(this._generatePointsFeatures(t.properties.station||[],",")),e?e.setData(i):(this.map.addSource(this.searchResultLine,{type:"geojson",data:i}),this.map.addLayer({id:this.searchResultLine,type:"line",source:this.searchResultLine,layout:{"line-cap":"round"},paint:{"line-width":8,"line-color":"rgb(92,155,239)","line-opacity":1}},n)),i=Object(u.a)(Object(l.a)(i,1.7)),this.map.fitBounds([[i[0],i[1]],[i[2],i[3]]]))}},{key:"_addPolygon",value:function(t){var e,n,i;t&&this.map&&(e=this.map,t&&e&&(i=t,(n=e.getSource(this.searchResultPolygon))?n.setData(i):(e.addSource(this.searchResultPolygon,{type:"geojson",data:i}),e.addLayer({id:"".concat(this.searchResultPolygon,"-stroke"),type:"line",source:this.searchResultPolygon,layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":3,"line-dasharray":[.6,1.2],"line-color":"#0027eb"}}),e.addLayer({id:this.searchResultPolygon,type:"fill",source:this.searchResultPolygon,layout:{},paint:{"fill-color":"rgb(0, 0, 255)","fill-opacity":.1}})),t=[[(t=t.properties.bound.split(","))[0],t[1]],[t[2],t[3]]],e.fitBounds(t)))}},{key:"setHighlightIcon",value:function(t){Object(c.i)(this.map,this.searchResultPoints,t)}},{key:"_resetSearchSourceData",value:function(){Object(c.g)(this.map)}},{key:"_removeHoverPopup",value:function(){this.hoverPopup&&this.hoverPopup.remove(),this.hoverPopup=null}},{key:"_removeResultPopup",value:function(){this.resultPopup&&this.resultPopup.remove(),this.resultPopup=null}},{key:"reset",value:function(){this._removeResultPopup(),this._resetSearchSourceData()}},{key:"_clearSearchResultLayer",value:function(){Object(c.b)(this.map)}},{key:"removed",value:function(){this.groupLineList={},this.options.resultRender||(this._removeResultPopup(),this._clearSearchResultLayer())}}])&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(),b=n("jDRz"),_={name:"LinedataResult",mixins:[i.a],props:{keyWord:{type:String},count:{type:Number,default:0},data:{type:Array},busData:{type:Object,default:function(){return{}}},prompt:{type:Object}},data:function(){return{detailVisibles:[!0],popupUuid:null}},computed:{stationName:function(){return function(t){return t&&t.replace(/(.+)\(.+/,"$1")}},stationInfo:function(){return function(t){t=t&&t.replace(/.+\((.+)\)/,"$1"),t=t&&t.split("-");return t&&t.length?{start:t[0],dest:t[t.length-1]}:{}}}},watch:{busData:function(){var e=this;this.data.forEach(function(t){t.uuid&&!e.busData[t.uuid]&&e.$emit("show-line-detail",t.uuid,!1)})}},methods:{generatePopup:function(t){this.popupUuid=t.uuid;var e=t.lonlat.split(",");this.$emit("show-point-popup",{coordinates:[+e[0],+e[1]],data:t,from:"LineString"})},searchPointsResult:function(){var t={queryType:"7",queryTerminal:1e4,specifyAdminCode:this.prompt.adminCode};this.$emit("search-points-result",this.keyWord,t,!0)},showLineDetail:function(t,e){var n=new Array(this.data.length).fill(!1);n[e]=!this.detailVisibles[e],(this.detailVisibles=n)[e]?this.$emit("show-line-detail",t):this.$emit("reset-line-source")}}},w=n("KHd+"),P=Object(w.a)(_,function(){var i=this,t=i.$createElement,o=i._self._c||t;return i.data?o("div",{staticClass:"linedata-results-container sm-component-tdtLineResults"},[o("a",{staticClass:"link-to-points",on:{click:i.searchPointsResult}},[i._v("\n    "+i._s(i.$t("tdtResults.relateAdress",{keyWord:i.keyWord}))+"\n  ")]),i._v(" "),o("div",{staticClass:"title",style:i.secondaryTextColorStyle},[i._v("\n    "+i._s(i.$t("tdtResults.allFound"))+"\n    "),o("span",{staticClass:"total-num"},[i._v(i._s(i.count))]),i._v("\n    "+i._s(i.$t("tdtResults.piecesBusRoute"))+"\n  ")]),i._v(" "),i.data?o("div",{staticClass:"content"},[o("ul",{staticClass:"line-groups"},i._l(i.data,function(e,n){return o("li",{key:e.uuid,class:{"line-item":!0,"active-item":i.detailVisibles[n]}},[o("div",{staticClass:"cover-info",style:i.headingTextColorStyle},[o("div",{staticClass:"name",attrs:{title:i.stationName(e.name)}},[i._v(i._s(i.stationName(e.name)))]),i._v(" "),o("div",{staticClass:"line-info"},[o("div",{staticClass:"description-holder"},[o("i",{staticClass:"sm-components-icon-arrow-dowm-slim"}),i._v(" "),o("div",{staticClass:"description"},[o("div",[i._v(i._s(i.stationInfo(e.name).start))]),i._v(" "),o("div",[i._v(i._s(i.stationInfo(e.name).dest))])])]),i._v(" "),o("p",{staticClass:"time",style:i.secondaryTextColorStyle},[i._v("\n              "+i._s(i.$t("tdtResults.busEndTime"))+"：\n              "),o("span",[i._v(" "+i._s((i.busData[e.uuid]||{}).starttime)+" - "+i._s((i.busData[e.uuid]||{}).endtime)+" ")])])])]),i._v(" "),o("div",{staticClass:"detail-info"},[o("div",{staticClass:"detail-title"},[o("p",{staticClass:"show-details",on:{click:function(t){return i.showLineDetail(e.uuid,n)}}},[o("span",[i._v(i._s(i.$t("tdtResults.showDetail")))]),i._v(" "),o("i",{class:i.detailVisibles[n]?"sm-components-icon-solid-triangle-up":"sm-components-icon-solid-triangle-down"})]),i._v(" "),o("p",{staticClass:"count",style:i.secondaryTextColorStyle},[i._v("\n              "+i._s(i.$t("tdtResults.total"))+"\n              "),o("span",[i._v(i._s(e.stationNum))]),i._v("\n              "+i._s(i.$t("tdtResults.station"))+"\n            ")])]),i._v(" "),i.detailVisibles[n]&&i.busData[e.uuid]?o("ul",{staticClass:"lines"},i._l((i.busData[e.uuid]||{}).station||[],function(e,t){return o("li",{key:e.uuid,class:{"active-station":i.popupUuid===e.uuid},style:i.secondaryTextColorStyle,on:{click:function(t){return i.generatePopup(e)}}},[i._v("\n              "+i._s(t+1+"、"+e.name)+"\n            ")])}),0):i._e()])])}),0)]):i._e()]):i._e()},[],!1,null,null,null).exports,R={name:"AreaResult",props:{data:{type:Object}}},x=Object(w.a)(R,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.data?e("div",{staticClass:"area-results-container sm-component-tdtAreaResults"},[e("div",{staticClass:"title"},[e("i"),t._v("\n    "+t._s(t.$t("tdtResults.switchTo"))+"\n    "),e("span",{staticClass:"name"},[t._v(t._s(t.data.name))])])]):t._e()},[],!1,null,null,null).exports,S=n("wIJs"),r=n("CsJI"),_=n("SqLP"),R=n("QsSW"),C=n("K79h"),i={name:"SmTdtSearch",components:{PointsResult:b.a,LinesResult:P,AreaResult:x,StatisticsResult:S.a,NothingResult:r.a,SmIcon:_.default,SmInput:R.a},mixins:[s.a,o.a,i.a],props:{data:{type:Object,default:function(){return{searchUrl:"https://api.tianditu.gov.cn/search",tk:""}}},mode:{type:String,default:"control",validator:function(t){return-1!==["control","toolBar"].indexOf(t)}},resultRender:{type:Function},collapsed:{type:Boolean,default:!1},splitLine:{type:Boolean,default:!0}},data:function(){return{searchKey:null,searchResult:[],prefixType:"search",isHover:!1,showSearch:!0,showIcon:!1,isInputing:!1,isSuggestion:!1,hoverIndex:void 0,componentId:null,componentProps:{},componentListeners:{},openPurePoiSearch:!1}},computed:{resultSuggestions:function(){return!!this.isSuggestion&&0<this.searchResult.length},showAddress:function(){return function(t,e){return t&&e&&t.length<23&&t.length+e.length<23}}},watch:{data:function(){this.viewModel&&this.viewModel.setData(this.data)}},created:function(){var e=this;this.showSearch=!this.collapsed,this.showIcon=this.collapsed,this.viewModel=new g(this.$props),this.viewModel.on("get-transit-data-succeeded",function(t){t=t.data;e.$set(e.componentProps,"busData",Object.assign({},t))}),this.viewModel.on("search-selected-info",this.searchSelectedInfo)},removed:function(){this.clearResult(!0)},beforeDestroy:function(){C.a.destroy(),this.marker&&this.marker.remove()&&(this.marker=null),this.$options.removed.call(this)},methods:{search:function(t){var e=this;this.clearResult(),this.mapNotLoadedTip()||(this.searchKey?(this.prefixType="loading",this.viewModel.search(this.searchKey,t).then(function(t){t&&t.suggests?e.searchSucceeded(t.suggests):e.searchFailed()}).catch(function(t){t&&e.searchFailed(t)})):C.a.warning(this.$t("search.noKey")))},searchInput:function(){this.isInputing||(this.searchKey?(this.isSuggestion=!0,this.search(!1)):this.inputValueCleared(!1))},searchButtonClicked:function(){this.searchKey?this.getResultDetail(this.searchKey):C.a.warning(this.$t("search.noKey"))},clearResult:function(t){C.a.destroy(),t&&(this.searchKey=null),this.searchResult=[],this.prefixType="search",this.hoverIndex=void 0,this.componentId=null,this.componentProps={},this.componentListeners={}},inputValueCleared:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.clearResult(!0),this.viewModel&&this.viewModel.removed(),t&&this.$emit("clear-search-result")},searchResultListClicked:function(t){this.getResultDetail(t)},getResultDetail:function(t,e,n){var s=this;this.isSuggestion=!1;var r=e||{queryType:"1",queryTerminal:1e4};r.mapBound||(r.mapBound=this.viewModel._toBBoxString());var a=t||this.searchKey;t&&(this.searchKey=t),this.changeOpenPurePoiSearch(n),this.viewModel.getFeatureInfo(t||this.searchKey,r).then(function(t){if(t){var e=t.type,n=t.result,i={data:n.data,prompt:n.prompt,keyWord:a,count:n.count,mapBound:r.mapBound},o={};switch(e){case"Point":s.componentId="PointsResult",i.openPurePoiSearch=s.openPurePoiSearch,i.specifyAdminSearch=r&&!!r.specifyAdminCode,o["show-point-popup"]=s.generatePopup,o["set-highlight-icon"]=s.setHighlightIcon,o["change-pagination"]=s.getResultDetail;break;case"LineString":s.componentId="LinesResult",o["show-point-popup"]=s.generatePopup,o["search-points-result"]=s.getResultDetail,o["show-line-detail"]=s.showLineDetail,o["reset-line-source"]=s.resetSource;break;case"Polygon":s.componentId="AreaResult";break;case"Statistics":s.componentId="StatisticsResult",i.data=n.data.allAdmins,i.priorityCitys=n.data.priorityCitys,o["search-points-result"]=s.getResultDetail;break;default:s.componentId="NothingResult",o["search-points-result"]=s.getResultDetail}s.componentProps=i,s.componentListeners=o}})},searchSucceeded:function(t){C.a.destroy(),this.searchResult=t,this.prefixType="search",this.searchResult.length<1&&C.a.warning(this.$t("search.noResult")),this.$emit("search-succeeded",{searchResult:this.searchResult})},searchFailed:function(t){this.clearResult(),this.prefixType="search",C.a.warning(this.$t("search.noResult")),this.$emit("search-failed",t)},searchSelectedInfo:function(t){t=t.data;this.prefixType="search",this.resultRender&&this.resultRender(t),this.$emit("search-selected-info",t)},isNumber:function(t){return/\d/.test(t)},downChoose:function(){var t=this.searchResult.length,e=this.hoverIndex;this.isNumber(e)&&e<t-1?this.hoverIndex=e+1:this.hoverIndex=0;e=this.searchResult[this.hoverIndex];this.searchKey=e.name},upChoose:function(){var t=this.searchResult.length,e=this.hoverIndex;this.isNumber(e)&&0<e?this.hoverIndex=e-1:this.hoverIndex=Math.max(t-1,0);t=this.searchResult[this.hoverIndex];this.searchKey=t.name},changeResultHover:function(t){t=t.keyCode;this.isSuggestion&&(38===t?this.upChoose():40===t&&this.downChoose())},generatePopup:function(t){var e=t.coordinates,n=t.data,t=t.from;this.viewModel&&this.viewModel.showPointPopup(e,n,t)},setHighlightIcon:function(t){this.viewModel&&this.viewModel.setHighlightIcon(t)},showLineDetail:function(t,e){this.viewModel&&this.viewModel.showLineDetail(t,e)},resetSource:function(){this.viewModel&&this.viewModel.reset()},changeOpenPurePoiSearch:function(t){this.openPurePoiSearch=t}}},i=Object(w.a)(i,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"sm-component-search sm-component-tdtSearch",style:n.headingTextColorStyle},[n.showIcon&&"control"===n.mode?i("div",{staticClass:"sm-component-search__toggle-icon",style:n.collapseCardHeaderBgStyle,on:{click:function(t){n.showSearch=!n.showSearch,n.showIcon=!n.showIcon}}},[i("i",{staticClass:"sm-component-tdtSearch__pointer sm-components-icon-search"})]):n._e(),n._v(" "),i("transition",{attrs:{name:"sm-component-zoom-in"},on:{"after-leave":function(t){n.showIcon=!n.showIcon}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:n.showSearch||"toolBar"===n.mode,expression:"showSearch || mode === 'toolBar'"}],staticClass:"sm-component-search__content sm-component-tdtSearch__content",style:[{"transform-origin":n.position.includes("left")?"top left":"top right"},n.collapseCardHeaderBgStyle]},[i("div",{class:{"sm-component-search__input":!0,"with-split-line":n.splitLine},style:n.collapseCardHeaderBgStyle,attrs:{"aria-orientation":n.position.includes("left")?"left":"right"}},["control"===n.mode?i("div",{staticClass:"sm-component-search__arrow-icon",on:{click:function(t){n.showSearch=!n.showSearch}}},[i("i",{class:n.position.includes("left")?"sm-components-icon-double-left":"sm-components-icon-double-right"})]):n._e(),n._v(" "),i("div",{staticClass:"sm-component-search__search-icon",on:{click:n.searchButtonClicked}},[i("sm-icon",{attrs:{type:n.prefixType}})],1),n._v(" "),i("sm-input",{class:["sm-component-search__a-input",{"toolBar-input":"toolBar"===n.mode}],attrs:{placeholder:n.$t("search.inputPlaceHolder"),allowClear:""},on:{input:n.searchInput,compositionstart:function(t){n.isInputing=!0},compositionend:function(t){n.isInputing=!1},pressEnter:n.searchButtonClicked,mouseenter:function(t){n.isHover=!n.isHover},mouseleave:function(t){n.isHover=!n.isHover},keyup:n.changeResultHover,change:function(t){return!t.target.value&&n.inputValueCleared()}},model:{value:n.searchKey,callback:function(t){n.searchKey=t},expression:"searchKey"}})],1),n._v(" "),i("div",{style:n.collapseCardBackgroundStyle},[n.resultSuggestions?i("div",{staticClass:"sm-component-search__result",style:n.getTextColorStyle},[i("ul",{staticClass:"sm-component-tdtSearch__suggestions",style:n.headingTextColorStyle},n._l(n.searchResult,function(e,t){return i("li",{key:t,class:{active:n.hoverIndex===t,"add-ellipsis":!0},attrs:{title:e.name},on:{click:function(t){return n.searchResultListClicked(e.name)}}},[i("span",{staticClass:"name"},[n._v(n._s(e.name))]),n._v(" "),n.showAddress(e.name,e.address)?i("span",{staticClass:"address",style:n.secondaryTextColorStyle},[n._v(n._s(e.address))]):n._e()])}),0)]):n.componentId?i(n.componentId,n._g(n._b({tag:"component",attrs:{"text-color":n.textColor}},"component",n.componentProps,!1),n.componentListeners)):n._e()],1)])])],1)},[],!1,null,null,null);e.default=i.exports},QsSW:function(t,e,n){"use strict";var i=n("gsT3"),o=n("vZOP"),s=n("ghbr"),r=n("oTir"),a=n("tmJK"),a={mixins:[r.a,a.a],inheritAttrs:!1,model:{prop:"value",event:"change.value"},computed:{extralListeners:function(){var e=this;return{"change.value":function(t){e.$emit("change.value",t)}}}}},n=n("KHd+"),a=Object(n.a)(a,void 0,void 0,!1,null,null,null).exports,s=Object.assign(Object.assign({},o.default),{size:s.a.oneOf(["small","large","default","middle"])}),s={name:"SmInput",defaultComponent:i.default,mixins:[a],props:s,computed:{extralProps:function(){return{size:"middle"===this.size?void 0:this.size}},componentClass:function(){return{"sm-component-input-affix-wrapper-md":"middle"===this.size}}},mounted:function(){var t;"middle"!==this.size||(t=this.$el.querySelector(".sm-component-input"))&&t.classList&&t.classList.add("sm-component-input-md")}},s=Object(n.a)(s,void 0,void 0,!1,null,null,null);e.a=s.exports},R0Iy:function(t,e,n){"use strict";var i=n("FCGg"),o=n("K1fN"),s=n("vgDi"),r=n("wolY");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||r.adapter)(e).then(function(t){return a(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},RO8W:function(t,e,n){"use strict";var i,o,s,r=n("FCGg");function a(t){return o&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}t.exports=r.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),i=a(window.location.href),function(t){t=r.isString(t)?a(t):t;return t.protocol===i.protocol&&t.host===i.host}):function(){return!0}},SqLP:function(t,e,n){"use strict";n.r(e),n.d(e,"iconTypes",function(){return c});var i=n("00x4"),o=n("oTir"),s=n("tmJK"),r=n("ghbr"),a=n("qAG6"),c={tabIndex:r.a.number,type:r.a.string.def("info"),component:r.a.any,viewBox:r.a.any,spin:r.a.bool.def(!1),rotate:r.a.number,theme:r.a.oneOf(["filled","outlined","twoTone"]).def("outlined"),twoToneColor:r.a.string,role:r.a.string,iconStyle:r.a.object,iconClass:r.a.string,autoPrefix:r.a.bool.def(!0)},s={name:"SmIcon",defaultComponent:i.default,mixins:[o.a,s.a],props:c,computed:{customIconClass:function(){return this.autoPrefix?"sm-components-icon-"+this.iconClass:this.iconClass},iconProps:function(){return Object(a.p)(this.componentProps,["iconStyle","iconClass","autoPrefix"])}},render:function(t){var e;return e=this.iconClass?t("i",{class:this.customIconClass}):t(this.getComponentInstance(),{props:this.iconProps,attrs:this.$attrs,on:this.componentListeners,scopedSlots:this.$scopedSlots},this.renderChildren()),t("div",{class:"sm-component-icon",style:this.iconStyle},[e])}},n=n("KHd+"),s=Object(n.a)(s,void 0,void 0,!1,null,null,null);e.default=s.exports},St6Z:function(t,e,n){"use strict";var i=n("FCGg"),o=n("7VOy"),s=n("Tk9n"),l=n("R0Iy"),p=n("lXRV"),h=n("c6h0"),d=h.validators;function r(t){this.defaults=t,this.interceptors={request:new s,response:new s}}r.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=p(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&h.assertOptions(t,{silentJSONParsing:d.transitional(d.boolean,"1.0.0"),forcedJSONParsing:d.transitional(d.boolean,"1.0.0"),clarifyTimeoutError:d.transitional(d.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var o,s=[];if(this.interceptors.response.forEach(function(t){s.push(t.fulfilled,t.rejected)}),!i){var r=[l,void 0];for(Array.prototype.unshift.apply(r,n),r=r.concat(s),o=Promise.resolve(e);r.length;)o=o.then(r.shift(),r.shift());return o}for(var a=e;n.length;){var c=n.shift(),u=n.shift();try{a=c(a)}catch(t){u(t);break}}try{o=l(a)}catch(t){return Promise.reject(t)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},r.prototype.getUri=function(t){return t=p(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(n){r.prototype[n]=function(t,e){return this.request(p(e||{},{method:n,url:t,data:(e||{}).data}))}}),i.forEach(["post","put","patch"],function(i){r.prototype[i]=function(t,e,n){return this.request(p(n||{},{method:i,url:t,data:e}))}}),t.exports=r},Tk9n:function(t,e,n){"use strict";var i=n("FCGg");function o(){this.handlers=[]}o.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=o},"Vi/L":function(t,e,n){"use strict";var l=n("FCGg"),p=n("1h/9"),h=n("2tTd"),d=n("7VOy"),f=n("ARl4"),m=n("DUWN"),v=n("RO8W"),y=n("DNun");t.exports=function(u){return new Promise(function(e,n){var i=u.data,o=u.headers,s=u.responseType;l.isFormData(i)&&delete o["Content-Type"];var t,r=new XMLHttpRequest;u.auth&&(t=u.auth.username||"",a=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"",o.Authorization="Basic "+btoa(t+":"+a));var a=f(u.baseURL,u.url);function c(){var t;r&&(t="getAllResponseHeaders"in r?m(r.getAllResponseHeaders()):null,t={data:s&&"text"!==s&&"json"!==s?r.response:r.responseText,status:r.status,statusText:r.statusText,headers:t,config:u,request:r},p(e,n,t),r=null)}r.open(u.method.toUpperCase(),d(a,u.params,u.paramsSerializer),!0),r.timeout=u.timeout,"onloadend"in r?r.onloadend=c:r.onreadystatechange=function(){r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))&&setTimeout(c)},r.onabort=function(){r&&(n(y("Request aborted",u,"ECONNABORTED",r)),r=null)},r.onerror=function(){n(y("Network Error",u,null,r)),r=null},r.ontimeout=function(){var t="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),n(y(t,u,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",r)),r=null},!l.isStandardBrowserEnv()||(a=(u.withCredentials||v(a))&&u.xsrfCookieName?h.read(u.xsrfCookieName):void 0)&&(o[u.xsrfHeaderName]=a),"setRequestHeader"in r&&l.forEach(o,function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete o[e]:r.setRequestHeader(e,t)}),l.isUndefined(u.withCredentials)||(r.withCredentials=!!u.withCredentials),s&&"json"!==s&&(r.responseType=u.responseType),"function"==typeof u.onDownloadProgress&&r.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&r.upload&&r.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(t){r&&(r.abort(),n(t),r=null)}),i=i||null,r.send(i)})}},ZB2z:function(t,e,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},bOWM:function(t,e,n){t.exports=n("NIyM")},c6b0:function(t,e,n){"use strict";var i=n("hoEZ");function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},t.exports=o},c6h0:function(t,e,n){"use strict";var a=n("5Q4p"),i={};["object","boolean","number","function","string","symbol"].forEach(function(e,n){i[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});var c={},s=a.version.split(".");function u(t,e){for(var n=e?e.split("."):s,i=t.split("."),o=0;o<3;o++){if(n[o]>i[o])return!0;if(n[o]<i[o])return!1}return!1}i.transitional=function(i,o,n){var s=o&&u(o);function r(t,e){return"[Axios v"+a.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(t,e,n){if(!1===i)throw new Error(r(e," has been removed in "+o));return s&&!c[e]&&(c[e]=!0,console.warn(r(e," has been deprecated since v"+o+" and will be removed in the near future"))),!i||i(t,e,n)}},t.exports={isOlderVersion:u,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=Object.keys(t),o=i.length;0<o--;){var s=i[o],r=e[s];if(r){var a=t[s],a=void 0===a||r(a,s,t);if(!0!==a)throw new TypeError("option "+s+" must be "+a)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:i}},fFaO:function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},hoEZ:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},jDRz:function(t,e,n){"use strict";var i=n("oTir"),o={name:"PaginationContainer",mixins:[i.a],props:{total:{type:Number},pageNo:{type:Number,default:1},pageSize:{type:Number,default:10},hideOnSinglePage:{type:Boolean,default:!0}},data:function(){return{showPrevPage:!1,activePage:0,realPage:1,pageList:[],base:4}},computed:{totalPage:function(){return this.total&&Math.ceil(this.total/this.pageSize)},showComponent:function(){return!(!this.total||this.hideOnSinglePage&&this.totalPage<=1)},attrType:function(){return function(t){return t?3===t?"endPage":"serialPage":"startPage"}}},watch:{total:function(){this.calcRenderPages()},pageNo:function(){this.pageNo&&this.initData()}},mounted:function(){this.initData(),this.calcRenderPages()},methods:{initData:function(){var t=this.pageNo%this.base,t=t?t-1:this.base-1;this.activePage=t,this.realPage=this.pageNo},calcRenderPages:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=[],n=this.totalPage;if(n&&t<=n){for(var i=t+(t+this.base>n?n-t:this.base);t<i;)e.push(t+=1);this.pageList=e}},handleClick:function(t){var e=t.target,t=t.srcElement;if("li"===e.nodeName.toLowerCase()){var n=e.innerHTML-1;switch(t.getAttribute("type")){case"home":this.activePage=0,this.realPage=1,this.calcRenderPages();break;case"prevPage":--this.activePage,this.realPage=Math.max(this.realPage-1,1),this.activePage<0&&(this.calcRenderPages(Math.max(this.realPage-this.base,0)),this.activePage=3);break;case"nextPage":this.activePage+=1,this.realPage=Math.min(this.realPage+1,this.totalPage),3<this.activePage&&(this.calcRenderPages(this.realPage-1),this.activePage=0);break;default:this.activePage=n,this.realPage=+e.innerHTML}this.$emit("change",{page:this.realPage,pageSize:this.pageSize})}}}},n=n("KHd+"),i={name:"RouteResult",components:{Pagination:Object(n.a)(o,function(){var n=this,t=n.$createElement,i=n._self._c||t;return n.showComponent?i("div",{staticClass:"sm-component-tdt-pagination pagination-container"},[i("ul",{attrs:{id:"paginationUl"},on:{click:n.handleClick}},[i("li",{staticClass:"home-item",attrs:{type:"home"}},[n._v(n._s(n.$t("tdtResults.homePage")))]),n._v(" "),1!==n.realPage?i("li",{staticClass:"prev-item",attrs:{type:"prevPage"}},[n._v(n._s(n.$t("tdtResults.prevPage")))]):n._e(),n._v(" "),n._l(n.pageList,function(t,e){return i("li",{key:t,class:{"pagination-item":!0,"active-item":e===n.activePage},attrs:{type:n.attrType(e)}},[n._v("\n      "+n._s(t)+"\n    ")])}),n._v(" "),n.realPage!==n.totalPage?i("li",{staticClass:"next-item",attrs:{type:"nextPage"}},[n._v(n._s(n.$t("tdtResults.nextPage")))]):n._e()],2)]):n._e()},[],!1,null,null,null).exports},mixins:[i.a],props:{keyWord:{type:String},from:{type:String,default:"Search"},resultBelongTo:{type:String},data:{type:Array},count:{type:Number,default:0},pageSize:{type:Number,default:10},prompt:{type:Object},openPurePoiSearch:{type:Boolean,default:!1},specifyAdminSearch:{type:Boolean,default:!1},mapBound:{type:String,default:""}},data:function(){return{pageNo:1}},methods:{resetStartPoint:function(t){this.$emit("reset-start-point",t)},resetEndPoint:function(t){this.$emit("reset-end-point",t)},addPointToMap:function(t){var e;"Search"===this.from&&(e=t.lonlat.split(" "),this.$emit("show-point-popup",{coordinates:[+e[0],+e[1]],data:t}))},toggleBuoyActive:function(t,e){var n=t.type,i=t.target,t=i.querySelector(".buoy-icon"),i=i.querySelector(".set-start-point");"mouseenter"===n?(i&&(i.style.display="block"),t&&t.classList.add("buoy-icon-active"),this.setHighlightIcon(e.hotPointID)):(i&&(i.style.display="none"),t&&t.classList.remove("buoy-icon-active"),this.setHighlightIcon())},setHighlightIcon:function(t){this.$emit("set-highlight-icon",t||"")},searchPointsResult:function(t,e){e={queryType:"1",queryTerminal:1e4,start:"".concat((t-1)*e),count:"".concat(e),mapBound:this.mapBound};this.openPurePoiSearch&&(e.queryType="7"),this.specifyAdminSearch&&(e.specifyAdminCode=this.prompt.adminCode),this.$emit("change-pagination",this.keyWord,e,this.openPurePoiSearch)},pagiantionChange:function(t){var e=t.page,t=t.pageSize;this.pageNo=e,this.searchPointsResult(e,t)}}},i=Object(n.a)(i,function(){var i=this,t=i.$createElement,o=i._self._c||t;return i.data?o("div",{staticClass:"sm-component-tdtPointsResults points-result-container"},["Search"===i.from?o("div",{staticClass:"title"},[i._v("\n    "+i._s(i.$t("tdtResults.on"))+"\n    "),i.prompt?o("span",{staticClass:"region"},[i._v(i._s(i.prompt.name||""))]):i._e(),i._v("\n    "+i._s(i.$t("tdtResults.totalFind"))+"\n    "),o("span",{staticClass:"total-num"},[i._v(i._s(i.count))]),i._v("\n    "+i._s(i.$t("tdtResults.piecesResults"))+"\n  ")]):i._e(),i._v(" "),o("ul",i._l(i.data,function(e,n){return o("li",{key:n,on:{click:function(t){return i.addPointToMap(e,n)},mouseenter:function(t){return i.toggleBuoyActive(t,e)},mouseleave:function(t){return i.toggleBuoyActive(t)}}},[o("div",{class:"buoy-icon buoy-icon-"+(n+1)}),i._v(" "),o("div",{staticClass:"route-info"},[o("span",{staticClass:"name",style:i.headingTextColorStyle,attrs:{title:e.name}},[i._v(i._s(e.name))]),i._v(" "),e.phone?o("span",{staticClass:"phone",style:i.secondaryTextColorStyle},[i._v(i._s(i.$t("tdtResults.phone"))+"："+i._s(e.phone))]):i._e(),i._v(" "),o("span",{staticClass:"address",style:i.secondaryTextColorStyle,attrs:{title:e.address}},[i._v(i._s(i.$t("tdtResults.address"))+"："+i._s(e.address))])]),i._v(" "),"Route"===i.from&&"start"===i.resultBelongTo?o("div",{staticClass:"set-start-point",attrs:{title:i.$t("tdtResults.setStartPonint")},on:{click:function(t){return i.resetStartPoint(e)}}},[i._v(i._s(i.$t("tdtResults.setStartPonint")))]):i._e(),i._v(" "),"Route"===i.from&&"end"===i.resultBelongTo?o("div",{staticClass:"set-start-point",attrs:{title:i.$t("tdtResults.setEndPonint")},on:{click:function(t){return i.resetEndPoint(e)}}},[i._v(i._s(i.$t("tdtResults.setEndPonint")))]):i._e()])}),0),i._v(" "),o("Pagination",{attrs:{total:i.count,pageNo:i.pageNo,pageSize:i.pageSize,"hide-on-single-page":!0},on:{change:i.pagiantionChange}})],1):i._e()},[],!1,null,null,null);e.a=i.exports},lXRV:function(t,e,n){"use strict";var l=n("FCGg");t.exports=function(e,n){n=n||{};var i={},t=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],r=["validateStatus"];function a(t,e){return l.isPlainObject(t)&&l.isPlainObject(e)?l.merge(t,e):l.isPlainObject(e)?l.merge({},e):l.isArray(e)?e.slice():e}function c(t){l.isUndefined(n[t])?l.isUndefined(e[t])||(i[t]=a(void 0,e[t])):i[t]=a(e[t],n[t])}l.forEach(t,function(t){l.isUndefined(n[t])||(i[t]=a(void 0,n[t]))}),l.forEach(o,c),l.forEach(s,function(t){l.isUndefined(n[t])?l.isUndefined(e[t])||(i[t]=a(void 0,e[t])):i[t]=a(void 0,n[t])}),l.forEach(r,function(t){t in n?i[t]=a(e[t],n[t]):t in e&&(i[t]=a(void 0,e[t]))});var u=t.concat(o).concat(s).concat(r),r=Object.keys(e).concat(Object.keys(n)).filter(function(t){return-1===u.indexOf(t)});return l.forEach(r,c),i}},nFwm:function(t,e,n){"use strict";var o=n("FCGg");t.exports=function(n,i){o.forEach(n,function(t,e){e!==i&&e.toUpperCase()===i.toUpperCase()&&(n[i]=t,delete n[e])})}},rn6b:function(t,e,n){"use strict";var s=n("oCYn"),i=n("YKMj"),r=n("FuRH");function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=o(n);return function(t,e){{if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,i?(t=o(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(r=(s<3?o(r):3<s?o(e,n,r):o(e,n))||r);return 3<s&&r&&Object.defineProperty(e,n,r),r},n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(o,s["default"]);var t,e,n,i=u(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.apply(this,arguments)).isShow=!0,t}return t=o,(e=[{key:"positionChanged",value:function(){this.$el&&this.parentIsWebMapOrMap&&(this.remove(),this.addTo())}},{key:"created",value:function(){var t=this.$parent.$options.name;this.parentIsWebMapOrMap=t&&-1!==["smwebmap","smncpmap"].indexOf(this.$parent.$options.name.toLowerCase())}},{key:"mounted",value:function(){var t;this.filterDelayLoad=!(-1!==["smwebmap","smminimap","smncpmap"].indexOf(this.$options.name&&this.$options.name.toLowerCase())),this.$el&&this.parentIsWebMapOrMap&&(this.filterDelayLoad&&(this.isShow=!1,(t=this.$el).style&&(t.style.display="none")),t=this.getControlMapName(),r.a.$options.getMap(t)&&this.mapLoaded(r.a.$options.getMap(t)),r.a.$on("load-map",this.controlLoadMapSucceed))}},{key:"beforeDestroy",value:function(){this.remove(),r.a.$off("load-map",this.controlLoadMapSucceed)}},{key:"initControl",value:function(){var t=this;return{onAdd:function(){return t.$el},onRemove:function(){return t.map}}}},{key:"addTo",value:function(){this.control=this.initControl(),this.map.addControl(this.control,this.position),this.$el&&this.$el.classList&&this.$el.classList.add("mapboxgl-ctrl")}},{key:"remove",value:function(){this.control&&this.map&&this.map.removeControl(this.control)}},{key:"getControlMapName",value:function(){var t=this.$parent,t=t&&t.$options.name&&"smwebmap"===t.$options.name.toLowerCase()&&t.target;return this.mapTarget||t||Object.keys(r.a.$options.getAllMaps())[0]}},{key:"controlLoadMapSucceed",value:function(t,e){e===this.getControlMapName()&&this.mapLoaded(t)}},{key:"mapLoaded",value:function(t){this.map=t,this.addTo(),this.filterDelayLoad&&(this.isShow=!0,(t=this.$el)&&t.style&&(t.style.display="block"))}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}();p([Object(i.Prop)()],n.prototype,"mapTarget",void 0),p([Object(i.Prop)({default:"top-left",validator:function(t){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(t)}})],n.prototype,"position",void 0),p([Object(i.Watch)("position")],n.prototype,"positionChanged",null),n=p([i.Component],n),e.a=n},"ug+o":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},vgDi:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},wIJs:function(t,e,n){"use strict";var i=n("oTir"),o=n("7Wdd"),s=n("Y7gt"),r=n("tmJK"),s=Object.assign({},Object(s.TreeProps)()),s={name:"SmTree",defaultComponent:o.default,mixins:[i.a,r.a],inheritAttrs:!1,model:{prop:"checkedKeys",event:"check"},props:s,computed:{extralListeners:function(){var t=this;return{check:function(){t.$emit.apply(t,["check"].concat(Array.prototype.slice.call(arguments)))}}}}},n=n("KHd+"),i={name:"StatisticsResult",components:{SmTree:Object(n.a)(s,void 0,void 0,!1,null,null,null).exports},mixins:[i.a],props:{keyWord:{type:String},from:{type:String,default:"Search"},pageSize:{type:Number,default:10},priorityCitys:{type:Array},data:{type:Array},prompt:{type:Object}},data:function(){return{showMore:!0}},methods:{searchPointsResult:function(t){t={queryType:"1",queryTerminal:1e4,specifyAdminCode:t};if("Route"===this.from)return t.queryType="7",t.count=this.pageSize,void this.$emit("search-points-result",this.keyWord,t,!0);this.$emit("search-points-result",this.keyWord,t,!1)},searchDetail:function(t){var e;t.lon&&t.lat&&!t.childAdmins&&(e=[+t.lon,+t.lat],(this.$parent.map||this.$parent.$parent.map).easeTo({center:e}),this.searchPointsResult(t.adminCode))}}},i=Object(n.a)(i,function(){var i=this,t=i.$createElement,o=i._self._c||t;return i.data?o("div",{staticClass:"statistics-results-container sm-component-tdtStatisticsResults"},[o("div",{class:{title:!0,"without-split-line":!i.priorityCitys||!i.priorityCitys.length}},[i._v("\n    "+i._s(i.$t("tdtResults.on"))+"\n    "),i.prompt?o("span",{staticClass:"region"},[i._v(i._s(i.prompt.name))]):i._e(),i._v("\n    "+i._s(i.$t("tdtResults.cityHadResults"))+"\n  ")]),i._v(" "),o("div",{staticClass:"content"},[i.priorityCitys&&0<i.priorityCitys.length?o("div",{staticClass:"priority-cities"},i._l(i.priorityCitys,function(e,t){return o("div",{key:t,staticClass:"city-item add-ellipsis",on:{click:function(t){return i.searchDetail(e)}}},[o("a",{attrs:{href:"javascript:void(0)"}},[i._v("\n          "+i._s(e.name)+"\n          "),o("span",[i._v("("+i._s(e.count)+")")])])])}),0):i._e(),i._v(" "),o("div",{staticClass:"more-cities",on:{click:function(t){i.showMore=!i.showMore}}},[o("span",[i._v(i._s(i.$t("tdtResults.moreCity")))]),i._v(" "),o("i",{class:i.showMore?"sm-components-icon-solid-triangle-up":"sm-components-icon-solid-triangle-down"})]),i._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:i.showMore,expression:"showMore"}],staticClass:"cities-group"},[o("div",{staticClass:"results"},[o("sm-tree",{style:i.getTextColorStyle,attrs:{showLine:"",treeData:i.data,defaultExpandedKeys:["0-0-0"]},scopedSlots:i._u([{key:"title",fn:function(t){var e=t.title,n=t.info;return[o("div",{staticClass:"city-item add-ellipsis",on:{click:function(t){return i.searchDetail(n)}}},[o("a",{attrs:{href:"javascript:void(0)"}},[i._v("\n                "+i._s(e)+"\n                "),o("span",[i._v("（"+i._s(n.count)+"）")])])])]}}],null,!1,193813945)})],1)])])]):i._e()},[],!1,null,null,null);e.a=i.exports},wolY:function(c,t,u){"use strict";!function(t){var i=u("FCGg"),n=u("nFwm"),o=u("4xec"),e={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r,a={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:r="undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?u("Vi/L"):r,transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,e=e&&e.forcedJSONParsing,n=!n&&"json"===this.responseType;if(n||e&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw o(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){a.headers[t]={}}),i.forEach(["post","put","patch"],function(t){a.headers[t]=i.merge(e)}),c.exports=a}.call(this,u("8oxB"))},ytCg:function(t,e,n){"use strict";n.d(e,"f",function(){return d}),n.d(e,"c",function(){return m}),n.d(e,"j",function(){return v}),n.d(e,"k",function(){return y}),n.d(e,"h",function(){return g}),n.d(e,"e",function(){return b}),n.d(e,"i",function(){return _}),n.d(e,"l",function(){return w}),n.d(e,"a",function(){return P}),n.d(e,"g",function(){return R}),n.d(e,"b",function(){return x}),n.d(e,"d",function(){return S});var e=n("bOWM"),i=n.n(e),r=n("VWg+"),a=n("dnTh"),c=n("ZlC4"),u=n("0wsv"),l=n("PAl5"),e=n("P1Vz"),p=n.n(e),o=i.a.CancelToken,s=i.a.create(),h={};function d(t){var e=t.url,n=t.params,n=void 0===n?{}:n,t=t.method,t=void 0===t?"get":t,e={url:e,method:t};return"get"===t.toLowerCase()?e.params=n:e.data=n,s(e).then(function(t){return t.data}).catch(function(t){return Promise.reject(t)})}function f(t){var e=h[t];"function"==typeof e&&(e("取消重复请求"),delete h[t])}s.interceptors.request.use(function(e){return f(e.url),e.cancelToken=new o(function(t){h[e.url]=t}),e},function(t){return Promise.reject(t)}),s.interceptors.response.use(function(t){return f(t.config.url),t},function(t){var e=i.a.isCancel(t);return e?Promise.reject({isCancel:e}):Promise.reject(t.response&&t.response.data)});var m={HOME_URL:"https://www.tianditu.gov.cn",feedbackIp:"https://www.tianditu.gov.cn/feedback",T_URL:"https://map.tianditu.gov.cn",T_SSO_URL:"https://sso.tianditu.gov.cn",T_UMS_URL:"https://uums.tianditu.gov.cn",SEARCH_URL:"https://api.tianditu.gov.cn/search",DRIVE_URL:"https://api.tianditu.gov.cn/drive",BUS_URL:"https://api.tianditu.gov.cn/transit",GEOCODE_URL:"https://api.tianditu.gov.cn/geocoder",API_URL:"https://lbs.tianditu.gov.cn/"},v=function(t,e){return d({url:t,params:e})},y=function(t,e){return d({url:t,params:e})},g={searchResultPoints:"tdt-search-searchResultPoints",searchResultLine:"tdt-search-searchResultLine",searchResultPolygon:"tdt-search-searchResultPolygon",searchResultPointsOfLine:"tdt-search-searchResultPointsOfLine"},b=function(t){return{priorityCitys:t.priorityCitys,allAdmins:t.allAdmins.map(function(t,e){var o="0-".concat(e),s={key:o,title:t.name,info:t,children:[],scopedSlots:{title:"title",info:"info"}};return t.childAdmins&&t.childAdmins.forEach(function(t,e){var n="".concat(o,"-").concat(e),i={key:n,title:t.name,info:t,children:[],scopedSlots:{title:"title",info:"info"}};t.childAdmins&&t.childAdmins.forEach(function(t,e){t={key:"".concat(n,"-").concat(e),title:t.name,info:t,scopedSlots:{title:"title",info:"info"}};i.children.push(t)}),s.children.push(i)}),s})}},_=function(t,e,n){t.getLayer("".concat(e,"-highlight"))&&(n?t.setFilter("".concat(e,"-highlight"),["==","hotPointID",n]):t.setFilter("".concat(e,"-highlight"),["==","hotPointID",""]))},w=function(t){t=t.getBounds();return t.getWest().toFixed(5)+","+t.getSouth().toFixed(5)+","+t.getEast().toFixed(5)+","+t.getNorth().toFixed(5)},P=function(t,e,n){var i,o,s;n&&t&&(o=n,(i=t.getSource(e))?i.setData(o):(t.addSource(e,{type:"geojson",data:o}),(s=new Image).src=p.a,s.onload=function(){t.style.addSpriteObject(e,s,l),t.addLayer({id:e,type:"symbol",source:e,layout:{"icon-image":"buoy-icon-{serialNum}","icon-allow-overlap":!0}}),t.addLayer({id:"".concat(e,"-highlight"),type:"symbol",source:e,layout:{"icon-image":"buoy-icon-active-{serialNum}","icon-allow-overlap":!0},filter:["==","hotPointID",""]})}),n=Object(r.a)(Object(a.a)(Object(c.a)(n),1.7)),t.fitBounds([[n[0],n[1]],[n[2],n[3]]],{maxZoom:17}))},R=function(t,e){if(t)if(e&&t.getSource(e))t.getSource(e).setData({type:"FeatureCollection",features:[]});else for(var n in g)t.getSource(n)&&t.getSource(n).setData({type:"FeatureCollection",features:[]})},x=function(t,e){if(t)for(var n in g){if(e&&t.getSource(e)){t.getLayer(e)&&t.removeLayer(e),t.getLayer("".concat(e,"-highlight"))&&t.removeLayer("".concat(e,"-highlight")),t.removeSource(e);break}if(t.getSource(g[n])){switch(t.getLayer(g[n])&&t.removeLayer(g[n]),g[n]){case"tdt-search-searchResultPoints":t.removeLayer("".concat(g[n],"-highlight"));break;case"tdt-search-searchResultPointsOfLine":t.removeLayer("".concat(g[n],"-fill")),t.removeLayer("".concat(g[n],"-stroke"));break;case"tdt-search-searchResultPolygon":t.removeLayer("".concat(g[n],"-stroke"))}t.removeSource(g[n])}}},S=function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" ",n=[],i=t.length-1;0<=i;i--){var o=t[i],s={type:"Feature",geometry:{type:"Point"},properties:{}},r=(o.lonlat||"").split(e);s.geometry.coordinates=[+r[0],+r[1]],s.properties=Object.assign(o,{serialNum:i+1}),n.push(s)}return Object(u.e)(n)}}}]);